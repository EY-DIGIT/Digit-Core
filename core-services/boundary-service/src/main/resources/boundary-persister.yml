serviceMaps:
  serviceName: boundary-Service
  mappings:
    - version: 1.0
      description: Persists the boundary entity data
      fromTopic: create-boundary-entity
      isTransaction: true
      queryMaps:
        - query: INSERT INTO boundary (id ,tenantId, code, createdBy, lastModifiedBy, createdTime, lastModifiedTime) VALUES (?, ?, ?, ?, ?, ?, ?);
          basePath: $.Boundary.*
          jsonMaps:
            - jsonPath: $.Boundary.*.id

            - jsonPath: $.Boundary.*.tenantId

            - jsonPath: $.Boundary.*.code

            - jsonPath: $.Boundary.*.auditDetails.createdBy

            - jsonPath: $.Boundary.*.auditDetails.lastModifiedBy

            - jsonPath: $.Boundary.*.auditDetails.createdTime

            - jsonPath: $.Boundary.*.auditDetails.lastModifiedTime

        - query: INSERT INTO geometry (id, type, coordinates, createdBy, lastModifiedBy, createdTime, lastModifiedTime) VALUES (?, ?, ?, ?, ?, ?, ?);
          basePath: $.Boundary.*
          jsonMaps:
            - jsonPath: $.Boundary.*.id

            - jsonPath: $.Boundary.*.geometry.type

            - jsonPath: $.Boundary.*.geometry.coordinates
              type: JSON
              dbType: JSONB

            - jsonPath: $.Boundary.*.auditDetails.createdBy

            - jsonPath: $.Boundary.*.auditDetails.lastModifiedBy

            - jsonPath: $.Boundary.*.auditDetails.createdTime

            - jsonPath: $.Boundary.*.auditDetails.lastModifiedTime
