var e,n=require("react"),t=(e=n)&&"object"==typeof e&&"default"in e?e.default:e,r=require("react-router-dom"),o=require("@egovernments/digit-ui-react-components"),i=require("react-i18next"),l=require("react-hook-form");function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function u(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n.indexOf(t=i[r])>=0||(o[t]=e[t]);return o}var c=["isLoading","isError","error","data"],s=function(e){if(e){var n=new Date(e),t=n.getMonth()+1,r=n.getDate();return n.getFullYear()+"-"+(t=(t>9?"":"0")+t)+"-"+(r>9?"":"0")+r}return null},d=function(e){if(e){var n=new Date(e),t=n.getMonth()+1,r=n.getDate();return(r=(r>9?"":"0")+r)+"/"+(t=(t>9?"":"0")+t)+"/"+n.getFullYear()}return null},f=function(e){var n,t,r;void 0===e&&(e=[]);var o=Digit.UserService.getUser(),i={};return null==o||null===(n=o.info)||void 0===n||n.roles.map(function(e){i[null==e?void 0:e.code]=i[null==e?void 0:e.code]?[].concat(i[null==e?void 0:e.code],[null==e?void 0:e.tenantId]):[null==e?void 0:e.tenantId]}),Digit.ULBService.getCurrentTenantId(),i[null===(t=Digit.Utils)||void 0===t||null===(r=t.hrmsRoles)||void 0===r?void 0:r[0]].includes(Digit.ULBService.getStateId())?e:e.filter(function(e){var n,t,r;return null===(n=i[null===(t=Digit.Utils)||void 0===t||null===(r=t.hrmsRoles)||void 0===r?void 0:r[0]])||void 0===n?void 0:n.includes(null==e?void 0:e.code)})},v=["searchParams","onFilterChange","onSearch","removeParam"],m=["isLoading","isError","errors","data"],p=function(e){var r,l,c,s,d,p=e.searchParams,E=e.onFilterChange,h=u(e,v),_=n.useState((null==p||null===(r=p.filters)||void 0===r?void 0:r.role)||{role:[]}),g=_[0],y=_[1],b=n.useState(function(){return p}),S=b[0],A=b[1],R=n.useState(null),D=R[0],C=R[1],L=i.useTranslation().t,O=Digit.SessionStorage.get("HRMS_TENANTS");n.useEffect(function(){C(g.role.length>1?{name:g.role.length+" selected"}:g.role[0])},[g.role]);var N=n.useState(function(){return O.filter(function(e){var n;return e.code==(null===(n=null!=(null==p?void 0:p.tenantId)?{code:null==p?void 0:p.tenantId}:{code:Digit.ULBService.getCurrentTenantId()})||void 0===n?void 0:n.code)})[0]}),T=N[0],M=N[1],I=Digit.Hooks.hrms.useHrmsMDMS(T?T.code:null==p?void 0:p.tenantId,"egov-hrms","HRMSRolesandDesignation"),w=I.data,x=(u(I,m),n.useState(function(){return{departments:null}})),P=x[0],k=x[1],H=n.useState(function(){return{roles:null}}),F=H[0],B=H[1],U=n.useState(function(){return{isActive:!0}}),j=U[0],V=U[1];n.useEffect(function(){T.code&&A(a({},S,{tenantId:T.code}))},[T]),n.useEffect(function(){if(g.role&&g.role.length>0){var e=[];if(g.role.forEach(function(n){e.push(n.code)}),A(a({},S,{roles:[].concat(e).join(",")})),g.role&&g.role.length>1){var n=[];g.role.forEach(function(e){n.push(e.code)}),A(a({},S,{roles:[].concat(n).join(",")}))}}else g.role&&0===g.role.length&&A(a({},S,{roles:void 0}))},[g.role]),n.useEffect(function(){P&&A(a({},S,{departments:P.code}))},[P]),n.useEffect(function(){F&&A(a({},S,{roles:F.code}))},[F]),n.useEffect(function(){j&&A(a({},S,{isActive:j.code}))},[j]);var z,Y,W,G,J,$,K=function(){var e;E({delete:Object.keys(p)}),M(O.filter(function(e){return e.code==Digit.ULBService.getCurrentTenantId()})[0]),k(null),B(null),V(null),null==h||null===(e=h.onClose)||void 0===e||e.call(h),y({role:[]})};return t.createElement(t.Fragment,null,t.createElement("div",{className:"filter"},t.createElement("div",{className:"filter-card"},t.createElement("div",{className:"heading"},t.createElement("div",{className:"filter-label",style:{display:"flex",alignItems:"center"}},t.createElement("span",null,t.createElement("svg",{width:"17",height:"17",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M0.66666 2.48016C3.35999 5.9335 8.33333 12.3335 8.33333 12.3335V20.3335C8.33333 21.0668 8.93333 21.6668 9.66666 21.6668H12.3333C13.0667 21.6668 13.6667 21.0668 13.6667 20.3335V12.3335C13.6667 12.3335 18.6267 5.9335 21.32 2.48016C22 1.60016 21.3733 0.333496 20.2667 0.333496H1.71999C0.613327 0.333496 -0.01334 1.60016 0.66666 2.48016Z",fill:"#505A5F"}))),t.createElement("span",null,L("HR_COMMON_FILTER"),":")," "),t.createElement("div",{className:"clearAll",onClick:K},L("HR_COMMON_CLEAR_ALL")),"desktop"===h.type&&t.createElement("span",{className:"clear-search",onClick:K,style:{border:"1px solid #e0e0e0",padding:"6px"}},t.createElement("svg",{width:"17",height:"17",viewBox:"0 0 16 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z",fill:"#505A5F"}))),"mobile"===h.type&&t.createElement("span",{onClick:h.onClose},t.createElement(o.CloseSvg,null))),t.createElement("div",null,t.createElement("div",null,t.createElement("div",{className:"filter-label"},L("HR_ULB_LABEL")),t.createElement(o.Dropdown,{option:[].concat(null===(l=f(O))||void 0===l?void 0:l.sort(function(e,n){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.localeCompare(null==n?void 0:n.name)}).map(function(e){return a({},e,{i18text:Digit.Utils.locale.getCityLocale(e.code)})})),selected:T,select:M,optionKey:"i18text",t:L})),t.createElement("div",null,t.createElement("div",{className:"filter-label"},L("HR_COMMON_TABLE_COL_DEPT")),t.createElement(o.Dropdown,{option:Digit.Utils.locale.convertToLocaleData(null==w||null===(c=w.MdmsRes)||void 0===c||null===(s=c["common-masters"])||void 0===s?void 0:s.Department,"COMMON_MASTERS_DEPARTMENT"),selected:P,select:k,optionKey:"i18text",t:L})),t.createElement("div",null,t.createElement("div",null,(z=L("HR_COMMON_TABLE_COL_ROLE"),Y=Digit.Utils.locale.convertToLocaleData(null==w||null===(d=w.MdmsRes["ACCESSCONTROL-ROLES"])||void 0===d?void 0:d.roles,"ACCESSCONTROL_ROLES_ROLES",L),W=(W=D)||((G={}).i18text=" ",G.code="",G),t.createElement("div",null,t.createElement("div",{className:"filter-label"},z),t.createElement(o.Dropdown,{option:Y,selected:W,select:function(e){return function(e,n){var t,r;r=e,(null==(t=g.role)?void 0:t.filter(function(e){return e.code===r.code}).length)||y(a({},g,{role:[].concat(g.role,[e])}))}(e)},optionKey:"i18text"}),t.createElement("div",{className:"tag-container"},(null==g||null===(J=g.role)||void 0===J?void 0:J.length)>0&&(null==g||null===($=g.role)||void 0===$?void 0:$.map(function(e,n){return t.createElement(o.RemoveableTag,{key:n,text:e.i18text.slice(0,22)+" ...",onClick:function(){return function(e,n){var t,r=g.role.filter(function(n,t){return t!==e});y(a({},g,((t={}).role=r,t)))}(n)}})}))))))),t.createElement("div",null,t.createElement("div",{className:"filter-label"},L("HR_EMP_STATUS_LABEL")),t.createElement(o.RadioButtons,{onSelect:V,selected:j,selectedOption:j,optionsKey:"name",options:[{code:!0,name:L("HR_ACTIVATE_HEAD")},{code:!1,name:L("HR_DEACTIVATE_HEAD")}]}),"mobile"!==h.type&&t.createElement("div",null,t.createElement(o.SubmitBar,{onSubmit:function(){return E(S)},label:L("HR_COMMON_APPLY")})))))),"mobile"===h.type&&t.createElement(o.ActionBar,null,t.createElement(o.ApplyFilterBar,{submit:!1,labelLink:L("ES_COMMON_CLEAR_ALL"),buttonLink:L("ES_COMMON_FILTER"),onClear:K,onSubmit:function(){var e;E(S),null==h||null===(e=h.onClose)||void 0===e||e.call(h)},style:{flex:1}})))};"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var E,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_="object"==typeof self&&self&&self.Object===Object&&self,g="object"==typeof h&&h&&h.Object===Object&&h||_||Function("return this")(),y=g.Symbol,b=Object.prototype,S=b.hasOwnProperty,A=b.toString,R=y?y.toStringTag:void 0,D=Object.prototype.toString,C=y?y.toStringTag:void 0,L=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":C&&C in Object(e)?function(e){var n=S.call(e,R),t=e[R];try{e[R]=void 0;var r=!0}catch(e){}var o=A.call(e);return r&&(n?e[R]=t:delete e[R]),o}(e):function(e){return D.call(e)}(e)},O=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},N=g["__core-js_shared__"],T=(E=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",M=Function.prototype.toString,I=/^\[object .+?Constructor\]$/,w=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=function(e,n){var t=function(e,n){return null==e?void 0:e[n]}(e,n);return function(e){return!(!O(e)||(n=e,T&&T in n))&&(function(e){if(!O(e))return!1;var n=L(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}(e)?w:I).test(function(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var n}(t)?t:void 0},P=function(){try{var e=x(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),k=function(e,n){return e===n||e!=e&&n!=n},H=Object.prototype.hasOwnProperty,F=function(e,n,t){var r=e[n];H.call(e,n)&&k(r,t)&&(void 0!==t||n in e)||function(e,n,t){"__proto__"==n&&P?P(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}(e,n,t)},B=Array.isArray,U=function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==L(e)},j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,z=x(Object,"create"),Y=Object.prototype.hasOwnProperty,W=Object.prototype.hasOwnProperty;function G(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}G.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},G.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},G.prototype.get=function(e){var n=this.__data__;if(z){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return Y.call(n,e)?n[e]:void 0},G.prototype.has=function(e){var n=this.__data__;return z?void 0!==n[e]:W.call(n,e)},G.prototype.set=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=z&&void 0===n?"__lodash_hash_undefined__":n,this};var J=G,$=function(e,n){for(var t=e.length;t--;)if(k(e[t][0],n))return t;return-1},K=Array.prototype.splice;function q(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(e){var n=this.__data__,t=$(n,e);return!(t<0||(t==n.length-1?n.pop():K.call(n,t,1),--this.size,0))},q.prototype.get=function(e){var n=this.__data__,t=$(n,e);return t<0?void 0:n[t][1]},q.prototype.has=function(e){return $(this.__data__,e)>-1},q.prototype.set=function(e,n){var t=this.__data__,r=$(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this};var Z=q,X=x(g,"Map"),Q=function(e,n){var t,r,o=e.__data__;return("string"==(r=typeof(t=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?o["string"==typeof n?"string":"hash"]:o.map};function ee(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}ee.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(X||Z),string:new J}},ee.prototype.delete=function(e){var n=Q(this,e).delete(e);return this.size-=n?1:0,n},ee.prototype.get=function(e){return Q(this,e).get(e)},ee.prototype.has=function(e){return Q(this,e).has(e)},ee.prototype.set=function(e,n){var t=Q(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this};var ne=ee;function te(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function t(){var r=arguments,o=n?n.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var l=e.apply(this,r);return t.cache=i.set(o,l)||i,l};return t.cache=new(te.Cache||ne),t}te.Cache=ne;var re,oe,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,le=/\\(\\)?/g,ae=(re=te(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(ie,function(e,t,r,o){n.push(r?o.replace(le,"$1"):t||e)}),n},function(e){return 500===oe.size&&oe.clear(),e}),oe=re.cache,re),ue=y?y.prototype:void 0,ce=ue?ue.toString:void 0,se=/^(?:0|[1-9]\d*)$/,de=function(e,n){var t=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&se.test(e))&&e>-1&&e%1==0&&e<n},fe=function(e){if("string"==typeof e||U(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},ve=function(e,n,t){return null==e?e:function(e,n,t,r){if(!O(e))return e;for(var o=-1,i=(n=function(e,n){return B(e)?e:function(e,n){if(B(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!U(e))||V.test(e)||!j.test(e)||null!=n&&e in Object(n)}(e,n)?[e]:ae(function(e){return null==e?"":function e(n){if("string"==typeof n)return n;if(B(n))return function(e,n){for(var t=-1,r=null==e?0:e.length,o=Array(r);++t<r;)o[t]=n(e[t],t,e);return o}(n,e)+"";if(U(n))return ce?ce.call(n):"";var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}(e)}(e))}(n,e)).length,l=i-1,a=e;null!=a&&++o<i;){var u=fe(n[o]),c=t;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=l){var s=a[u];void 0===(c=void 0)&&(c=O(s)?s:de(n[o+1])?[]:{})}F(a,u,c),a=a[u]}return e}(e,n,t)},me=["isLoading","isError","errors","data"],pe=function(e){var i,l,a,c=e.t,d=e.action,f=e.tenantId,v=e.closeModal,m=e.applicationData,p=r.useHistory(),E=n.useState({}),h=E[0],_=E[1],g=n.useState(null),y=g[0],b=g[1],S=n.useState(null),A=S[0],R=S[1],D=n.useState(null)[1],C=n.useState([]),L=C[0],O=C[1],N=n.useState(""),T=N[0],M=N[1],I=Digit.ULBService.getStateId()||(null==f||null===(i=f.split("."))||void 0===i?void 0:i[0]),w=Digit.Hooks.hrms.useHrmsMDMS(I,"egov-hrms","DeactivationReason"),x=w.isLoading,P=w.data;u(w,me),n.useEffect(function(){if((null==L?void 0:L.length)>0)switch(d){case"DEACTIVATE_EMPLOYEE_HEAD":return _(function(e){var n=e.t,r=e.selectFile,i=e.uploadedFile,l=e.setUploadedFile,a=e.selectedReason,u=e.Reasons,c=e.selectReason;return{label:{heading:"HR_DEACTIVATE_EMPLOYEE_HEAD",submit:"HR_DEACTIVATE_EMPLOYEE_HEAD"},form:[{body:[{label:n("HR_DEACTIVATION_REASON"),isMandatory:!0,name:"reasonForDeactivation",populators:t.createElement(o.Dropdown,{isMandatory:!0,selected:a,optionKey:"i18key",option:u,select:c,t:n})},{label:n("HR_ORDER_NO"),type:"text",populators:{name:"orderNo"}},{label:n("HR_EFFECTIVE_DATE"),type:"date",isMandatory:!0,disable:!0,populators:{error:n("HR_EFFECTIVE_DATE_INVALID"),name:"effectiveFrom",min:s((new Date).toJSON().slice(0,10).replace(/-/g,"/")),max:s((new Date).toJSON().slice(0,10).replace(/-/g,"/")),defaultValue:s((new Date).toJSON().slice(0,10).replace(/-/g,"/"))}},{label:n("HR_APPROVAL_UPLOAD_HEAD"),populators:t.createElement("div",{style:{marginBottom:"2rem"}},t.createElement("span",null,n("TL_APPROVAL_UPLOAD_SUBHEAD")),t.createElement(o.UploadFile,{id:"hrms-deactivation-doc",onUpload:r,onDelete:function(){l(null)},message:i?"1 "+n("HR_ACTION_FILEUPLOADED"):n("HR_ACTION_NO_FILEUPLOADED")}))},{label:n("HR_REMARKS"),type:"text",populators:{name:"remarks"}}]}]}}({t:c,action:d,selectFile:U,uploadedFile:A,setUploadedFile:R,selectedReason:T,Reasons:L,selectReason:H}));case"ACTIVATE_EMPLOYEE_HEAD":return _(function(e){var n,r,i=e.t,l=e.selectFile,a=e.uploadedFile,u=e.setUploadedFile,c=e.selectedReason,d=e.Reasons,f=e.selectReason,v=e.employees,m=void 0===v?{}:v;return m.deactivationDetails=null==m||null===(n=m.deactivationDetails)||void 0===n?void 0:n.sort(function(e,n){var t,r;return(null==n||null===(t=n.auditDetails)||void 0===t?void 0:t.createdDate)-(null==e||null===(r=e.auditDetails)||void 0===r?void 0:r.createdDate)}),{label:{heading:"HR_ACTIVATE_EMPLOYEE_HEAD",submit:"HR_ACTIVATE_EMPLOYEE_HEAD"},form:[{body:[{label:i("HR_ACTIVATION_REASON"),isMandatory:!0,name:"reasonForDeactivation",populators:t.createElement(o.Dropdown,{isMandatory:!0,selected:c,optionKey:"i18key",option:d,select:f,t:i})},{label:i("HR_ORDER_NO"),type:"text",populators:{name:"orderNo"}},{label:i("HR_EFFECTIVE_DATE"),type:"date",isMandatory:!0,disable:!0,populators:{error:i("HR_EFFECTIVE_DATE_INVALID"),name:"effectiveFrom",min:s(null==m||null===(r=m.deactivationDetails)||void 0===r?void 0:r[0].effectiveFrom),max:s((new Date).toJSON().slice(0,10).replace(/-/g,"/")),defaultValue:s((new Date).toJSON().slice(0,10).replace(/-/g,"/"))}},{label:i("HR_APPROVAL_UPLOAD_HEAD"),populators:t.createElement("div",{style:{marginBottom:"2rem"}},t.createElement("span",null,i("TL_APPROVAL_UPLOAD_SUBHEAD")),t.createElement(o.UploadFile,{id:"hrms-activation-doc",accept:"image/*, .pdf, .png, .jpeg",onUpload:l,onDelete:function(){u(null)},message:a?"1 "+i("HR_ACTION_FILEUPLOADED"):i("HR_ACTION_NO_FILEUPLOADED")}))},{label:i("HR_REMARKS"),type:"text",populators:{name:"remarks"}}]}]}}({t:c,action:d,selectFile:U,uploadedFile:A,setUploadedFile:R,selectedReason:T,Reasons:L,selectReason:H,employees:(null==m?void 0:m.Employees[0])||{}}))}},[d,A,L]);var k=function(e){return t.createElement("h1",{className:"heading-m"},e.label)};function H(e){M(e)}var F=function(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFFFFF"},t.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),t.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))},B=function(e){return t.createElement("div",{className:"icon-bg-secondary",onClick:e.onClick},t.createElement(F,null))};function U(e){b(e.target.files[0])}return n.useEffect(function(){var e;O(null==P||null===(e=P["egov-hrms"])||void 0===e?void 0:e.DeactivationReason.map(function(e){return e.i18key="EGOV_HRMS_DEACTIVATIONREASON_"+e.code,e}))},[P,x]),n.useEffect(function(){!function(){try{D(null);var e=function(){if(y){var e=function(){if(y.size>=5242880)D(c("CS_MAXIMUM_UPLOAD_SIZE_EXCEEDED"));else{var e=function(e,n){try{var t=(R(null),Promise.resolve(Digit.UploadServices.Filestorage("HRMS",y,Digit.ULBService.getStateId())).then(function(e){var n,t,r,o;(null==e||null===(n=e.data)||void 0===n||null===(t=n.files)||void 0===t?void 0:t.length)>0?R(null==e||null===(r=e.data)||void 0===r||null===(o=r.files[0])||void 0===o?void 0:o.fileStoreId):D(c("CS_FILE_UPLOAD_ERROR"))}))}catch(e){return n()}return t&&t.then?t.then(void 0,n):t}(0,function(){D(c("CS_FILE_UPLOAD_ERROR"))});if(e&&e.then)return e.then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();e&&e.then&&e.then(function(){})}catch(e){Promise.reject(e)}}()},[y]),d&&null!=h&&h.form?t.createElement(o.Modal,{headerBarMain:t.createElement(k,{label:c(null==h||null===(l=h.label)||void 0===l?void 0:l.heading)}),headerBarEnd:t.createElement(B,{onClick:v}),actionCancelOnSubmit:v,actionSaveLabel:c(null==h||null===(a=h.label)||void 0===a?void 0:a.submit),actionSaveOnSubmit:function(){},formId:"modal-action",isDisabled:!T},t.createElement(o.FormComposer,{config:null==h?void 0:h.form,noBoxShadow:!0,inline:!0,disabled:!0,childrenAtTheBottom:!0,onSubmit:function(e){e.effectiveFrom=new Date(e.effectiveFrom).getTime(),e.reasonForDeactivation=T.code;var n,t,r=[].concat(m.Employees);"ACTIVATE_EMPLOYEE_HEAD"!==d?(y&&m.Employees[0].documents.push({referenceType:"DEACTIVATION",documentId:A,documentName:y.name}),ve(r[0],"deactivationDetails[0].effectiveFrom",null==e?void 0:e.effectiveFrom),ve(r[0],"deactivationDetails[0].orderNo",null==e?void 0:e.orderNo),ve(r[0],"deactivationDetails[0].reasonForDeactivation",null==e?void 0:e.reasonForDeactivation),ve(r[0],"deactivationDetails[0].remarks",null==e?void 0:e.remarks),r[0].isActive=!1,p.replace("/"+(null===(n=window)||void 0===n?void 0:n.contextPath)+"/employee/hrms/response",{Employees:r,key:"UPDATE",action:"DEACTIVATION"})):(y&&m.Employees[0].documents.push({referenceType:"ACTIVATION",documentId:A,documentName:y.name}),ve(r[0],"reactivationDetails[0].effectiveFrom",null==e?void 0:e.effectiveFrom),ve(r[0],"reactivationDetails[0].orderNo",null==e?void 0:e.orderNo),ve(r[0],"reactivationDetails[0].reasonForDeactivation",null==e?void 0:e.reasonForDeactivation),ve(r[0],"reactivationDetails[0].remarks",null==e?void 0:e.remarks),r[0].isActive=!0,p.replace("/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee/hrms/response",{Employees:r,key:"UPDATE",action:"ACTIVATION"}))},formId:"modal-action"})):t.createElement(o.Loader,null)},Ee=function(e){return t.createElement(pe,e)},he=function e(n){if(n)return Object.keys(n).reduce(function(t,r){return void 0===n[r]||(t[r]="object"==typeof n[r]?e(n[r]):n[r]),t},{})};function _e(e){var n,r=e.t,i=e.assignment,l=e.assignments,u=e.setassignments,c=e.index,d=e.focusIndex,f=e.setFocusIndex,v=e.getdepartmentdata,m=e.department,p=e.formData,E=e.handleRemoveUnit,h=e.designation,_=e.getdesignationdata,g=e.setCurrentAssiginmentDate,y=e.currentassignemtDate;return t.createElement("div",{key:c+1,style:{marginBottom:"16px"}},t.createElement("div",{style:{border:"1px solid #E3E3E3",padding:"16px",marginTop:"8px"}},t.createElement(o.LabelFieldPair,null,t.createElement("div",{className:"label-field-pair",style:{width:"100%"}},t.createElement("h2",{className:"card-label card-label-smaller",style:{color:"#505A5F"}},r("HR_ASSIGNMENT")," ",c+1)),!(l.length>1)||null!=i&&i.id||null!=i&&i.isCurrentAssignment?null:t.createElement("div",{onClick:function(){return E(i)},style:{marginBottom:"16px",padding:"5px",cursor:"pointer",textAlign:"right"}},"X")),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"}," ",r("HR_ASMT_FROM_DATE_LABEL")+" * "," "),t.createElement("div",{className:"field"},t.createElement(o.DatePicker,{type:"date",name:"fromDate",max:y||s(new Date),min:null==p||null===(n=p.SelectDateofEmployment)||void 0===n?void 0:n.dateOfAppointment,disabled:!(null==i||!i.id),onChange:function(e){u(function(n){return n.map(function(n){return n.key===i.key?a({},n,{fromDate:e}):n})}),f(c)},date:null==i?void 0:i.fromDate,autoFocus:d===c}))),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},r("HR_ASMT_TO_DATE_LABEL"),null!=i&&i.isCurrentAssignment?"":" * "," "),t.createElement("div",{className:"field"},t.createElement(o.DatePicker,{type:"date",name:"toDate",min:null==i?void 0:i.fromDate,max:y||s(new Date),disabled:null==i?void 0:i.isCurrentAssignment,onChange:function(e){u(function(n){return n.map(function(n){return n.key===i.key?a({},n,{toDate:e}):n})}),f(c)},date:null==i?void 0:i.toDate,autoFocus:d===c}))),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller",style:{color:"white"}},"."),t.createElement("div",{className:"field"},t.createElement(o.CheckBox,{onChange:function(e){return n=e.target.checked,u(function(e){return e.map(function(e){return a({},e,e.key===i.key?{isCurrentAssignment:n}:{isCurrentAssignment:!1})})}),void(n?(u(function(e){return e.map(function(e){return e.key===i.key?a({},e,{toDate:null}):e})}),l.map(function(e){e.key==i.key&&g(e.fromDate)})):g(null));var n},checked:null==i?void 0:i.isCurrentAssignment,label:r("HR_CURRENTLY_ASSIGNED_HERE_SWITCH_LABEL")}))),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"}," ",r("HR_DEPT_LABEL")+" * "),t.createElement(o.Dropdown,{className:"form-field",selected:null==i?void 0:i.department,disable:!(null==i||!i.id),optionKey:"i18key",option:v(m)||[],select:function(e){u(function(n){return n.map(function(n){return n.key===i.key?a({},n,{department:e}):n})})},optionCardStyles:{maxHeight:"300px"},t:r})),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},r("HR_DESG_LABEL")+" * "),t.createElement(o.Dropdown,{className:"form-field",selected:null==i?void 0:i.designation,disable:!(null==i||!i.id),option:_(h)||[],select:function(e){u(function(n){return n.map(function(n){return n.key===i.key?a({},n,{designation:e}):n})})},optionCardStyles:{maxHeight:"250px"},optionKey:"i18key",t:r}))))}function ge(e){var r=e.t,i=e.data,l=e.jurisdiction,u=e.jurisdictions,c=e.setjurisdictions,s=e.gethierarchylistdata,d=e.handleRemoveUnit,f=e.hierarchylist,v=e.getroledata,m=e.roleoption,p=e.index,E=n.useState([]),h=E[0],_=E[1],g=n.useState([]),y=g[0],b=g[1];n.useEffect(function(){var e;_(null==i||null===(e=i.MdmsRes)||void 0===e?void 0:e["egov-location"].TenantBoundary.filter(function(e){var n,t;return(null==e||null===(n=e.hierarchyType)||void 0===n?void 0:n.code)==(null==l||null===(t=l.hierarchy)||void 0===t?void 0:t.code)}).map(function(e){return a({},e.boundary,{i18text:Digit.Utils.locale.convertToLocale(e.boundary.label,"EGOV_LOCATION_BOUNDARYTYPE")})}))},[null==l?void 0:l.hierarchy,null==i?void 0:i.MdmsRes]),Digit.ULBService.getCurrentTenantId(),n.useEffect(function(){var e,n;b(null==i||null===(e=i.MdmsRes)||void 0===e||null===(n=e.tenant)||void 0===n?void 0:n.tenants.filter(function(e){return e.code!=Digit.ULBService.getStateId()}).map(function(e){return a({},e,{i18text:Digit.Utils.locale.getCityLocale(e.code)})}))},[null==l?void 0:l.boundaryType,null==i?void 0:i.MdmsRes]),n.useEffect(function(){(null==y?void 0:y.length)>0&&S(null==y?void 0:y.filter(function(e){var n;return e.code==(null==l||null===(n=l.boundary)||void 0===n?void 0:n.code)})[0])},[y]);var S=function(e){c(function(n){return n.map(function(n){return n.key===l.key?a({},n,{boundary:e}):n})})};return t.createElement("div",{key:null==l?void 0:l.keys,style:{marginBottom:"16px"}},t.createElement("div",{style:{border:"1px solid #E3E3E3",padding:"16px",marginTop:"8px"}},t.createElement(o.LabelFieldPair,null,t.createElement("div",{className:"label-field-pair",style:{width:"100%"}},t.createElement("h2",{className:"card-label card-label-smaller",style:{color:"#505A5F"}},r("HR_JURISDICTION")," ",p+1)),u.length>1?t.createElement("div",{onClick:function(){return d(l)},style:{marginBottom:"16px",padding:"5px",cursor:"pointer",textAlign:"right"}},"X"):null),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{isMandatory:!0,className:"card-label-smaller"},r("HR_HIERARCHY_LABEL")+" * "),t.createElement(o.Dropdown,{className:"form-field",selected:null==l?void 0:l.hierarchy,disable:!1,isMandatory:!0,option:s(f)||[],select:function(e){c(function(n){return n.map(function(n){return n.key===l.key?a({},n,{hierarchy:e}):n})})},optionKey:"code",t:r})),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},r("HR_BOUNDARY_TYPE_LABEL")+" * "),t.createElement(o.Dropdown,{className:"form-field",isMandatory:!0,selected:null==l?void 0:l.boundaryType,disable:0===(null==h?void 0:h.length),option:h,select:function(e){c(function(n){return n.map(function(n){return n.key===l.key?a({},n,{boundaryType:e}):n})})},optionKey:"i18text",t:r})),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},r("HR_BOUNDARY_LABEL")+" * "),t.createElement(o.Dropdown,{className:"form-field",isMandatory:!0,selected:null==l?void 0:l.boundary,disable:0===(null==y?void 0:y.length),option:y,select:S,optionKey:"i18text",t:r})),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},r("HR_COMMON_TABLE_COL_ROLE")," *"),t.createElement("div",{className:"form-field"},t.createElement(o.MultiSelectDropdown,{className:"form-field",isMandatory:!0,defaultUnit:"Selected",selected:null==l?void 0:l.roles,options:v(m),onSelect:function(e,n){var t=[];e&&(null==e||e.map(function(e){t.push(null==e?void 0:e[1])})),null==t||t.forEach(function(e){e.labelKey="ACCESSCONTROL_ROLES_ROLES_"+e.code}),c(function(e){return e.map(function(e){return e.key===l.key?a({},e,{roles:t}):e})})},optionsKey:"labelKey",t:r}),t.createElement("div",{className:"tag-container"},(null==l?void 0:l.roles.length)>0&&(null==l?void 0:l.roles.map(function(e,n){return t.createElement(o.RemoveableTag,{key:n,text:r(e.labelKey).slice(0,22)+" ...",onClick:function(){return function(e,n){var t=null==l?void 0:l.roles.filter(function(n,t){return t!==e});c(function(e){return e.map(function(e){return e.key===l.key?a({},e,{roles:t}):e})})}(n)}})})))))))}var ye,be=function(e){var l,u,c,s,d,f,v,m,p,E,h,_=e.path,g=i.useTranslation().t,y=r.useLocation(),b=innerWidth<=640,S={searchParams:{tenantId:Digit.ULBService.getCurrentTenantId()}},A=null===(l=Digit)||void 0===l||null===(u=l.ComponentRegistryService)||void 0===u?void 0:u.getComponent("HRMSResponse"),R=null===(c=Digit)||void 0===c||null===(s=c.ComponentRegistryService)||void 0===s?void 0:s.getComponent("HRMSDetails"),D=null===(d=Digit)||void 0===d||null===(f=d.ComponentRegistryService)||void 0===f?void 0:f.getComponent("HRInbox"),C=null===(v=Digit)||void 0===v||null===(m=v.ComponentRegistryService)||void 0===m?void 0:m.getComponent("HRCreateEmployee"),L=null===(p=Digit)||void 0===p||null===(E=p.ComponentRegistryService)||void 0===E?void 0:E.getComponent("HREditEmpolyee"),O=Digit.Hooks.useSessionStorage("NEW_EMPLOYEE_CREATE",{}),N=O[0],T=O[2];return n.useEffect(function(){!window.location.href.includes("/hrms/create")&&N&&0!=Object.keys(N)&&T()},[y]),t.createElement(r.Switch,null,t.createElement(t.Fragment,null,t.createElement("div",{className:"ground-container"},t.createElement("p",{className:"breadcrumb",style:{marginLeft:b?"1vw":"0px"}},t.createElement(r.Link,{to:"/"+(null===(h=window)||void 0===h?void 0:h.contextPath)+"/employee",style:{cursor:"pointer",color:"#666"}},g("HR_COMMON_BUTTON_HOME"))," ","/ ",t.createElement("span",null,(window,g("HR_COMMON_HEADER")))),t.createElement(o.PrivateRoute,{path:_+"/inbox",component:function(){return t.createElement(D,{parentRoute:_,businessService:"hrms",filterComponent:"HRMS_INBOX_FILTER",initialStates:S,isInbox:!0})}}),t.createElement(o.PrivateRoute,{path:_+"/create",component:function(){return t.createElement(C,null)}}),t.createElement(o.PrivateRoute,{path:_+"/response",component:function(e){return t.createElement(A,a({},e,{parentRoute:_}))}}),t.createElement(o.PrivateRoute,{path:_+"/details/:tenantId/:id",component:function(){return t.createElement(R,null)}}),t.createElement(o.PrivateRoute,{path:_+"/edit/:tenantId/:id",component:function(){return t.createElement(L,null)}}))))},Se=[{head:"Personal Details",body:[{type:"component",component:"SelectEmployeeName",key:"SelectEmployeeName",withoutLabel:!0},{type:"component",component:"SelectEmployeePhoneNumber",key:"SelectEmployeePhoneNumber",withoutLabel:!0},{type:"component",component:"SelectEmployeeGender",key:"SelectEmployeeGender",withoutLabel:!0},{type:"component",component:"SelectDateofBirthEmployment",key:"SelectDateofBirthEmployment",withoutLabel:!0},{type:"component",component:"SelectEmployeeEmailId",key:"SelectEmployeeEmailId",withoutLabel:!0},{type:"component",component:"SelectEmployeeCorrespondenceAddress",key:"SelectEmployeeCorrespondenceAddress",withoutLabel:!0}]},{head:"HR_NEW_EMPLOYEE_FORM_HEADER",body:[{type:"component",component:"SelectEmployeeType",key:"SelectEmployeeType",withoutLabel:!0},{type:"component",component:"SelectDateofEmployment",key:"SelectDateofEmployment",withoutLabel:!0},{type:"component",component:"SelectEmployeeId",key:"SelectEmployeeId",withoutLabel:!0},{type:"component",component:"HRBanner",key:"Banner1",withoutLabel:!0,texts:{headerCaption:"Info",header:"HR_EMP_ID_MESSAGE"}}]},{head:"HR_JURISDICTION_DETAILS_HEADER",body:[{type:"component",isMandatory:!0,component:"Jurisdictions",key:"Jurisdictions",withoutLabel:!0}]},{head:"HR_ASSIGN_DET_HEADER",body:[{type:"component",component:"HRBanner",key:"Banner2",withoutLabel:!0,texts:{nosideText:!0,headerCaption:"Info",header:"HR_ASSIGN_DET_SUB_HEADER"}},{type:"component",component:"Assignments",key:"Assignments",withoutLabel:!0}]}],Ae=(function(e,n){(function(){var t="Expected a function",r="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],i="[object Arguments]",l="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",s="[object Function]",d="[object GeneratorFunction]",f="[object Map]",v="[object Number]",m="[object Object]",p="[object RegExp]",E="[object Set]",_="[object String]",g="[object Symbol]",y="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",R="[object Float64Array]",D="[object Int8Array]",C="[object Int16Array]",L="[object Int32Array]",O="[object Uint8Array]",N="[object Uint16Array]",T="[object Uint32Array]",M=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,w=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,k=RegExp(x.source),H=RegExp(P.source),F=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,W=RegExp(Y.source),G=/^\s+/,J=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,q=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X=/[()=,{}\[\]\/\s]/,Q=/\\(\\)?/g,ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,te=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ie=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+de+"]",ve="["+se+"]",me="\\d+",pe="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ee="[^\\ud800-\\udfff"+de+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",he="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",ge="(?:\\ud83c[\\udde6-\\uddff]){2}",ye="[\\ud800-\\udbff][\\udc00-\\udfff]",be="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+pe+"|"+Ee+")",Ae="(?:"+be+"|"+Ee+")",Re="(?:"+ve+"|"+he+")?",De="[\\ufe0e\\ufe0f]?"+Re+"(?:\\u200d(?:"+[_e,ge,ye].join("|")+")[\\ufe0e\\ufe0f]?"+Re+")*",Ce="(?:"+["[\\u2700-\\u27bf]",ge,ye].join("|")+")"+De,Le="(?:"+[_e+ve+"?",ve,ge,ye,"[\\ud800-\\udfff]"].join("|")+")",Oe=RegExp("['’]","g"),Ne=RegExp(ve,"g"),Te=RegExp(he+"(?="+he+")|"+Le+De,"g"),Me=RegExp([be+"?"+pe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[fe,be,"$"].join("|")+")",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[fe,be+Se,"$"].join("|")+")",be+"?"+Se+"+(?:['’](?:d|ll|m|re|s|t|ve))?",be+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,Ce].join("|"),"g"),Ie=RegExp("[\\u200d\\ud800-\\udfff"+se+"\\ufe0e\\ufe0f]"),we=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pe=-1,ke={};ke[A]=ke[R]=ke[D]=ke[C]=ke[L]=ke[O]=ke["[object Uint8ClampedArray]"]=ke[N]=ke[T]=!0,ke[i]=ke[l]=ke[b]=ke[a]=ke[S]=ke[u]=ke[c]=ke[s]=ke[f]=ke[v]=ke[m]=ke[p]=ke[E]=ke[_]=ke[y]=!1;var He={};He[i]=He[l]=He[b]=He[S]=He[a]=He[u]=He[A]=He[R]=He[D]=He[C]=He[L]=He[f]=He[v]=He[m]=He[p]=He[E]=He[_]=He[g]=He[O]=He["[object Uint8ClampedArray]"]=He[N]=He[T]=!0,He[c]=He[s]=He[y]=!1;var Fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Be=parseFloat,Ue=parseInt,je="object"==typeof h&&h&&h.Object===Object&&h,Ve="object"==typeof self&&self&&self.Object===Object&&self,ze=je||Ve||Function("return this")(),Ye=n&&!n.nodeType&&n,We=Ye&&e&&!e.nodeType&&e,Ge=We&&We.exports===Ye,Je=Ge&&je.process,$e=function(){try{return We&&We.require&&We.require("util").types||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Ke=$e&&$e.isArrayBuffer,qe=$e&&$e.isDate,Ze=$e&&$e.isMap,Xe=$e&&$e.isRegExp,Qe=$e&&$e.isSet,en=$e&&$e.isTypedArray;function nn(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function tn(e,n,t,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var l=e[o];n(r,l,t(l),e)}return r}function rn(e,n){for(var t=-1,r=null==e?0:e.length;++t<r&&!1!==n(e[t],t,e););return e}function on(e,n){for(var t=null==e?0:e.length;t--&&!1!==n(e[t],t,e););return e}function ln(e,n){for(var t=-1,r=null==e?0:e.length;++t<r;)if(!n(e[t],t,e))return!1;return!0}function an(e,n){for(var t=-1,r=null==e?0:e.length,o=0,i=[];++t<r;){var l=e[t];n(l,t,e)&&(i[o++]=l)}return i}function un(e,n){return!(null==e||!e.length)&&_n(e,n,0)>-1}function cn(e,n,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(n,e[r]))return!0;return!1}function sn(e,n){for(var t=-1,r=null==e?0:e.length,o=Array(r);++t<r;)o[t]=n(e[t],t,e);return o}function dn(e,n){for(var t=-1,r=n.length,o=e.length;++t<r;)e[o+t]=n[t];return e}function fn(e,n,t,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(t=e[++o]);++o<i;)t=n(t,e[o],o,e);return t}function vn(e,n,t,r){var o=null==e?0:e.length;for(r&&o&&(t=e[--o]);o--;)t=n(t,e[o],o,e);return t}function mn(e,n){for(var t=-1,r=null==e?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}var pn=Sn("length");function En(e,n,t){var r;return t(e,function(e,t,o){if(n(e,t,o))return r=t,!1}),r}function hn(e,n,t,r){for(var o=e.length,i=t+(r?1:-1);r?i--:++i<o;)if(n(e[i],i,e))return i;return-1}function _n(e,n,t){return n==n?function(e,n,t){for(var r=t-1,o=e.length;++r<o;)if(e[r]===n)return r;return-1}(e,n,t):hn(e,yn,t)}function gn(e,n,t,r){for(var o=t-1,i=e.length;++o<i;)if(r(e[o],n))return o;return-1}function yn(e){return e!=e}function bn(e,n){var t=null==e?0:e.length;return t?Dn(e,n)/t:NaN}function Sn(e){return function(n){return null==n?void 0:n[e]}}function An(e){return function(n){return null==e?void 0:e[n]}}function Rn(e,n,t,r,o){return o(e,function(e,o,i){t=r?(r=!1,e):n(t,e,o,i)}),t}function Dn(e,n){for(var t,r=-1,o=e.length;++r<o;){var i=n(e[r]);void 0!==i&&(t=void 0===t?i:t+i)}return t}function Cn(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}function Ln(e){return e?e.slice(0,Wn(e)+1).replace(G,""):e}function On(e){return function(n){return e(n)}}function Nn(e,n){return sn(n,function(n){return e[n]})}function Tn(e,n){return e.has(n)}function Mn(e,n){for(var t=-1,r=e.length;++t<r&&_n(n,e[t],0)>-1;);return t}function In(e,n){for(var t=e.length;t--&&_n(n,e[t],0)>-1;);return t}function wn(e,n){for(var t=e.length,r=0;t--;)e[t]===n&&++r;return r}var xn=An({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Pn=An({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kn(e){return"\\"+Fe[e]}function Hn(e){return Ie.test(e)}function Fn(e){var n=-1,t=Array(e.size);return e.forEach(function(e,r){t[++n]=[r,e]}),t}function Bn(e,n){return function(t){return e(n(t))}}function Un(e,n){for(var t=-1,o=e.length,i=0,l=[];++t<o;){var a=e[t];a!==n&&a!==r||(e[t]=r,l[i++]=t)}return l}function jn(e){var n=-1,t=Array(e.size);return e.forEach(function(e){t[++n]=e}),t}function Vn(e){var n=-1,t=Array(e.size);return e.forEach(function(e){t[++n]=[e,e]}),t}function zn(e){return Hn(e)?function(e){for(var n=Te.lastIndex=0;Te.test(e);)++n;return n}(e):pn(e)}function Yn(e){return Hn(e)?function(e){return e.match(Te)||[]}(e):function(e){return e.split("")}(e)}function Wn(e){for(var n=e.length;n--&&J.test(e.charAt(n)););return n}var Gn=An({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Jn=function e(n){var h=(n=null==n?ze:Jn.defaults(ze.Object(),n,Jn.pick(ze,xe))).Array,J=n.Date,se=n.Error,de=n.Function,fe=n.Math,ve=n.Object,me=n.RegExp,pe=n.String,Ee=n.TypeError,he=h.prototype,_e=ve.prototype,ge=n["__core-js_shared__"],ye=de.prototype.toString,be=_e.hasOwnProperty,Se=0,Ae=function(){var e=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Re=_e.toString,De=ye.call(ve),Ce=ze._,Le=me("^"+ye.call(be).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=Ge?n.Buffer:void 0,Ie=n.Symbol,Fe=n.Uint8Array,je=Te?Te.allocUnsafe:void 0,Ve=Bn(ve.getPrototypeOf,ve),Ye=ve.create,We=_e.propertyIsEnumerable,Je=he.splice,$e=Ie?Ie.isConcatSpreadable:void 0,pn=Ie?Ie.iterator:void 0,An=Ie?Ie.toStringTag:void 0,$n=function(){try{var e=Xo(ve,"defineProperty");return e({},"",{}),e}catch(e){}}(),Kn=n.clearTimeout!==ze.clearTimeout&&n.clearTimeout,qn=J&&J.now!==ze.Date.now&&J.now,Zn=n.setTimeout!==ze.setTimeout&&n.setTimeout,Xn=fe.ceil,Qn=fe.floor,et=ve.getOwnPropertySymbols,nt=Te?Te.isBuffer:void 0,tt=n.isFinite,rt=he.join,ot=Bn(ve.keys,ve),it=fe.max,lt=fe.min,at=J.now,ut=n.parseInt,ct=fe.random,st=he.reverse,dt=Xo(n,"DataView"),ft=Xo(n,"Map"),vt=Xo(n,"Promise"),mt=Xo(n,"Set"),pt=Xo(n,"WeakMap"),Et=Xo(ve,"create"),ht=pt&&new pt,_t={},gt=Di(dt),yt=Di(ft),bt=Di(vt),St=Di(mt),At=Di(pt),Rt=Ie?Ie.prototype:void 0,Dt=Rt?Rt.valueOf:void 0,Ct=Rt?Rt.toString:void 0;function Lt(e){if(Vl(e)&&!Ml(e)&&!(e instanceof Mt)){if(e instanceof Tt)return e;if(be.call(e,"__wrapped__"))return Ci(e)}return new Tt(e)}var Ot=function(){function e(){}return function(n){if(!jl(n))return{};if(Ye)return Ye(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function Nt(){}function Tt(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=void 0}function Mt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function It(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function wt(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function xt(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Pt(e){var n=-1,t=null==e?0:e.length;for(this.__data__=new xt;++n<t;)this.add(e[n])}function kt(e){var n=this.__data__=new wt(e);this.size=n.size}function Ht(e,n){var t=Ml(e),r=!t&&Tl(e),o=!t&&!r&&Pl(e),i=!t&&!r&&!o&&ql(e),l=t||r||o||i,a=l?Cn(e.length,pe):[],u=a.length;for(var c in e)!n&&!be.call(e,c)||l&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ii(c,u))||a.push(c);return a}function Ft(e){var n=e.length;return n?e[xr(0,n-1)]:void 0}function Bt(e,n){return Si(Eo(e),$t(n,0,e.length))}function Ut(e){return Si(Eo(e))}function jt(e,n,t){(void 0!==t&&!Ll(e[n],t)||void 0===t&&!(n in e))&&Gt(e,n,t)}function Vt(e,n,t){var r=e[n];be.call(e,n)&&Ll(r,t)&&(void 0!==t||n in e)||Gt(e,n,t)}function zt(e,n){for(var t=e.length;t--;)if(Ll(e[t][0],n))return t;return-1}function Yt(e,n,t,r){return Qt(e,function(e,o,i){n(r,e,t(e),i)}),r}function Wt(e,n){return e&&ho(n,_a(n),e)}function Gt(e,n,t){"__proto__"==n&&$n?$n(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Jt(e,n){for(var t=-1,r=n.length,o=h(r),i=null==e;++t<r;)o[t]=i?void 0:va(e,n[t]);return o}function $t(e,n,t){return e==e&&(void 0!==t&&(e=e<=t?e:t),void 0!==n&&(e=e>=n?e:n)),e}function Kt(e,n,t,r,o,l){var c,h=1&n,y=2&n,M=4&n;if(t&&(c=o?t(e,r,o,l):t(e)),void 0!==c)return c;if(!jl(e))return e;var I=Ml(e);if(I){if(c=function(e){var n=e.length,t=new e.constructor(n);return n&&"string"==typeof e[0]&&be.call(e,"index")&&(t.index=e.index,t.input=e.input),t}(e),!h)return Eo(e,c)}else{var w=ni(e),x=w==s||w==d;if(Pl(e))return co(e,h);if(w==m||w==i||x&&!o){if(c=y||x?{}:ri(e),!h)return y?function(e,n){return ho(e,ei(e),n)}(e,function(e,n){return e&&ho(n,ga(n),e)}(c,e)):function(e,n){return ho(e,Qo(e),n)}(e,Wt(c,e))}else{if(!He[w])return o?e:{};c=function(e,n,t){var r=e.constructor;switch(n){case b:return so(e);case a:case u:return new r(+e);case S:return function(e,n){var t=n?so(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,t);case A:case R:case D:case C:case L:case O:case"[object Uint8ClampedArray]":case N:case T:return fo(e,t);case f:return new r;case v:case _:return new r(e);case p:return function(e){var n=new e.constructor(e.source,ne.exec(e));return n.lastIndex=e.lastIndex,n}(e);case E:return new r;case g:return Dt?ve(Dt.call(e)):{}}}(e,w,h)}}l||(l=new kt);var P=l.get(e);if(P)return P;l.set(e,c),Jl(e)?e.forEach(function(r){c.add(Kt(r,n,t,r,e,l))}):zl(e)&&e.forEach(function(r,o){c.set(o,Kt(r,n,t,o,e,l))});var k=I?void 0:(M?y?Wo:Yo:y?ga:_a)(e);return rn(k||e,function(r,o){k&&(r=e[o=r]),Vt(c,o,Kt(r,n,t,o,e,l))}),c}function qt(e,n,t){var r=t.length;if(null==e)return!r;for(e=ve(e);r--;){var o=t[r],i=e[o];if(void 0===i&&!(o in e)||!(0,n[o])(i))return!1}return!0}function Zt(e,n,r){if("function"!=typeof e)throw new Ee(t);return _i(function(){e.apply(void 0,r)},n)}function Xt(e,n,t,r){var o=-1,i=un,l=!0,a=e.length,u=[],c=n.length;if(!a)return u;t&&(n=sn(n,On(t))),r?(i=cn,l=!1):n.length>=200&&(i=Tn,l=!1,n=new Pt(n));e:for(;++o<a;){var s=e[o],d=null==t?s:t(s);if(s=r||0!==s?s:0,l&&d==d){for(var f=c;f--;)if(n[f]===d)continue e;u.push(s)}else i(n,d,r)||u.push(s)}return u}Lt.templateSettings={escape:F,evaluate:B,interpolate:U,variable:"",imports:{_:Lt}},(Lt.prototype=Nt.prototype).constructor=Lt,(Tt.prototype=Ot(Nt.prototype)).constructor=Tt,(Mt.prototype=Ot(Nt.prototype)).constructor=Mt,It.prototype.clear=function(){this.__data__=Et?Et(null):{},this.size=0},It.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},It.prototype.get=function(e){var n=this.__data__;if(Et){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return be.call(n,e)?n[e]:void 0},It.prototype.has=function(e){var n=this.__data__;return Et?void 0!==n[e]:be.call(n,e)},It.prototype.set=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Et&&void 0===n?"__lodash_hash_undefined__":n,this},wt.prototype.clear=function(){this.__data__=[],this.size=0},wt.prototype.delete=function(e){var n=this.__data__,t=zt(n,e);return!(t<0||(t==n.length-1?n.pop():Je.call(n,t,1),--this.size,0))},wt.prototype.get=function(e){var n=this.__data__,t=zt(n,e);return t<0?void 0:n[t][1]},wt.prototype.has=function(e){return zt(this.__data__,e)>-1},wt.prototype.set=function(e,n){var t=this.__data__,r=zt(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new It,map:new(ft||wt),string:new It}},xt.prototype.delete=function(e){var n=qo(this,e).delete(e);return this.size-=n?1:0,n},xt.prototype.get=function(e){return qo(this,e).get(e)},xt.prototype.has=function(e){return qo(this,e).has(e)},xt.prototype.set=function(e,n){var t=qo(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this},Pt.prototype.add=Pt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pt.prototype.has=function(e){return this.__data__.has(e)},kt.prototype.clear=function(){this.__data__=new wt,this.size=0},kt.prototype.delete=function(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t},kt.prototype.get=function(e){return this.__data__.get(e)},kt.prototype.has=function(e){return this.__data__.has(e)},kt.prototype.set=function(e,n){var t=this.__data__;if(t instanceof wt){var r=t.__data__;if(!ft||r.length<199)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new xt(r)}return t.set(e,n),this.size=t.size,this};var Qt=yo(ar),er=yo(ur,!0);function nr(e,n){var t=!0;return Qt(e,function(e,r,o){return t=!!n(e,r,o)}),t}function tr(e,n,t){for(var r=-1,o=e.length;++r<o;){var i=e[r],l=n(i);if(null!=l&&(void 0===a?l==l&&!Kl(l):t(l,a)))var a=l,u=i}return u}function rr(e,n){var t=[];return Qt(e,function(e,r,o){n(e,r,o)&&t.push(e)}),t}function or(e,n,t,r,o){var i=-1,l=e.length;for(t||(t=oi),o||(o=[]);++i<l;){var a=e[i];n>0&&t(a)?n>1?or(a,n-1,t,r,o):dn(o,a):r||(o[o.length]=a)}return o}var ir=bo(),lr=bo(!0);function ar(e,n){return e&&ir(e,n,_a)}function ur(e,n){return e&&lr(e,n,_a)}function cr(e,n){return an(n,function(n){return Fl(e[n])})}function sr(e,n){for(var t=0,r=(n=io(n,e)).length;null!=e&&t<r;)e=e[Ri(n[t++])];return t&&t==r?e:void 0}function dr(e,n,t){var r=n(e);return Ml(e)?r:dn(r,t(e))}function fr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":An&&An in ve(e)?function(e){var n=be.call(e,An),t=e[An];try{e[An]=void 0;var r=!0}catch(e){}var o=Re.call(e);return r&&(n?e[An]=t:delete e[An]),o}(e):function(e){return Re.call(e)}(e)}function vr(e,n){return e>n}function mr(e,n){return null!=e&&be.call(e,n)}function pr(e,n){return null!=e&&n in ve(e)}function Er(e,n,t){for(var r=t?cn:un,o=e[0].length,i=e.length,l=i,a=h(i),u=Infinity,c=[];l--;){var s=e[l];l&&n&&(s=sn(s,On(n))),u=lt(s.length,u),a[l]=!t&&(n||o>=120&&s.length>=120)?new Pt(l&&s):void 0}s=e[0];var d=-1,f=a[0];e:for(;++d<o&&c.length<u;){var v=s[d],m=n?n(v):v;if(v=t||0!==v?v:0,!(f?Tn(f,m):r(c,m,t))){for(l=i;--l;){var p=a[l];if(!(p?Tn(p,m):r(e[l],m,t)))continue e}f&&f.push(m),c.push(v)}}return c}function hr(e,n,t){var r=null==(e=mi(e,n=io(n,e)))?e:e[Ri(Hi(n))];return null==r?void 0:nn(r,e,t)}function _r(e){return Vl(e)&&fr(e)==i}function gr(e,n,t,r,o){return e===n||(null==e||null==n||!Vl(e)&&!Vl(n)?e!=e&&n!=n:function(e,n,t,r,o,s){var d=Ml(e),h=Ml(n),y=d?l:ni(e),A=h?l:ni(n),R=(y=y==i?m:y)==m,D=(A=A==i?m:A)==m,C=y==A;if(C&&Pl(e)){if(!Pl(n))return!1;d=!0,R=!1}if(C&&!R)return s||(s=new kt),d||ql(e)?Vo(e,n,t,r,o,s):function(e,n,t,r,o,i,l){switch(t){case S:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case b:return!(e.byteLength!=n.byteLength||!i(new Fe(e),new Fe(n)));case a:case u:case v:return Ll(+e,+n);case c:return e.name==n.name&&e.message==n.message;case p:case _:return e==n+"";case f:var s=Fn;case E:if(s||(s=jn),e.size!=n.size&&!(1&r))return!1;var d=l.get(e);if(d)return d==n;r|=2,l.set(e,n);var m=Vo(s(e),s(n),r,o,i,l);return l.delete(e),m;case g:if(Dt)return Dt.call(e)==Dt.call(n)}return!1}(e,n,y,t,r,o,s);if(!(1&t)){var L=R&&be.call(e,"__wrapped__"),O=D&&be.call(n,"__wrapped__");if(L||O){var N=L?e.value():e,T=O?n.value():n;return s||(s=new kt),o(N,T,t,r,s)}}return!!C&&(s||(s=new kt),function(e,n,t,r,o,i){var l=1&t,a=Yo(e),u=a.length;if(u!=Yo(n).length&&!l)return!1;for(var c=u;c--;){var s=a[c];if(!(l?s in n:be.call(n,s)))return!1}var d=i.get(e),f=i.get(n);if(d&&f)return d==n&&f==e;var v=!0;i.set(e,n),i.set(n,e);for(var m=l;++c<u;){var p=e[s=a[c]],E=n[s];if(r)var h=l?r(E,p,s,n,e,i):r(p,E,s,e,n,i);if(!(void 0===h?p===E||o(p,E,t,r,i):h)){v=!1;break}m||(m="constructor"==s)}if(v&&!m){var _=e.constructor,g=n.constructor;_==g||!("constructor"in e)||!("constructor"in n)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(v=!1)}return i.delete(e),i.delete(n),v}(e,n,t,r,o,s))}(e,n,t,r,gr,o))}function yr(e,n,t,r){var o=t.length,i=o,l=!r;if(null==e)return!i;for(e=ve(e);o--;){var a=t[o];if(l&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var u=(a=t[o])[0],c=e[u],s=a[1];if(l&&a[2]){if(void 0===c&&!(u in e))return!1}else{var d=new kt;if(r)var f=r(c,s,u,e,n,d);if(!(void 0===f?gr(s,c,3,r,d):f))return!1}}return!0}function br(e){return!(!jl(e)||(n=e,Ae&&Ae in n))&&(Fl(e)?Le:oe).test(Di(e));var n}function Sr(e){return"function"==typeof e?e:null==e?Ya:"object"==typeof e?Ml(e)?Lr(e[0],e[1]):Cr(e):Qa(e)}function Ar(e){if(!si(e))return ot(e);var n=[];for(var t in ve(e))be.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Rr(e,n){return e<n}function Dr(e,n){var t=-1,r=wl(e)?h(e.length):[];return Qt(e,function(e,o,i){r[++t]=n(e,o,i)}),r}function Cr(e){var n=Zo(e);return 1==n.length&&n[0][2]?fi(n[0][0],n[0][1]):function(t){return t===e||yr(t,e,n)}}function Lr(e,n){return ai(e)&&di(n)?fi(Ri(e),n):function(t){var r=va(t,e);return void 0===r&&r===n?ma(t,e):gr(n,r,3)}}function Or(e,n,t,r,o){e!==n&&ir(n,function(i,l){if(o||(o=new kt),jl(i))!function(e,n,t,r,o,i,l){var a=Ei(e,t),u=Ei(n,t),c=l.get(u);if(c)jt(e,t,c);else{var s=i?i(a,u,t+"",e,n,l):void 0,d=void 0===s;if(d){var f=Ml(u),v=!f&&Pl(u),m=!f&&!v&&ql(u);s=u,f||v||m?Ml(a)?s=a:xl(a)?s=Eo(a):v?(d=!1,s=co(u,!0)):m?(d=!1,s=fo(u,!0)):s=[]:Wl(u)||Tl(u)?(s=a,Tl(a)?s=oa(a):jl(a)&&!Fl(a)||(s=ri(u))):d=!1}d&&(l.set(u,s),o(s,u,r,i,l),l.delete(u)),jt(e,t,s)}}(e,n,l,t,Or,r,o);else{var a=r?r(Ei(e,l),i,l+"",e,n,o):void 0;void 0===a&&(a=i),jt(e,l,a)}},ga)}function Nr(e,n){var t=e.length;if(t)return ii(n+=n<0?t:0,t)?e[n]:void 0}function Tr(e,n,t){n=n.length?sn(n,function(e){return Ml(e)?function(n){return sr(n,1===e.length?e[0]:e)}:e}):[Ya];var r=-1;return n=sn(n,On(Ko())),function(e,n){var r=e.length;for(e.sort(function(e,n){return function(e,n,t){for(var r=-1,o=e.criteria,i=n.criteria,l=o.length,a=t.length;++r<l;){var u=vo(o[r],i[r]);if(u)return r>=a?u:u*("desc"==t[r]?-1:1)}return e.index-n.index}(e,n,t)});r--;)e[r]=e[r].value;return e}(Dr(e,function(e,t,o){return{criteria:sn(n,function(n){return n(e)}),index:++r,value:e}}))}function Mr(e,n,t){for(var r=-1,o=n.length,i={};++r<o;){var l=n[r],a=sr(e,l);t(a,l)&&Br(i,io(l,e),a)}return i}function Ir(e,n,t,r){var o=r?gn:_n,i=-1,l=n.length,a=e;for(e===n&&(n=Eo(n)),t&&(a=sn(e,On(t)));++i<l;)for(var u=0,c=n[i],s=t?t(c):c;(u=o(a,s,u,r))>-1;)a!==e&&Je.call(a,u,1),Je.call(e,u,1);return e}function wr(e,n){for(var t=e?n.length:0,r=t-1;t--;){var o=n[t];if(t==r||o!==i){var i=o;ii(o)?Je.call(e,o,1):Zr(e,o)}}return e}function xr(e,n){return e+Qn(ct()*(n-e+1))}function Pr(e,n){var t="";if(!e||n<1||n>9007199254740991)return t;do{n%2&&(t+=e),(n=Qn(n/2))&&(e+=e)}while(n);return t}function kr(e,n){return gi(vi(e,n,Ya),e+"")}function Hr(e){return Ft(La(e))}function Fr(e,n){var t=La(e);return Si(t,$t(n,0,t.length))}function Br(e,n,t,r){if(!jl(e))return e;for(var o=-1,i=(n=io(n,e)).length,l=i-1,a=e;null!=a&&++o<i;){var u=Ri(n[o]),c=t;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=l){var s=a[u];void 0===(c=r?r(s,u,a):void 0)&&(c=jl(s)?s:ii(n[o+1])?[]:{})}Vt(a,u,c),a=a[u]}return e}var Ur=ht?function(e,n){return ht.set(e,n),e}:Ya,jr=$n?function(e,n){return $n(e,"toString",{configurable:!0,enumerable:!1,value:ja(n),writable:!0})}:Ya;function Vr(e){return Si(La(e))}function zr(e,n,t){var r=-1,o=e.length;n<0&&(n=-n>o?0:o+n),(t=t>o?o:t)<0&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var i=h(o);++r<o;)i[r]=e[r+n];return i}function Yr(e,n){var t;return Qt(e,function(e,r,o){return!(t=n(e,r,o))}),!!t}function Wr(e,n,t){var r=0,o=null==e?r:e.length;if("number"==typeof n&&n==n&&o<=2147483647){for(;r<o;){var i=r+o>>>1,l=e[i];null!==l&&!Kl(l)&&(t?l<=n:l<n)?r=i+1:o=i}return o}return Gr(e,n,Ya,t)}function Gr(e,n,t,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var l=(n=t(n))!=n,a=null===n,u=Kl(n),c=void 0===n;o<i;){var s=Qn((o+i)/2),d=t(e[s]),f=void 0!==d,v=null===d,m=d==d,p=Kl(d);if(l)var E=r||m;else E=c?m&&(r||f):a?m&&f&&(r||!v):u?m&&f&&!v&&(r||!p):!v&&!p&&(r?d<=n:d<n);E?o=s+1:i=s}return lt(i,4294967294)}function Jr(e,n){for(var t=-1,r=e.length,o=0,i=[];++t<r;){var l=e[t],a=n?n(l):l;if(!t||!Ll(a,u)){var u=a;i[o++]=0===l?0:l}}return i}function $r(e){return"number"==typeof e?e:Kl(e)?NaN:+e}function Kr(e){if("string"==typeof e)return e;if(Ml(e))return sn(e,Kr)+"";if(Kl(e))return Ct?Ct.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}function qr(e,n,t){var r=-1,o=un,i=e.length,l=!0,a=[],u=a;if(t)l=!1,o=cn;else if(i>=200){var c=n?null:ko(e);if(c)return jn(c);l=!1,o=Tn,u=new Pt}else u=n?[]:a;e:for(;++r<i;){var s=e[r],d=n?n(s):s;if(s=t||0!==s?s:0,l&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;n&&u.push(d),a.push(s)}else o(u,d,t)||(u!==a&&u.push(d),a.push(s))}return a}function Zr(e,n){return null==(e=mi(e,n=io(n,e)))||delete e[Ri(Hi(n))]}function Xr(e,n,t,r){return Br(e,n,t(sr(e,n)),r)}function Qr(e,n,t,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&n(e[i],i,e););return t?zr(e,r?0:i,r?i+1:o):zr(e,r?i+1:0,r?o:i)}function eo(e,n){var t=e;return t instanceof Mt&&(t=t.value()),fn(n,function(e,n){return n.func.apply(n.thisArg,dn([e],n.args))},t)}function no(e,n,t){var r=e.length;if(r<2)return r?qr(e[0]):[];for(var o=-1,i=h(r);++o<r;)for(var l=e[o],a=-1;++a<r;)a!=o&&(i[o]=Xt(i[o]||l,e[a],n,t));return qr(or(i,1),n,t)}function to(e,n,t){for(var r=-1,o=e.length,i=n.length,l={};++r<o;)t(l,e[r],r<i?n[r]:void 0);return l}function ro(e){return xl(e)?e:[]}function oo(e){return"function"==typeof e?e:Ya}function io(e,n){return Ml(e)?e:ai(e,n)?[e]:Ai(ia(e))}var lo=kr;function ao(e,n,t){var r=e.length;return t=void 0===t?r:t,!n&&t>=r?e:zr(e,n,t)}var uo=Kn||function(e){return ze.clearTimeout(e)};function co(e,n){if(n)return e.slice();var t=e.length,r=je?je(t):new e.constructor(t);return e.copy(r),r}function so(e){var n=new e.constructor(e.byteLength);return new Fe(n).set(new Fe(e)),n}function fo(e,n){var t=n?so(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function vo(e,n){if(e!==n){var t=void 0!==e,r=null===e,o=e==e,i=Kl(e),l=void 0!==n,a=null===n,u=n==n,c=Kl(n);if(!a&&!c&&!i&&e>n||i&&l&&u&&!a&&!c||r&&l&&u||!t&&u||!o)return 1;if(!r&&!i&&!c&&e<n||c&&t&&o&&!r&&!i||a&&t&&o||!l&&o||!u)return-1}return 0}function mo(e,n,t,r){for(var o=-1,i=e.length,l=t.length,a=-1,u=n.length,c=it(i-l,0),s=h(u+c),d=!r;++a<u;)s[a]=n[a];for(;++o<l;)(d||o<i)&&(s[t[o]]=e[o]);for(;c--;)s[a++]=e[o++];return s}function po(e,n,t,r){for(var o=-1,i=e.length,l=-1,a=t.length,u=-1,c=n.length,s=it(i-a,0),d=h(s+c),f=!r;++o<s;)d[o]=e[o];for(var v=o;++u<c;)d[v+u]=n[u];for(;++l<a;)(f||o<i)&&(d[v+t[l]]=e[o++]);return d}function Eo(e,n){var t=-1,r=e.length;for(n||(n=h(r));++t<r;)n[t]=e[t];return n}function ho(e,n,t,r){var o=!t;t||(t={});for(var i=-1,l=n.length;++i<l;){var a=n[i],u=r?r(t[a],e[a],a,t,e):void 0;void 0===u&&(u=e[a]),o?Gt(t,a,u):Vt(t,a,u)}return t}function _o(e,n){return function(t,r){var o=Ml(t)?tn:Yt,i=n?n():{};return o(t,e,Ko(r,2),i)}}function go(e){return kr(function(n,t){var r=-1,o=t.length,i=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,l&&li(t[0],t[1],l)&&(i=o<3?void 0:i,o=1),n=ve(n);++r<o;){var a=t[r];a&&e(n,a,r,i)}return n})}function yo(e,n){return function(t,r){if(null==t)return t;if(!wl(t))return e(t,r);for(var o=t.length,i=n?o:-1,l=ve(t);(n?i--:++i<o)&&!1!==r(l[i],i,l););return t}}function bo(e){return function(n,t,r){for(var o=-1,i=ve(n),l=r(n),a=l.length;a--;){var u=l[e?a:++o];if(!1===t(i[u],u,i))break}return n}}function So(e){return function(n){var t=Hn(n=ia(n))?Yn(n):void 0,r=t?t[0]:n.charAt(0),o=t?ao(t,1).join(""):n.slice(1);return r[e]()+o}}function Ao(e){return function(n){return fn(Fa(Ta(n).replace(Oe,"")),e,"")}}function Ro(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Ot(e.prototype),r=e.apply(t,n);return jl(r)?r:t}}function Do(e){return function(n,t,r){var o=ve(n);if(!wl(n)){var i=Ko(t,3);n=_a(n),t=function(e){return i(o[e],e,o)}}var l=e(n,t,r);return l>-1?o[i?n[l]:l]:void 0}}function Co(e){return zo(function(n){var r=n.length,o=r,i=Tt.prototype.thru;for(e&&n.reverse();o--;){var l=n[o];if("function"!=typeof l)throw new Ee(t);if(i&&!a&&"wrapper"==Jo(l))var a=new Tt([],!0)}for(o=a?o:r;++o<r;){var u=Jo(l=n[o]),c="wrapper"==u?Go(l):void 0;a=c&&ui(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Jo(c[0])].apply(a,c[3]):1==l.length&&ui(l)?a[u]():a.thru(l)}return function(){var e=arguments,t=e[0];if(a&&1==e.length&&Ml(t))return a.plant(t).value();for(var o=0,i=r?n[o].apply(this,e):t;++o<r;)i=n[o].call(this,i);return i}})}function Lo(e,n,t,r,o,i,l,a,u,c){var s=128&n,d=1&n,f=2&n,v=24&n,m=512&n,p=f?void 0:Ro(e);return function E(){for(var _=arguments.length,g=h(_),y=_;y--;)g[y]=arguments[y];if(v)var b=$o(E),S=wn(g,b);if(r&&(g=mo(g,r,o,v)),i&&(g=po(g,i,l,v)),_-=S,v&&_<c){var A=Un(g,b);return xo(e,n,Lo,E.placeholder,t,g,A,a,u,c-_)}var R=d?t:this,D=f?R[e]:e;return _=g.length,a?g=pi(g,a):m&&_>1&&g.reverse(),s&&u<_&&(g.length=u),this&&this!==ze&&this instanceof E&&(D=p||Ro(D)),D.apply(R,g)}}function Oo(e,n){return function(t,r){return function(e,n,t,r){return ar(e,function(e,o,i){n(r,t(e),o,i)}),r}(t,e,n(r),{})}}function No(e,n){return function(t,r){var o;if(void 0===t&&void 0===r)return n;if(void 0!==t&&(o=t),void 0!==r){if(void 0===o)return r;"string"==typeof t||"string"==typeof r?(t=Kr(t),r=Kr(r)):(t=$r(t),r=$r(r)),o=e(t,r)}return o}}function To(e){return zo(function(n){return n=sn(n,On(Ko())),kr(function(t){var r=this;return e(n,function(e){return nn(e,r,t)})})})}function Mo(e,n){var t=(n=void 0===n?" ":Kr(n)).length;if(t<2)return t?Pr(n,e):n;var r=Pr(n,Xn(e/zn(n)));return Hn(n)?ao(Yn(r),0,e).join(""):r.slice(0,e)}function Io(e){return function(n,t,r){return r&&"number"!=typeof r&&li(n,t,r)&&(t=r=void 0),n=ea(n),void 0===t?(t=n,n=0):t=ea(t),function(e,n,t,r){for(var o=-1,i=it(Xn((n-e)/(t||1)),0),l=h(i);i--;)l[r?i:++o]=e,e+=t;return l}(n,t,r=void 0===r?n<t?1:-1:ea(r),e)}}function wo(e){return function(n,t){return"string"==typeof n&&"string"==typeof t||(n=ra(n),t=ra(t)),e(n,t)}}function xo(e,n,t,r,o,i,l,a,u,c){var s=8&n;n|=s?32:64,4&(n&=~(s?64:32))||(n&=-4);var d=[e,n,o,s?i:void 0,s?l:void 0,s?void 0:i,s?void 0:l,a,u,c],f=t.apply(void 0,d);return ui(e)&&hi(f,d),f.placeholder=r,yi(f,e,n)}function Po(e){var n=fe[e];return function(e,t){if(e=ra(e),(t=null==t?0:lt(na(t),292))&&tt(e)){var r=(ia(e)+"e").split("e");return+((r=(ia(n(r[0]+"e"+(+r[1]+t)))+"e").split("e"))[0]+"e"+(+r[1]-t))}return n(e)}}var ko=mt&&1/jn(new mt([,-0]))[1]==1/0?function(e){return new mt(e)}:Ka;function Ho(e){return function(n){var t=ni(n);return t==f?Fn(n):t==E?Vn(n):function(e,n){return sn(n,function(n){return[n,e[n]]})}(n,e(n))}}function Fo(e,n,o,i,l,a,u,c){var s=2&n;if(!s&&"function"!=typeof e)throw new Ee(t);var d=i?i.length:0;if(d||(n&=-97,i=l=void 0),u=void 0===u?u:it(na(u),0),c=void 0===c?c:na(c),d-=l?l.length:0,64&n){var f=i,v=l;i=l=void 0}var m=s?void 0:Go(e),p=[e,n,o,i,l,f,v,a,u,c];if(m&&function(e,n){var t=e[1],o=n[1],i=t|o;if(!(i<131||128==o&&8==t||128==o&&256==t&&e[7].length<=n[8]||384==o&&n[7].length<=n[8]&&8==t))return e;1&o&&(e[2]=n[2],i|=1&t?0:4);var l=n[3];if(l){var a=e[3];e[3]=a?mo(a,l,n[4]):l,e[4]=a?Un(e[3],r):n[4]}(l=n[5])&&(e[5]=(a=e[5])?po(a,l,n[6]):l,e[6]=a?Un(e[5],r):n[6]),(l=n[7])&&(e[7]=l),128&o&&(e[8]=null==e[8]?n[8]:lt(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=i}(p,m),e=p[0],n=p[1],o=p[2],i=p[3],l=p[4],!(c=p[9]=void 0===p[9]?s?0:e.length:it(p[9]-d,0))&&24&n&&(n&=-25),n&&1!=n)E=8==n||16==n?function(e,n,t){var r=Ro(e);return function o(){for(var i=arguments.length,l=h(i),a=i,u=$o(o);a--;)l[a]=arguments[a];var c=i<3&&l[0]!==u&&l[i-1]!==u?[]:Un(l,u);if((i-=c.length)<t)return xo(e,n,Lo,o.placeholder,void 0,l,c,void 0,void 0,t-i);var s=this&&this!==ze&&this instanceof o?r:e;return nn(s,this,l)}}(e,n,c):32!=n&&33!=n||l.length?Lo.apply(void 0,p):function(e,n,t,r){var o=1&n,i=Ro(e);return function n(){for(var l=-1,a=arguments.length,u=-1,c=r.length,s=h(c+a),d=this&&this!==ze&&this instanceof n?i:e;++u<c;)s[u]=r[u];for(;a--;)s[u++]=arguments[++l];return nn(d,o?t:this,s)}}(e,n,o,i);else var E=function(e,n,t){var r=1&n,o=Ro(e);return function n(){var i=this&&this!==ze&&this instanceof n?o:e;return i.apply(r?t:this,arguments)}}(e,n,o);return yi((m?Ur:hi)(E,p),e,n)}function Bo(e,n,t,r){return void 0===e||Ll(e,_e[t])&&!be.call(r,t)?n:e}function Uo(e,n,t,r,o,i){return jl(e)&&jl(n)&&(i.set(n,e),Or(e,n,void 0,Uo,i),i.delete(n)),e}function jo(e){return Wl(e)?void 0:e}function Vo(e,n,t,r,o,i){var l=1&t,a=e.length,u=n.length;if(a!=u&&!(l&&u>a))return!1;var c=i.get(e),s=i.get(n);if(c&&s)return c==n&&s==e;var d=-1,f=!0,v=2&t?new Pt:void 0;for(i.set(e,n),i.set(n,e);++d<a;){var m=e[d],p=n[d];if(r)var E=l?r(p,m,d,n,e,i):r(m,p,d,e,n,i);if(void 0!==E){if(E)continue;f=!1;break}if(v){if(!mn(n,function(e,n){if(!Tn(v,n)&&(m===e||o(m,e,t,r,i)))return v.push(n)})){f=!1;break}}else if(m!==p&&!o(m,p,t,r,i)){f=!1;break}}return i.delete(e),i.delete(n),f}function zo(e){return gi(vi(e,void 0,Ii),e+"")}function Yo(e){return dr(e,_a,Qo)}function Wo(e){return dr(e,ga,ei)}var Go=ht?function(e){return ht.get(e)}:Ka;function Jo(e){for(var n=e.name+"",t=_t[n],r=be.call(_t,n)?t.length:0;r--;){var o=t[r],i=o.func;if(null==i||i==e)return o.name}return n}function $o(e){return(be.call(Lt,"placeholder")?Lt:e).placeholder}function Ko(){var e=Lt.iteratee||Wa;return e=e===Wa?Sr:e,arguments.length?e(arguments[0],arguments[1]):e}function qo(e,n){var t,r,o=e.__data__;return("string"==(r=typeof(t=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?o["string"==typeof n?"string":"hash"]:o.map}function Zo(e){for(var n=_a(e),t=n.length;t--;){var r=n[t],o=e[r];n[t]=[r,o,di(o)]}return n}function Xo(e,n){var t=function(e,n){return null==e?void 0:e[n]}(e,n);return br(t)?t:void 0}var Qo=et?function(e){return null==e?[]:(e=ve(e),an(et(e),function(n){return We.call(e,n)}))}:tu,ei=et?function(e){for(var n=[];e;)dn(n,Qo(e)),e=Ve(e);return n}:tu,ni=fr;function ti(e,n,t){for(var r=-1,o=(n=io(n,e)).length,i=!1;++r<o;){var l=Ri(n[r]);if(!(i=null!=e&&t(e,l)))break;e=e[l]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ul(o)&&ii(l,o)&&(Ml(e)||Tl(e))}function ri(e){return"function"!=typeof e.constructor||si(e)?{}:Ot(Ve(e))}function oi(e){return Ml(e)||Tl(e)||!!($e&&e&&e[$e])}function ii(e,n){var t=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&le.test(e))&&e>-1&&e%1==0&&e<n}function li(e,n,t){if(!jl(t))return!1;var r=typeof n;return!!("number"==r?wl(t)&&ii(n,t.length):"string"==r&&n in t)&&Ll(t[n],e)}function ai(e,n){if(Ml(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!Kl(e))||V.test(e)||!j.test(e)||null!=n&&e in ve(n)}function ui(e){var n=Jo(e),t=Lt[n];if("function"!=typeof t||!(n in Mt.prototype))return!1;if(e===t)return!0;var r=Go(t);return!!r&&e===r[0]}(dt&&ni(new dt(new ArrayBuffer(1)))!=S||ft&&ni(new ft)!=f||vt&&"[object Promise]"!=ni(vt.resolve())||mt&&ni(new mt)!=E||pt&&ni(new pt)!=y)&&(ni=function(e){var n=fr(e),t=n==m?e.constructor:void 0,r=t?Di(t):"";if(r)switch(r){case gt:return S;case yt:return f;case bt:return"[object Promise]";case St:return E;case At:return y}return n});var ci=ge?Fl:ru;function si(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||_e)}function di(e){return e==e&&!jl(e)}function fi(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in ve(t))}}function vi(e,n,t){return n=it(void 0===n?e.length-1:n,0),function(){for(var r=arguments,o=-1,i=it(r.length-n,0),l=h(i);++o<i;)l[o]=r[n+o];o=-1;for(var a=h(n+1);++o<n;)a[o]=r[o];return a[n]=t(l),nn(e,this,a)}}function mi(e,n){return n.length<2?e:sr(e,zr(n,0,-1))}function pi(e,n){for(var t=e.length,r=lt(n.length,t),o=Eo(e);r--;){var i=n[r];e[r]=ii(i,t)?o[i]:void 0}return e}function Ei(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var hi=bi(Ur),_i=Zn||function(e,n){return ze.setTimeout(e,n)},gi=bi(jr);function yi(e,n,t){var r=n+"";return gi(e,function(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace($,"{\n/* [wrapped with "+n+"] */\n")}(r,function(e,n){return rn(o,function(t){var r="_."+t[0];n&t[1]&&!un(e,r)&&e.push(r)}),e.sort()}(function(e){var n=e.match(K);return n?n[1].split(q):[]}(r),t)))}function bi(e){var n=0,t=0;return function(){var r=at(),o=16-(r-t);if(t=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function Si(e,n){var t=-1,r=e.length,o=r-1;for(n=void 0===n?r:n;++t<n;){var i=xr(t,o),l=e[i];e[i]=e[t],e[t]=l}return e.length=n,e}var Ai=function(e){var n=bl(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(z,function(e,t,r,o){n.push(r?o.replace(Q,"$1"):t||e)}),n},function(e){return 500===t.size&&t.clear(),e}),t=n.cache;return n}();function Ri(e){if("string"==typeof e||Kl(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}function Di(e){if(null!=e){try{return ye.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ci(e){if(e instanceof Mt)return e.clone();var n=new Tt(e.__wrapped__,e.__chain__);return n.__actions__=Eo(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var Li=kr(function(e,n){return xl(e)?Xt(e,or(n,1,xl,!0)):[]}),Oi=kr(function(e,n){var t=Hi(n);return xl(t)&&(t=void 0),xl(e)?Xt(e,or(n,1,xl,!0),Ko(t,2)):[]}),Ni=kr(function(e,n){var t=Hi(n);return xl(t)&&(t=void 0),xl(e)?Xt(e,or(n,1,xl,!0),void 0,t):[]});function Ti(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var o=null==t?0:na(t);return o<0&&(o=it(r+o,0)),hn(e,Ko(n,3),o)}function Mi(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==t&&(o=na(t),o=t<0?it(r+o,0):lt(o,r-1)),hn(e,Ko(n,3),o,!0)}function Ii(e){return null!=e&&e.length?or(e,1):[]}function wi(e){return e&&e.length?e[0]:void 0}var xi=kr(function(e){var n=sn(e,ro);return n.length&&n[0]===e[0]?Er(n):[]}),Pi=kr(function(e){var n=Hi(e),t=sn(e,ro);return n===Hi(t)?n=void 0:t.pop(),t.length&&t[0]===e[0]?Er(t,Ko(n,2)):[]}),ki=kr(function(e){var n=Hi(e),t=sn(e,ro);return(n="function"==typeof n?n:void 0)&&t.pop(),t.length&&t[0]===e[0]?Er(t,void 0,n):[]});function Hi(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}var Fi=kr(Bi);function Bi(e,n){return e&&e.length&&n&&n.length?Ir(e,n):e}var Ui=zo(function(e,n){var t=null==e?0:e.length,r=Jt(e,n);return wr(e,sn(n,function(e){return ii(e,t)?+e:e}).sort(vo)),r});function ji(e){return null==e?e:st.call(e)}var Vi=kr(function(e){return qr(or(e,1,xl,!0))}),zi=kr(function(e){var n=Hi(e);return xl(n)&&(n=void 0),qr(or(e,1,xl,!0),Ko(n,2))}),Yi=kr(function(e){var n=Hi(e);return n="function"==typeof n?n:void 0,qr(or(e,1,xl,!0),void 0,n)});function Wi(e){if(!e||!e.length)return[];var n=0;return e=an(e,function(e){if(xl(e))return n=it(e.length,n),!0}),Cn(n,function(n){return sn(e,Sn(n))})}function Gi(e,n){if(!e||!e.length)return[];var t=Wi(e);return null==n?t:sn(t,function(e){return nn(n,void 0,e)})}var Ji=kr(function(e,n){return xl(e)?Xt(e,n):[]}),$i=kr(function(e){return no(an(e,xl))}),Ki=kr(function(e){var n=Hi(e);return xl(n)&&(n=void 0),no(an(e,xl),Ko(n,2))}),qi=kr(function(e){var n=Hi(e);return n="function"==typeof n?n:void 0,no(an(e,xl),void 0,n)}),Zi=kr(Wi),Xi=kr(function(e){var n=e.length,t=n>1?e[n-1]:void 0;return t="function"==typeof t?(e.pop(),t):void 0,Gi(e,t)});function Qi(e){var n=Lt(e);return n.__chain__=!0,n}function el(e,n){return n(e)}var nl=zo(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,o=function(n){return Jt(n,e)};return!(n>1||this.__actions__.length)&&r instanceof Mt&&ii(t)?((r=r.slice(t,+t+(n?1:0))).__actions__.push({func:el,args:[o],thisArg:void 0}),new Tt(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(void 0),e})):this.thru(o)}),tl=_o(function(e,n,t){be.call(e,t)?++e[t]:Gt(e,t,1)}),rl=Do(Ti),ol=Do(Mi);function il(e,n){return(Ml(e)?rn:Qt)(e,Ko(n,3))}function ll(e,n){return(Ml(e)?on:er)(e,Ko(n,3))}var al=_o(function(e,n,t){be.call(e,t)?e[t].push(n):Gt(e,t,[n])}),ul=kr(function(e,n,t){var r=-1,o="function"==typeof n,i=wl(e)?h(e.length):[];return Qt(e,function(e){i[++r]=o?nn(n,e,t):hr(e,n,t)}),i}),cl=_o(function(e,n,t){Gt(e,t,n)});function sl(e,n){return(Ml(e)?sn:Dr)(e,Ko(n,3))}var dl=_o(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]}),fl=kr(function(e,n){if(null==e)return[];var t=n.length;return t>1&&li(e,n[0],n[1])?n=[]:t>2&&li(n[0],n[1],n[2])&&(n=[n[0]]),Tr(e,or(n,1),[])}),vl=qn||function(){return ze.Date.now()};function ml(e,n,t){return n=t?void 0:n,Fo(e,128,void 0,void 0,void 0,void 0,n=e&&null==n?e.length:n)}function pl(e,n){var r;if("function"!=typeof n)throw new Ee(t);return e=na(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=void 0),r}}var El=kr(function(e,n,t){var r=1;if(t.length){var o=Un(t,$o(El));r|=32}return Fo(e,r,n,t,o)}),hl=kr(function(e,n,t){var r=3;if(t.length){var o=Un(t,$o(hl));r|=32}return Fo(n,r,e,t,o)});function _l(e,n,r){var o,i,l,a,u,c,s=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new Ee(t);function m(n){var t=o,r=i;return o=i=void 0,s=n,a=e.apply(r,t)}function p(e){return s=e,u=_i(h,n),d?m(e):a}function E(e){var t=e-c;return void 0===c||t>=n||t<0||f&&e-s>=l}function h(){var e=vl();if(E(e))return _(e);u=_i(h,function(e){var t=n-(e-c);return f?lt(t,l-(e-s)):t}(e))}function _(e){return u=void 0,v&&o?m(e):(o=i=void 0,a)}function g(){var e=vl(),t=E(e);if(o=arguments,i=this,c=e,t){if(void 0===u)return p(c);if(f)return uo(u),u=_i(h,n),m(c)}return void 0===u&&(u=_i(h,n)),a}return n=ra(n)||0,jl(r)&&(d=!!r.leading,l=(f="maxWait"in r)?it(ra(r.maxWait)||0,n):l,v="trailing"in r?!!r.trailing:v),g.cancel=function(){void 0!==u&&uo(u),s=0,o=c=i=u=void 0},g.flush=function(){return void 0===u?a:_(vl())},g}var gl=kr(function(e,n){return Zt(e,1,n)}),yl=kr(function(e,n,t){return Zt(e,ra(n)||0,t)});function bl(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Ee(t);var r=function t(){var r=arguments,o=n?n.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var l=e.apply(this,r);return t.cache=i.set(o,l)||i,l};return r.cache=new(bl.Cache||xt),r}function Sl(e){if("function"!=typeof e)throw new Ee(t);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}bl.Cache=xt;var Al=lo(function(e,n){var t=(n=1==n.length&&Ml(n[0])?sn(n[0],On(Ko())):sn(or(n,1),On(Ko()))).length;return kr(function(r){for(var o=-1,i=lt(r.length,t);++o<i;)r[o]=n[o].call(this,r[o]);return nn(e,this,r)})}),Rl=kr(function(e,n){return Fo(e,32,void 0,n,Un(n,$o(Rl)))}),Dl=kr(function(e,n){return Fo(e,64,void 0,n,Un(n,$o(Dl)))}),Cl=zo(function(e,n){return Fo(e,256,void 0,void 0,void 0,n)});function Ll(e,n){return e===n||e!=e&&n!=n}var Ol=wo(vr),Nl=wo(function(e,n){return e>=n}),Tl=_r(function(){return arguments}())?_r:function(e){return Vl(e)&&be.call(e,"callee")&&!We.call(e,"callee")},Ml=h.isArray,Il=Ke?On(Ke):function(e){return Vl(e)&&fr(e)==b};function wl(e){return null!=e&&Ul(e.length)&&!Fl(e)}function xl(e){return Vl(e)&&wl(e)}var Pl=nt||ru,kl=qe?On(qe):function(e){return Vl(e)&&fr(e)==u};function Hl(e){if(!Vl(e))return!1;var n=fr(e);return n==c||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!Wl(e)}function Fl(e){if(!jl(e))return!1;var n=fr(e);return n==s||n==d||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Bl(e){return"number"==typeof e&&e==na(e)}function Ul(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function jl(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function Vl(e){return null!=e&&"object"==typeof e}var zl=Ze?On(Ze):function(e){return Vl(e)&&ni(e)==f};function Yl(e){return"number"==typeof e||Vl(e)&&fr(e)==v}function Wl(e){if(!Vl(e)||fr(e)!=m)return!1;var n=Ve(e);if(null===n)return!0;var t=be.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&ye.call(t)==De}var Gl=Xe?On(Xe):function(e){return Vl(e)&&fr(e)==p},Jl=Qe?On(Qe):function(e){return Vl(e)&&ni(e)==E};function $l(e){return"string"==typeof e||!Ml(e)&&Vl(e)&&fr(e)==_}function Kl(e){return"symbol"==typeof e||Vl(e)&&fr(e)==g}var ql=en?On(en):function(e){return Vl(e)&&Ul(e.length)&&!!ke[fr(e)]},Zl=wo(Rr),Xl=wo(function(e,n){return e<=n});function Ql(e){if(!e)return[];if(wl(e))return $l(e)?Yn(e):Eo(e);if(pn&&e[pn])return function(e){for(var n,t=[];!(n=e.next()).done;)t.push(n.value);return t}(e[pn]());var n=ni(e);return(n==f?Fn:n==E?jn:La)(e)}function ea(e){return e?(e=ra(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function na(e){var n=ea(e),t=n%1;return n==n?t?n-t:n:0}function ta(e){return e?$t(na(e),0,4294967295):0}function ra(e){if("number"==typeof e)return e;if(Kl(e))return NaN;if(jl(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=jl(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=Ln(e);var t=re.test(e);return t||ie.test(e)?Ue(e.slice(2),t?2:8):te.test(e)?NaN:+e}function oa(e){return ho(e,ga(e))}function ia(e){return null==e?"":Kr(e)}var la=go(function(e,n){if(si(n)||wl(n))ho(n,_a(n),e);else for(var t in n)be.call(n,t)&&Vt(e,t,n[t])}),aa=go(function(e,n){ho(n,ga(n),e)}),ua=go(function(e,n,t,r){ho(n,ga(n),e,r)}),ca=go(function(e,n,t,r){ho(n,_a(n),e,r)}),sa=zo(Jt),da=kr(function(e,n){e=ve(e);var t=-1,r=n.length,o=r>2?n[2]:void 0;for(o&&li(n[0],n[1],o)&&(r=1);++t<r;)for(var i=n[t],l=ga(i),a=-1,u=l.length;++a<u;){var c=l[a],s=e[c];(void 0===s||Ll(s,_e[c])&&!be.call(e,c))&&(e[c]=i[c])}return e}),fa=kr(function(e){return e.push(void 0,Uo),nn(ba,void 0,e)});function va(e,n,t){var r=null==e?void 0:sr(e,n);return void 0===r?t:r}function ma(e,n){return null!=e&&ti(e,n,pr)}var pa=Oo(function(e,n,t){null!=n&&"function"!=typeof n.toString&&(n=Re.call(n)),e[n]=t},ja(Ya)),Ea=Oo(function(e,n,t){null!=n&&"function"!=typeof n.toString&&(n=Re.call(n)),be.call(e,n)?e[n].push(t):e[n]=[t]},Ko),ha=kr(hr);function _a(e){return wl(e)?Ht(e):Ar(e)}function ga(e){return wl(e)?Ht(e,!0):function(e){if(!jl(e))return function(e){var n=[];if(null!=e)for(var t in ve(e))n.push(t);return n}(e);var n=si(e),t=[];for(var r in e)("constructor"!=r||!n&&be.call(e,r))&&t.push(r);return t}(e)}var ya=go(function(e,n,t){Or(e,n,t)}),ba=go(function(e,n,t,r){Or(e,n,t,r)}),Sa=zo(function(e,n){var t={};if(null==e)return t;var r=!1;n=sn(n,function(n){return n=io(n,e),r||(r=n.length>1),n}),ho(e,Wo(e),t),r&&(t=Kt(t,7,jo));for(var o=n.length;o--;)Zr(t,n[o]);return t}),Aa=zo(function(e,n){return null==e?{}:function(e,n){return Mr(e,n,function(n,t){return ma(e,t)})}(e,n)});function Ra(e,n){if(null==e)return{};var t=sn(Wo(e),function(e){return[e]});return n=Ko(n),Mr(e,t,function(e,t){return n(e,t[0])})}var Da=Ho(_a),Ca=Ho(ga);function La(e){return null==e?[]:Nn(e,_a(e))}var Oa=Ao(function(e,n,t){return n=n.toLowerCase(),e+(t?Na(n):n)});function Na(e){return Ha(ia(e).toLowerCase())}function Ta(e){return(e=ia(e))&&e.replace(ae,xn).replace(Ne,"")}var Ma=Ao(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),Ia=Ao(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),wa=So("toLowerCase"),xa=Ao(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()}),Pa=Ao(function(e,n,t){return e+(t?" ":"")+Ha(n)}),ka=Ao(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Ha=So("toUpperCase");function Fa(e,n,t){return e=ia(e),void 0===(n=t?void 0:n)?function(e){return we.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(n)||[]}var Ba=kr(function(e,n){try{return nn(e,void 0,n)}catch(e){return Hl(e)?e:new se(e)}}),Ua=zo(function(e,n){return rn(n,function(n){n=Ri(n),Gt(e,n,El(e[n],e))}),e});function ja(e){return function(){return e}}var Va=Co(),za=Co(!0);function Ya(e){return e}function Wa(e){return Sr("function"==typeof e?e:Kt(e,1))}var Ga=kr(function(e,n){return function(t){return hr(t,e,n)}}),Ja=kr(function(e,n){return function(t){return hr(e,t,n)}});function $a(e,n,t){var r=_a(n),o=cr(n,r);null!=t||jl(n)&&(o.length||!r.length)||(t=n,n=e,e=this,o=cr(n,_a(n)));var i=!(jl(t)&&"chain"in t&&!t.chain),l=Fl(e);return rn(o,function(t){var r=n[t];e[t]=r,l&&(e.prototype[t]=function(){var n=this.__chain__;if(i||n){var t=e(this.__wrapped__),o=t.__actions__=Eo(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),t.__chain__=n,t}return r.apply(e,dn([this.value()],arguments))})}),e}function Ka(){}var qa=To(sn),Za=To(ln),Xa=To(mn);function Qa(e){return ai(e)?Sn(Ri(e)):function(e){return function(n){return sr(n,e)}}(e)}var eu=Io(),nu=Io(!0);function tu(){return[]}function ru(){return!1}var ou,iu=No(function(e,n){return e+n},0),lu=Po("ceil"),au=No(function(e,n){return e/n},1),uu=Po("floor"),cu=No(function(e,n){return e*n},1),su=Po("round"),du=No(function(e,n){return e-n},0);return Lt.after=function(e,n){if("function"!=typeof n)throw new Ee(t);return e=na(e),function(){if(--e<1)return n.apply(this,arguments)}},Lt.ary=ml,Lt.assign=la,Lt.assignIn=aa,Lt.assignInWith=ua,Lt.assignWith=ca,Lt.at=sa,Lt.before=pl,Lt.bind=El,Lt.bindAll=Ua,Lt.bindKey=hl,Lt.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ml(e)?e:[e]},Lt.chain=Qi,Lt.chunk=function(e,n,t){n=(t?li(e,n,t):void 0===n)?1:it(na(n),0);var r=null==e?0:e.length;if(!r||n<1)return[];for(var o=0,i=0,l=h(Xn(r/n));o<r;)l[i++]=zr(e,o,o+=n);return l},Lt.compact=function(e){for(var n=-1,t=null==e?0:e.length,r=0,o=[];++n<t;){var i=e[n];i&&(o[r++]=i)}return o},Lt.concat=function(){var e=arguments.length;if(!e)return[];for(var n=h(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return dn(Ml(t)?Eo(t):[t],or(n,1))},Lt.cond=function(e){var n=null==e?0:e.length,r=Ko();return e=n?sn(e,function(e){if("function"!=typeof e[1])throw new Ee(t);return[r(e[0]),e[1]]}):[],kr(function(t){for(var r=-1;++r<n;){var o=e[r];if(nn(o[0],this,t))return nn(o[1],this,t)}})},Lt.conforms=function(e){return function(e){var n=_a(e);return function(t){return qt(t,e,n)}}(Kt(e,1))},Lt.constant=ja,Lt.countBy=tl,Lt.create=function(e,n){var t=Ot(e);return null==n?t:Wt(t,n)},Lt.curry=function e(n,t,r){var o=Fo(n,8,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return o.placeholder=e.placeholder,o},Lt.curryRight=function e(n,t,r){var o=Fo(n,16,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return o.placeholder=e.placeholder,o},Lt.debounce=_l,Lt.defaults=da,Lt.defaultsDeep=fa,Lt.defer=gl,Lt.delay=yl,Lt.difference=Li,Lt.differenceBy=Oi,Lt.differenceWith=Ni,Lt.drop=function(e,n,t){var r=null==e?0:e.length;return r?zr(e,(n=t||void 0===n?1:na(n))<0?0:n,r):[]},Lt.dropRight=function(e,n,t){var r=null==e?0:e.length;return r?zr(e,0,(n=r-(n=t||void 0===n?1:na(n)))<0?0:n):[]},Lt.dropRightWhile=function(e,n){return e&&e.length?Qr(e,Ko(n,3),!0,!0):[]},Lt.dropWhile=function(e,n){return e&&e.length?Qr(e,Ko(n,3),!0):[]},Lt.fill=function(e,n,t,r){var o=null==e?0:e.length;return o?(t&&"number"!=typeof t&&li(e,n,t)&&(t=0,r=o),function(e,n,t,r){var o=e.length;for((t=na(t))<0&&(t=-t>o?0:o+t),(r=void 0===r||r>o?o:na(r))<0&&(r+=o),r=t>r?0:ta(r);t<r;)e[t++]=n;return e}(e,n,t,r)):[]},Lt.filter=function(e,n){return(Ml(e)?an:rr)(e,Ko(n,3))},Lt.flatMap=function(e,n){return or(sl(e,n),1)},Lt.flatMapDeep=function(e,n){return or(sl(e,n),1/0)},Lt.flatMapDepth=function(e,n,t){return t=void 0===t?1:na(t),or(sl(e,n),t)},Lt.flatten=Ii,Lt.flattenDeep=function(e){return null!=e&&e.length?or(e,1/0):[]},Lt.flattenDepth=function(e,n){return null!=e&&e.length?or(e,n=void 0===n?1:na(n)):[]},Lt.flip=function(e){return Fo(e,512)},Lt.flow=Va,Lt.flowRight=za,Lt.fromPairs=function(e){for(var n=-1,t=null==e?0:e.length,r={};++n<t;){var o=e[n];r[o[0]]=o[1]}return r},Lt.functions=function(e){return null==e?[]:cr(e,_a(e))},Lt.functionsIn=function(e){return null==e?[]:cr(e,ga(e))},Lt.groupBy=al,Lt.initial=function(e){return null!=e&&e.length?zr(e,0,-1):[]},Lt.intersection=xi,Lt.intersectionBy=Pi,Lt.intersectionWith=ki,Lt.invert=pa,Lt.invertBy=Ea,Lt.invokeMap=ul,Lt.iteratee=Wa,Lt.keyBy=cl,Lt.keys=_a,Lt.keysIn=ga,Lt.map=sl,Lt.mapKeys=function(e,n){var t={};return n=Ko(n,3),ar(e,function(e,r,o){Gt(t,n(e,r,o),e)}),t},Lt.mapValues=function(e,n){var t={};return n=Ko(n,3),ar(e,function(e,r,o){Gt(t,r,n(e,r,o))}),t},Lt.matches=function(e){return Cr(Kt(e,1))},Lt.matchesProperty=function(e,n){return Lr(e,Kt(n,1))},Lt.memoize=bl,Lt.merge=ya,Lt.mergeWith=ba,Lt.method=Ga,Lt.methodOf=Ja,Lt.mixin=$a,Lt.negate=Sl,Lt.nthArg=function(e){return e=na(e),kr(function(n){return Nr(n,e)})},Lt.omit=Sa,Lt.omitBy=function(e,n){return Ra(e,Sl(Ko(n)))},Lt.once=function(e){return pl(2,e)},Lt.orderBy=function(e,n,t,r){return null==e?[]:(Ml(n)||(n=null==n?[]:[n]),Ml(t=r?void 0:t)||(t=null==t?[]:[t]),Tr(e,n,t))},Lt.over=qa,Lt.overArgs=Al,Lt.overEvery=Za,Lt.overSome=Xa,Lt.partial=Rl,Lt.partialRight=Dl,Lt.partition=dl,Lt.pick=Aa,Lt.pickBy=Ra,Lt.property=Qa,Lt.propertyOf=function(e){return function(n){return null==e?void 0:sr(e,n)}},Lt.pull=Fi,Lt.pullAll=Bi,Lt.pullAllBy=function(e,n,t){return e&&e.length&&n&&n.length?Ir(e,n,Ko(t,2)):e},Lt.pullAllWith=function(e,n,t){return e&&e.length&&n&&n.length?Ir(e,n,void 0,t):e},Lt.pullAt=Ui,Lt.range=eu,Lt.rangeRight=nu,Lt.rearg=Cl,Lt.reject=function(e,n){return(Ml(e)?an:rr)(e,Sl(Ko(n,3)))},Lt.remove=function(e,n){var t=[];if(!e||!e.length)return t;var r=-1,o=[],i=e.length;for(n=Ko(n,3);++r<i;){var l=e[r];n(l,r,e)&&(t.push(l),o.push(r))}return wr(e,o),t},Lt.rest=function(e,n){if("function"!=typeof e)throw new Ee(t);return kr(e,n=void 0===n?n:na(n))},Lt.reverse=ji,Lt.sampleSize=function(e,n,t){return n=(t?li(e,n,t):void 0===n)?1:na(n),(Ml(e)?Bt:Fr)(e,n)},Lt.set=function(e,n,t){return null==e?e:Br(e,n,t)},Lt.setWith=function(e,n,t,r){return r="function"==typeof r?r:void 0,null==e?e:Br(e,n,t,r)},Lt.shuffle=function(e){return(Ml(e)?Ut:Vr)(e)},Lt.slice=function(e,n,t){var r=null==e?0:e.length;return r?(t&&"number"!=typeof t&&li(e,n,t)?(n=0,t=r):(n=null==n?0:na(n),t=void 0===t?r:na(t)),zr(e,n,t)):[]},Lt.sortBy=fl,Lt.sortedUniq=function(e){return e&&e.length?Jr(e):[]},Lt.sortedUniqBy=function(e,n){return e&&e.length?Jr(e,Ko(n,2)):[]},Lt.split=function(e,n,t){return t&&"number"!=typeof t&&li(e,n,t)&&(n=t=void 0),(t=void 0===t?4294967295:t>>>0)?(e=ia(e))&&("string"==typeof n||null!=n&&!Gl(n))&&!(n=Kr(n))&&Hn(e)?ao(Yn(e),0,t):e.split(n,t):[]},Lt.spread=function(e,n){if("function"!=typeof e)throw new Ee(t);return n=null==n?0:it(na(n),0),kr(function(t){var r=t[n],o=ao(t,0,n);return r&&dn(o,r),nn(e,this,o)})},Lt.tail=function(e){var n=null==e?0:e.length;return n?zr(e,1,n):[]},Lt.take=function(e,n,t){return e&&e.length?zr(e,0,(n=t||void 0===n?1:na(n))<0?0:n):[]},Lt.takeRight=function(e,n,t){var r=null==e?0:e.length;return r?zr(e,(n=r-(n=t||void 0===n?1:na(n)))<0?0:n,r):[]},Lt.takeRightWhile=function(e,n){return e&&e.length?Qr(e,Ko(n,3),!1,!0):[]},Lt.takeWhile=function(e,n){return e&&e.length?Qr(e,Ko(n,3)):[]},Lt.tap=function(e,n){return n(e),e},Lt.throttle=function(e,n,r){var o=!0,i=!0;if("function"!=typeof e)throw new Ee(t);return jl(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),_l(e,n,{leading:o,maxWait:n,trailing:i})},Lt.thru=el,Lt.toArray=Ql,Lt.toPairs=Da,Lt.toPairsIn=Ca,Lt.toPath=function(e){return Ml(e)?sn(e,Ri):Kl(e)?[e]:Eo(Ai(ia(e)))},Lt.toPlainObject=oa,Lt.transform=function(e,n,t){var r=Ml(e),o=r||Pl(e)||ql(e);if(n=Ko(n,4),null==t){var i=e&&e.constructor;t=o?r?new i:[]:jl(e)&&Fl(i)?Ot(Ve(e)):{}}return(o?rn:ar)(e,function(e,r,o){return n(t,e,r,o)}),t},Lt.unary=function(e){return ml(e,1)},Lt.union=Vi,Lt.unionBy=zi,Lt.unionWith=Yi,Lt.uniq=function(e){return e&&e.length?qr(e):[]},Lt.uniqBy=function(e,n){return e&&e.length?qr(e,Ko(n,2)):[]},Lt.uniqWith=function(e,n){return n="function"==typeof n?n:void 0,e&&e.length?qr(e,void 0,n):[]},Lt.unset=function(e,n){return null==e||Zr(e,n)},Lt.unzip=Wi,Lt.unzipWith=Gi,Lt.update=function(e,n,t){return null==e?e:Xr(e,n,oo(t))},Lt.updateWith=function(e,n,t,r){return r="function"==typeof r?r:void 0,null==e?e:Xr(e,n,oo(t),r)},Lt.values=La,Lt.valuesIn=function(e){return null==e?[]:Nn(e,ga(e))},Lt.without=Ji,Lt.words=Fa,Lt.wrap=function(e,n){return Rl(oo(n),e)},Lt.xor=$i,Lt.xorBy=Ki,Lt.xorWith=qi,Lt.zip=Zi,Lt.zipObject=function(e,n){return to(e||[],n||[],Vt)},Lt.zipObjectDeep=function(e,n){return to(e||[],n||[],Br)},Lt.zipWith=Xi,Lt.entries=Da,Lt.entriesIn=Ca,Lt.extend=aa,Lt.extendWith=ua,$a(Lt,Lt),Lt.add=iu,Lt.attempt=Ba,Lt.camelCase=Oa,Lt.capitalize=Na,Lt.ceil=lu,Lt.clamp=function(e,n,t){return void 0===t&&(t=n,n=void 0),void 0!==t&&(t=(t=ra(t))==t?t:0),void 0!==n&&(n=(n=ra(n))==n?n:0),$t(ra(e),n,t)},Lt.clone=function(e){return Kt(e,4)},Lt.cloneDeep=function(e){return Kt(e,5)},Lt.cloneDeepWith=function(e,n){return Kt(e,5,n="function"==typeof n?n:void 0)},Lt.cloneWith=function(e,n){return Kt(e,4,n="function"==typeof n?n:void 0)},Lt.conformsTo=function(e,n){return null==n||qt(e,n,_a(n))},Lt.deburr=Ta,Lt.defaultTo=function(e,n){return null==e||e!=e?n:e},Lt.divide=au,Lt.endsWith=function(e,n,t){e=ia(e),n=Kr(n);var r=e.length,o=t=void 0===t?r:$t(na(t),0,r);return(t-=n.length)>=0&&e.slice(t,o)==n},Lt.eq=Ll,Lt.escape=function(e){return(e=ia(e))&&H.test(e)?e.replace(P,Pn):e},Lt.escapeRegExp=function(e){return(e=ia(e))&&W.test(e)?e.replace(Y,"\\$&"):e},Lt.every=function(e,n,t){var r=Ml(e)?ln:nr;return t&&li(e,n,t)&&(n=void 0),r(e,Ko(n,3))},Lt.find=rl,Lt.findIndex=Ti,Lt.findKey=function(e,n){return En(e,Ko(n,3),ar)},Lt.findLast=ol,Lt.findLastIndex=Mi,Lt.findLastKey=function(e,n){return En(e,Ko(n,3),ur)},Lt.floor=uu,Lt.forEach=il,Lt.forEachRight=ll,Lt.forIn=function(e,n){return null==e?e:ir(e,Ko(n,3),ga)},Lt.forInRight=function(e,n){return null==e?e:lr(e,Ko(n,3),ga)},Lt.forOwn=function(e,n){return e&&ar(e,Ko(n,3))},Lt.forOwnRight=function(e,n){return e&&ur(e,Ko(n,3))},Lt.get=va,Lt.gt=Ol,Lt.gte=Nl,Lt.has=function(e,n){return null!=e&&ti(e,n,mr)},Lt.hasIn=ma,Lt.head=wi,Lt.identity=Ya,Lt.includes=function(e,n,t,r){e=wl(e)?e:La(e),t=t&&!r?na(t):0;var o=e.length;return t<0&&(t=it(o+t,0)),$l(e)?t<=o&&e.indexOf(n,t)>-1:!!o&&_n(e,n,t)>-1},Lt.indexOf=function(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var o=null==t?0:na(t);return o<0&&(o=it(r+o,0)),_n(e,n,o)},Lt.inRange=function(e,n,t){return n=ea(n),void 0===t?(t=n,n=0):t=ea(t),function(e,n,t){return e>=lt(n,t)&&e<it(n,t)}(e=ra(e),n,t)},Lt.invoke=ha,Lt.isArguments=Tl,Lt.isArray=Ml,Lt.isArrayBuffer=Il,Lt.isArrayLike=wl,Lt.isArrayLikeObject=xl,Lt.isBoolean=function(e){return!0===e||!1===e||Vl(e)&&fr(e)==a},Lt.isBuffer=Pl,Lt.isDate=kl,Lt.isElement=function(e){return Vl(e)&&1===e.nodeType&&!Wl(e)},Lt.isEmpty=function(e){if(null==e)return!0;if(wl(e)&&(Ml(e)||"string"==typeof e||"function"==typeof e.splice||Pl(e)||ql(e)||Tl(e)))return!e.length;var n=ni(e);if(n==f||n==E)return!e.size;if(si(e))return!Ar(e).length;for(var t in e)if(be.call(e,t))return!1;return!0},Lt.isEqual=function(e,n){return gr(e,n)},Lt.isEqualWith=function(e,n,t){var r=(t="function"==typeof t?t:void 0)?t(e,n):void 0;return void 0===r?gr(e,n,void 0,t):!!r},Lt.isError=Hl,Lt.isFinite=function(e){return"number"==typeof e&&tt(e)},Lt.isFunction=Fl,Lt.isInteger=Bl,Lt.isLength=Ul,Lt.isMap=zl,Lt.isMatch=function(e,n){return e===n||yr(e,n,Zo(n))},Lt.isMatchWith=function(e,n,t){return t="function"==typeof t?t:void 0,yr(e,n,Zo(n),t)},Lt.isNaN=function(e){return Yl(e)&&e!=+e},Lt.isNative=function(e){if(ci(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return br(e)},Lt.isNil=function(e){return null==e},Lt.isNull=function(e){return null===e},Lt.isNumber=Yl,Lt.isObject=jl,Lt.isObjectLike=Vl,Lt.isPlainObject=Wl,Lt.isRegExp=Gl,Lt.isSafeInteger=function(e){return Bl(e)&&e>=-9007199254740991&&e<=9007199254740991},Lt.isSet=Jl,Lt.isString=$l,Lt.isSymbol=Kl,Lt.isTypedArray=ql,Lt.isUndefined=function(e){return void 0===e},Lt.isWeakMap=function(e){return Vl(e)&&ni(e)==y},Lt.isWeakSet=function(e){return Vl(e)&&"[object WeakSet]"==fr(e)},Lt.join=function(e,n){return null==e?"":rt.call(e,n)},Lt.kebabCase=Ma,Lt.last=Hi,Lt.lastIndexOf=function(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==t&&(o=(o=na(t))<0?it(r+o,0):lt(o,r-1)),n==n?function(e,n,t){for(var r=t+1;r--;)if(e[r]===n)return r;return r}(e,n,o):hn(e,yn,o,!0)},Lt.lowerCase=Ia,Lt.lowerFirst=wa,Lt.lt=Zl,Lt.lte=Xl,Lt.max=function(e){return e&&e.length?tr(e,Ya,vr):void 0},Lt.maxBy=function(e,n){return e&&e.length?tr(e,Ko(n,2),vr):void 0},Lt.mean=function(e){return bn(e,Ya)},Lt.meanBy=function(e,n){return bn(e,Ko(n,2))},Lt.min=function(e){return e&&e.length?tr(e,Ya,Rr):void 0},Lt.minBy=function(e,n){return e&&e.length?tr(e,Ko(n,2),Rr):void 0},Lt.stubArray=tu,Lt.stubFalse=ru,Lt.stubObject=function(){return{}},Lt.stubString=function(){return""},Lt.stubTrue=function(){return!0},Lt.multiply=cu,Lt.nth=function(e,n){return e&&e.length?Nr(e,na(n)):void 0},Lt.noConflict=function(){return ze._===this&&(ze._=Ce),this},Lt.noop=Ka,Lt.now=vl,Lt.pad=function(e,n,t){e=ia(e);var r=(n=na(n))?zn(e):0;if(!n||r>=n)return e;var o=(n-r)/2;return Mo(Qn(o),t)+e+Mo(Xn(o),t)},Lt.padEnd=function(e,n,t){e=ia(e);var r=(n=na(n))?zn(e):0;return n&&r<n?e+Mo(n-r,t):e},Lt.padStart=function(e,n,t){e=ia(e);var r=(n=na(n))?zn(e):0;return n&&r<n?Mo(n-r,t)+e:e},Lt.parseInt=function(e,n,t){return t||null==n?n=0:n&&(n=+n),ut(ia(e).replace(G,""),n||0)},Lt.random=function(e,n,t){if(t&&"boolean"!=typeof t&&li(e,n,t)&&(n=t=void 0),void 0===t&&("boolean"==typeof n?(t=n,n=void 0):"boolean"==typeof e&&(t=e,e=void 0)),void 0===e&&void 0===n?(e=0,n=1):(e=ea(e),void 0===n?(n=e,e=0):n=ea(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var o=ct();return lt(e+o*(n-e+Be("1e-"+((o+"").length-1))),n)}return xr(e,n)},Lt.reduce=function(e,n,t){var r=Ml(e)?fn:Rn,o=arguments.length<3;return r(e,Ko(n,4),t,o,Qt)},Lt.reduceRight=function(e,n,t){var r=Ml(e)?vn:Rn,o=arguments.length<3;return r(e,Ko(n,4),t,o,er)},Lt.repeat=function(e,n,t){return n=(t?li(e,n,t):void 0===n)?1:na(n),Pr(ia(e),n)},Lt.replace=function(){var e=arguments,n=ia(e[0]);return e.length<3?n:n.replace(e[1],e[2])},Lt.result=function(e,n,t){var r=-1,o=(n=io(n,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[Ri(n[r])];void 0===i&&(r=o,i=t),e=Fl(i)?i.call(e):i}return e},Lt.round=su,Lt.runInContext=e,Lt.sample=function(e){return(Ml(e)?Ft:Hr)(e)},Lt.size=function(e){if(null==e)return 0;if(wl(e))return $l(e)?zn(e):e.length;var n=ni(e);return n==f||n==E?e.size:Ar(e).length},Lt.snakeCase=xa,Lt.some=function(e,n,t){var r=Ml(e)?mn:Yr;return t&&li(e,n,t)&&(n=void 0),r(e,Ko(n,3))},Lt.sortedIndex=function(e,n){return Wr(e,n)},Lt.sortedIndexBy=function(e,n,t){return Gr(e,n,Ko(t,2))},Lt.sortedIndexOf=function(e,n){var t=null==e?0:e.length;if(t){var r=Wr(e,n);if(r<t&&Ll(e[r],n))return r}return-1},Lt.sortedLastIndex=function(e,n){return Wr(e,n,!0)},Lt.sortedLastIndexBy=function(e,n,t){return Gr(e,n,Ko(t,2),!0)},Lt.sortedLastIndexOf=function(e,n){if(null!=e&&e.length){var t=Wr(e,n,!0)-1;if(Ll(e[t],n))return t}return-1},Lt.startCase=Pa,Lt.startsWith=function(e,n,t){return e=ia(e),t=null==t?0:$t(na(t),0,e.length),n=Kr(n),e.slice(t,t+n.length)==n},Lt.subtract=du,Lt.sum=function(e){return e&&e.length?Dn(e,Ya):0},Lt.sumBy=function(e,n){return e&&e.length?Dn(e,Ko(n,2)):0},Lt.template=function(e,n,t){var r=Lt.templateSettings;t&&li(e,n,t)&&(n=void 0),e=ia(e),n=ua({},n,r,Bo);var o,i,l=ua({},n.imports,r.imports,Bo),a=_a(l),u=Nn(l,a),c=0,s=n.interpolate||ue,d="__p += '",f=me((n.escape||ue).source+"|"+s.source+"|"+(s===U?ee:ue).source+"|"+(n.evaluate||ue).source+"|$","g"),v="//# sourceURL="+(be.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pe+"]")+"\n";e.replace(f,function(n,t,r,l,a,u){return r||(r=l),d+=e.slice(c,u).replace(ce,kn),t&&(o=!0,d+="' +\n__e("+t+") +\n'"),a&&(i=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+n.length,n}),d+="';\n";var m=be.call(n,"variable")&&n.variable;if(m){if(X.test(m))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(M,""):d).replace(I,"$1").replace(w,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var p=Ba(function(){return de(a,v+"return "+d).apply(void 0,u)});if(p.source=d,Hl(p))throw p;return p},Lt.times=function(e,n){if((e=na(e))<1||e>9007199254740991)return[];var t=4294967295,r=lt(e,4294967295);e-=4294967295;for(var o=Cn(r,n=Ko(n));++t<e;)n(t);return o},Lt.toFinite=ea,Lt.toInteger=na,Lt.toLength=ta,Lt.toLower=function(e){return ia(e).toLowerCase()},Lt.toNumber=ra,Lt.toSafeInteger=function(e){return e?$t(na(e),-9007199254740991,9007199254740991):0===e?e:0},Lt.toString=ia,Lt.toUpper=function(e){return ia(e).toUpperCase()},Lt.trim=function(e,n,t){if((e=ia(e))&&(t||void 0===n))return Ln(e);if(!e||!(n=Kr(n)))return e;var r=Yn(e),o=Yn(n);return ao(r,Mn(r,o),In(r,o)+1).join("")},Lt.trimEnd=function(e,n,t){if((e=ia(e))&&(t||void 0===n))return e.slice(0,Wn(e)+1);if(!e||!(n=Kr(n)))return e;var r=Yn(e);return ao(r,0,In(r,Yn(n))+1).join("")},Lt.trimStart=function(e,n,t){if((e=ia(e))&&(t||void 0===n))return e.replace(G,"");if(!e||!(n=Kr(n)))return e;var r=Yn(e);return ao(r,Mn(r,Yn(n))).join("")},Lt.truncate=function(e,n){var t=30,r="...";if(jl(n)){var o="separator"in n?n.separator:o;t="length"in n?na(n.length):t,r="omission"in n?Kr(n.omission):r}var i=(e=ia(e)).length;if(Hn(e)){var l=Yn(e);i=l.length}if(t>=i)return e;var a=t-zn(r);if(a<1)return r;var u=l?ao(l,0,a).join(""):e.slice(0,a);if(void 0===o)return u+r;if(l&&(a+=u.length-a),Gl(o)){if(e.slice(a).search(o)){var c,s=u;for(o.global||(o=me(o.source,ia(ne.exec(o))+"g")),o.lastIndex=0;c=o.exec(s);)var d=c.index;u=u.slice(0,void 0===d?a:d)}}else if(e.indexOf(Kr(o),a)!=a){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},Lt.unescape=function(e){return(e=ia(e))&&k.test(e)?e.replace(x,Gn):e},Lt.uniqueId=function(e){var n=++Se;return ia(e)+n},Lt.upperCase=ka,Lt.upperFirst=Ha,Lt.each=il,Lt.eachRight=ll,Lt.first=wi,$a(Lt,(ou={},ar(Lt,function(e,n){be.call(Lt.prototype,n)||(ou[n]=e)}),ou),{chain:!1}),Lt.VERSION="4.17.21",rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Lt[e].placeholder=Lt}),rn(["drop","take"],function(e,n){Mt.prototype[e]=function(t){t=void 0===t?1:it(na(t),0);var r=this.__filtered__&&!n?new Mt(this):this.clone();return r.__filtered__?r.__takeCount__=lt(t,r.__takeCount__):r.__views__.push({size:lt(t,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Mt.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),rn(["filter","map","takeWhile"],function(e,n){var t=n+1,r=1==t||3==t;Mt.prototype[e]=function(e){var n=this.clone();return n.__iteratees__.push({iteratee:Ko(e,3),type:t}),n.__filtered__=n.__filtered__||r,n}}),rn(["head","last"],function(e,n){var t="take"+(n?"Right":"");Mt.prototype[e]=function(){return this[t](1).value()[0]}}),rn(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");Mt.prototype[e]=function(){return this.__filtered__?new Mt(this):this[t](1)}}),Mt.prototype.compact=function(){return this.filter(Ya)},Mt.prototype.find=function(e){return this.filter(e).head()},Mt.prototype.findLast=function(e){return this.reverse().find(e)},Mt.prototype.invokeMap=kr(function(e,n){return"function"==typeof e?new Mt(this):this.map(function(t){return hr(t,e,n)})}),Mt.prototype.reject=function(e){return this.filter(Sl(Ko(e)))},Mt.prototype.slice=function(e,n){e=na(e);var t=this;return t.__filtered__&&(e>0||n<0)?new Mt(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),void 0!==n&&(t=(n=na(n))<0?t.dropRight(-n):t.take(n-e)),t)},Mt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Mt.prototype.toArray=function(){return this.take(4294967295)},ar(Mt.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=Lt[r?"take"+("last"==n?"Right":""):n],i=r||/^find/.test(n);o&&(Lt.prototype[n]=function(){var n=this.__wrapped__,l=r?[1]:arguments,a=n instanceof Mt,u=l[0],c=a||Ml(n),s=function(e){var n=o.apply(Lt,dn([e],l));return r&&d?n[0]:n};c&&t&&"function"==typeof u&&1!=u.length&&(a=c=!1);var d=this.__chain__,f=!!this.__actions__.length,v=i&&!d,m=a&&!f;if(!i&&c){n=m?n:new Mt(this);var p=e.apply(n,l);return p.__actions__.push({func:el,args:[s],thisArg:void 0}),new Tt(p,d)}return v&&m?e.apply(this,l):(p=this.thru(s),v?r?p.value()[0]:p.value():p)})}),rn(["pop","push","shift","sort","splice","unshift"],function(e){var n=he[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Lt.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return n.apply(Ml(o)?o:[],e)}return this[t](function(t){return n.apply(Ml(t)?t:[],e)})}}),ar(Mt.prototype,function(e,n){var t=Lt[n];if(t){var r=t.name+"";be.call(_t,r)||(_t[r]=[]),_t[r].push({name:n,func:t})}}),_t[Lo(void 0,2).name]=[{name:"wrapper",func:void 0}],Mt.prototype.clone=function(){var e=new Mt(this.__wrapped__);return e.__actions__=Eo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Eo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Eo(this.__views__),e},Mt.prototype.reverse=function(){if(this.__filtered__){var e=new Mt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Mt.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,t=Ml(e),r=n<0,o=t?e.length:0,i=function(e,n,t){for(var r=-1,o=t.length;++r<o;){var i=t[r],l=i.size;switch(i.type){case"drop":e+=l;break;case"dropRight":n-=l;break;case"take":n=lt(n,e+l);break;case"takeRight":e=it(e,n-l)}}return{start:e,end:n}}(0,o,this.__views__),l=i.start,a=i.end,u=a-l,c=r?a:l-1,s=this.__iteratees__,d=s.length,f=0,v=lt(u,this.__takeCount__);if(!t||!r&&o==u&&v==u)return eo(e,this.__actions__);var m=[];e:for(;u--&&f<v;){for(var p=-1,E=e[c+=n];++p<d;){var h=s[p],_=h.type,g=(0,h.iteratee)(E);if(2==_)E=g;else if(!g){if(1==_)continue e;break e}}m[f++]=E}return m},Lt.prototype.at=nl,Lt.prototype.chain=function(){return Qi(this)},Lt.prototype.commit=function(){return new Tt(this.value(),this.__chain__)},Lt.prototype.next=function(){void 0===this.__values__&&(this.__values__=Ql(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Lt.prototype.plant=function(e){for(var n,t=this;t instanceof Nt;){var r=Ci(t);r.__index__=0,r.__values__=void 0,n?o.__wrapped__=r:n=r;var o=r;t=t.__wrapped__}return o.__wrapped__=e,n},Lt.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Mt){var n=e;return this.__actions__.length&&(n=new Mt(this)),(n=n.reverse()).__actions__.push({func:el,args:[ji],thisArg:void 0}),new Tt(n,this.__chain__)}return this.thru(ji)},Lt.prototype.toJSON=Lt.prototype.valueOf=Lt.prototype.value=function(){return eo(this.__wrapped__,this.__actions__)},Lt.prototype.first=Lt.prototype.head,pn&&(Lt.prototype[pn]=function(){return this}),Lt}();We?((We.exports=Jn)._=Jn,Ye._=Jn):ze._=Jn}).call(h)}(ye={exports:{}},ye.exports),ye.exports),Re=function(e){var l,u,c,d,f,v,m,p=e.tenantId,E=e.data,h=i.useTranslation().t,_=r.useHistory(),g=n.useState(!1),y=g[0],b=g[1],S=n.useState(null),A=S[0],R=S[1],D=n.useState(null),C=D[0],L=D[1],O=n.useState(!1),N=O[0],T=O[1],M=n.useState(!1),I=M[0],w=M[1],x=Digit.Hooks.useCommonMDMS(Digit.ULBService.getStateId(),"egov-hrms",["CommonFieldsConfig"],{select:function(e){var n,t;return{config:null==e||null===(n=e.MdmsRes)||void 0===n||null===(t=n["egov-hrms"])||void 0===t?void 0:t.CommonFieldsConfig}},retry:!1,enable:!1}),P=x.data,k=x.isLoading,H=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_ERROR_DATA",!1)[2],F=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_HAPPENED",!1)[1],B=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_SUCCESS_DATA",!1)[2];n.useEffect(function(){F(!1),B(),H()},[]),n.useEffect(function(){C&&10==C.length&&C.match(Digit.Utils.getPattern("MobileNo"))?(R(null),E.user.mobileNumber==C?T(!0):Digit.HRMSService.search(p,null,{phone:C}).then(function(e,n){e.Employees.length>0?(R({key:!0,label:"ERR_HRMS_USER_EXIST_MOB"}),T(!1)):T(!0)})):T(!1)},[C]);var U={tenantId:p,employeeStatus:"EMPLOYED",employeeType:null==E?void 0:E.code,SelectEmployeePhoneNumber:{mobileNumber:null==E||null===(l=E.user)||void 0===l?void 0:l.mobileNumber},SelectEmployeeId:{code:null==E?void 0:E.code},SelectEmployeeName:{employeeName:null==E||null===(u=E.user)||void 0===u?void 0:u.name},SelectEmployeeEmailId:{emailId:null==E||null===(c=E.user)||void 0===c?void 0:c.emailId},SelectEmployeeCorrespondenceAddress:{correspondenceAddress:null==E||null===(d=E.user)||void 0===d?void 0:d.correspondenceAddress},SelectDateofEmployment:{dateOfAppointment:s(null==E?void 0:E.dateOfAppointment)},SelectEmployeeType:{code:null==E?void 0:E.employeeType,active:!0},SelectEmployeeGender:{gender:{code:null==E||null===(f=E.user)||void 0===f?void 0:f.gender,name:"COMMON_GENDER_"+(null==E||null===(v=E.user)||void 0===v?void 0:v.gender)}},SelectDateofBirthEmployment:{dob:s(null==E||null===(m=E.user)||void 0===m?void 0:m.dob)},Jurisdictions:null==E?void 0:E.jurisdictions.map(function(e,n){var t;return Object.assign({},e,{key:n,hierarchy:{code:e.hierarchy,name:e.hierarchy},boundaryType:{label:e.boundaryType,i18text:"EGOV_LOCATION_BOUNDARYTYPE_"+e.boundaryType.toUpperCase()},boundary:{code:e.boundary},roles:null==E||null===(t=E.user)||void 0===t?void 0:t.roles.filter(function(n){return n.tenantId==e.boundary})})}),Assignments:null==E?void 0:E.assignments.map(function(e,n){return Object.assign({},e,{key:n,fromDate:s(e.fromDate),toDate:s(e.toDate),isCurrentAssignment:e.isCurrentAssignment,designation:{code:e.designation,i18key:"COMMON_MASTERS_DESIGNATION_"+e.designation},department:{code:e.department,i18key:"COMMON_MASTERS_DEPARTMENT_"+e.department}})})};if(k)return t.createElement(o.Loader,null);var j=null!=P&&P.config?P.config:Se;return t.createElement("div",null,t.createElement(o.FormComposer,{heading:h("HR_COMMON_EDIT_EMPLOYEE_HEADER"),isDisabled:!y,label:h("HR_COMMON_BUTTON_SUBMIT"),config:j.map(function(e){return a({},e,{body:e.body.filter(function(e){return!e.hideInEmployee})})}),fieldStyle:{marginRight:0},onSubmit:function(e){var n,t,r,o,i,l,a,u,c,s,d,f,v,m,h;if(0!=e.Jurisdictions.filter(function(e){return e.tenantId==p&&!1!==e.isActive}).length)if(Object.values(e.Jurisdictions.reduce(function(e,n){return n&&null!=n&&n.tenantId&&(e[n.tenantId]=e[n.tenantId]?e[n.tenantId]+1:1),e},{})).every(function(e){return 1==e})){var g=null==e||null===(n=e.Jurisdictions)||void 0===n?void 0:n.map(function(e){var n;return null===(n=e.roles)||void 0===n?void 0:n.map(function(n){return n.tenantId=e.boundary,n})}),y=Object.assign({},E);g=[].concat.apply([],g),y.assignments=null==e?void 0:e.Assignments,y.dateOfAppointment=Date.parse(null==e||null===(t=e.SelectDateofEmployment)||void 0===t?void 0:t.dateOfAppointment),y.code=null!=e&&null!==(r=e.SelectEmployeeId)&&void 0!==r&&r.code?null==e||null===(o=e.SelectEmployeeId)||void 0===o?void 0:o.code:void 0,y.jurisdictions=null==e?void 0:e.Jurisdictions,y.user.emailId=null!=e&&null!==(i=e.SelectEmployeeEmailId)&&void 0!==i&&i.emailId?null==e||null===(l=e.SelectEmployeeEmailId)||void 0===l?void 0:l.emailId:void 0,y.user.gender=null==e||null===(a=e.SelectEmployeeGender)||void 0===a?void 0:a.gender.code,y.user.dob=Date.parse(null==e||null===(u=e.SelectDateofBirthEmployment)||void 0===u?void 0:u.dob),y.user.mobileNumber=null==e||null===(c=e.SelectEmployeePhoneNumber)||void 0===c?void 0:c.mobileNumber,y.user.name=null==e||null===(s=e.SelectEmployeeName)||void 0===s?void 0:s.employeeName,y.user.correspondenceAddress=null==e||null===(d=e.SelectEmployeeCorrespondenceAddress)||void 0===d?void 0:d.correspondenceAddress,y.user.roles=g.filter(function(e){return e&&e.name});var b=[y];b=null!==(f=Digit)&&void 0!==f&&null!==(v=f.Customizations)&&void 0!==v&&null!==(m=v.HRMS)&&void 0!==m&&m.customiseUpdateFormData?Digit.Customizations.HRMS.customiseUpdateFormData(E,b):b,_.replace("/"+(null===(h=window)||void 0===h?void 0:h.contextPath)+"/employee/hrms/response",{Employees:b,key:"UPDATE",action:"UPDATE"})}else R({key:!0,label:"ERR_INVALID_JURISDICTION"});else R({key:!0,label:"ERR_BASE_TENANT_MANDATORY"})},defaultValues:U,onFormValueChange:function(e,n){var t,r,o,i,l,a,u,c;null!=n&&null!==(t=n.SelectEmployeePhoneNumber)&&void 0!==t&&t.mobileNumber?L(null==n||null===(u=n.SelectEmployeePhoneNumber)||void 0===u?void 0:u.mobileNumber):L(null==n||null===(c=n.SelectEmployeePhoneNumber)||void 0===c?void 0:c.mobileNumber);for(var s=0;s<(null==n||null===(d=n.Jurisdictions)||void 0===d?void 0:d.length);s++){var d,f,v=null==n?void 0:n.Jurisdictions[s];if(!(null!=v&&v.boundary&&null!=v&&v.boundaryType&&null!=v&&v.hierarchy&&null!=v&&v.tenantId&&(null==v||null===(f=v.roles)||void 0===f?void 0:f.length)>0)){w(!1);break}w(!0)}for(var m=!1,p=0;p<(null==n||null===(E=n.Assignments)||void 0===E?void 0:E.length);p++){var E,h,_,g=null==n?void 0:n.Assignments[p];if(!(g.department&&g.designation&&g.fromDate&&(null!=n&&n.Assignments[p].toDate||null!=n&&null!==(h=n.Assignments[p])&&void 0!==h&&h.isCurrentAssignment))){m=!1;break}if(null==(null==n?void 0:n.Assignments[p].toDate)&&0==(null==n||null===(_=n.Assignments[p])||void 0===_?void 0:_.isCurrentAssignment)){m=!1;break}m=!0}null!=n&&null!==(r=n.SelectDateofEmployment)&&void 0!==r&&r.dateOfAppointment&&null!=n&&null!==(o=n.SelectEmployeeCorrespondenceAddress)&&void 0!==o&&o.correspondenceAddress&&null!=n&&null!==(i=n.SelectEmployeeGender)&&void 0!==i&&i.gender.code&&null!=n&&null!==(l=n.SelectEmployeeName)&&void 0!==l&&l.employeeName&&null!=n&&null!==(a=n.SelectEmployeePhoneNumber)&&void 0!==a&&a.mobileNumber&&I&&m&&N&&function(e){var n,t,r,o=(null==e||null===(n=e.SelectEmployeeEmailId)||void 0===n?void 0:n.emailId)||"",i=(null==e||null===(t=e.SelectEmployeeName)||void 0===t?void 0:t.employeeName)||"",l=(null==e||null===(r=e.SelectEmployeeCorrespondenceAddress)||void 0===r?void 0:r.correspondenceAddress)||"";return(0==o.length||o.match(Digit.Utils.getPattern("Email")))&&i.match(Digit.Utils.getPattern("Name"))&&l.match(Digit.Utils.getPattern("Address"))}(n)?b(!0):b(!1)}})," ",A&&t.createElement(o.Toast,{error:A.key,label:h(A.label),onClose:function(){R(null)}}))},De=["isLoading","isError","error","data"],Ce=["isLoading","isError","error","data"],Le=function(e){return t.createElement(o.Table,{t:e.t,data:e.data,columns:e.columns,getCellProps:e.getCellProps,onNextPage:e.onNextPage,onPrevPage:e.onPrevPage,currentPage:e.currentPage,totalRecords:e.totalRecords,onPageSizeChange:e.onPageSizeChange,pageSizeLimit:e.pageSizeLimit})},Oe=function(e){var l=e.businessService,a=e.allLinks,u=e.headerText,c=i.useTranslation().t,s=n.useState([]),d=s[0],f=s[1],v=Digit.UserService.getUser().info.roles;return n.useEffect(function(){var e=a.filter(function(e){return e.businessService===l}).filter(function(e){var n=e.roles;return n.some(function(e){return v.map(function(e){return e.code}).includes(e)})||!n.length});f(e)},[]),t.createElement(o.Card,{className:"employeeCard filter inboxLinks"},t.createElement("div",{className:"complaint-links-container"},t.createElement("div",{className:"header"},t.createElement("span",{className:"logo"},t.createElement(o.PersonIcon,null))," ",t.createElement("span",{className:"text"},c(u))),t.createElement("div",{className:"body"},d.map(function(e,n){var o=e.link,i=e.text,l=e.hyperlink;return t.createElement("span",{className:"link",key:n},void 0!==l&&l?t.createElement("a",{href:o},c(i)):t.createElement(r.Link,{to:o},c(i)))}))))},Ne=function(e){var n,r=e.onSearch,u=e.type,c=e.onClose,s=e.searchFields,d=e.searchParams,f=e.isInboxPage,v=i.useTranslation().t,m=l.useForm({defaultValues:d}),p=m.register,E=m.reset,h=m.watch,_=m.control,g=innerWidth<=640;function y(){var e=s.reduce(function(e,n){var t;return a({},e,((t={})[null==n?void 0:n.name]="",t))},{});E(e);var n=a({},d);n.delete=[],s.forEach(function(e){n.delete.push(null==e?void 0:e.name)}),r(a({},n))}var b=function(e){return t.createElement(o.LinkLabel,{style:a({display:"inline"},e?{margin:0}:{}),onClick:y},v("HR_COMMON_CLEAR_SEARCH"))};return t.createElement("form",{onSubmit:(0,m.handleSubmit)(function(e){e.mobileNumber||delete e.mobileNumber,e.delete=[],s.forEach(function(n){e[n.name]||e.delete.push(n.name)}),r(e),"mobile"===u&&c()})},t.createElement(t.Fragment,null,t.createElement("div",{className:"search-container",style:{width:"auto",marginLeft:f?"24px":"revert"}},t.createElement("div",{className:"search-complaint-container"},("mobile"===u||g)&&t.createElement("div",{className:"complaint-header",style:{display:"flex",justifyContent:"space-between"}},t.createElement("h2",null,v("ES_COMMON_SEARCH_BY")),t.createElement("span",{onClick:c},t.createElement(o.CloseSvg,null))),t.createElement("div",{className:"complaint-input-container",style:{width:"100%"}},null==s||null===(n=s.filter(function(e){return!0}))||void 0===n?void 0:n.map(function(e,n){return t.createElement("div",{key:e.name,className:"input-fields"},t.createElement("span",{className:"mobile-input"},t.createElement(o.Label,null,e.label),"date"!==e.type?t.createElement("div",{className:"field-container"},null!=e&&e.componentInFront?t.createElement("span",{className:"citizen-card-input citizen-card-input--front",style:{flex:"none"}},null==e?void 0:e.componentInFront):null,t.createElement(o.TextInput,a({},e,{inputRef:p,watch:h,shouldUpdate:!0}))):t.createElement(l.Controller,{render:function(e){return t.createElement(o.DatePicker,{date:e.value,onChange:e.onChange})},name:e.name,control:_,defaultValue:null})," "))})),t.createElement("div",{className:"inbox-action-container"},"desktop"===u&&!g&&t.createElement("span",{style:{paddingTop:"9px"},className:"clear-search"},b()),"desktop"===u&&!g&&t.createElement(o.SubmitBar,{style:{marginTop:"unset"},className:"submit-bar-search",label:v("ES_COMMON_SEARCH"),submit:!0})))),("mobile"===u||g)&&t.createElement(o.ActionBar,{className:"clear-search-container"},t.createElement("button",{className:"clear-search",style:{flex:1}},b(g)),t.createElement(o.SubmitBar,{label:v("HR_COMMON_SEARCH"),style:{flex:1},submit:!0}))))},Te=["tableConfig","filterComponent"],Me=function(e){var l,a,c,s=e.filterComponent,d=u(e,Te),f=i.useTranslation().t,v=Digit.SessionStorage.get("HRMS_TENANTS"),m=function(e){return t.createElement("span",{className:"cell-text"},f(e))},p=null==d||null===(l=d.data)||void 0===l?void 0:l.Employees,E=n.useState(function(){var e;return null===(e=Digit.ComponentRegistryService)||void 0===e?void 0:e.getComponent(s)})[0],h=t.useMemo(function(){return[{Header:f("HR_EMP_ID_LABEL"),disableSortBy:!0,Cell:function(e){var n,o=e.row;return t.createElement("span",{className:"link"},t.createElement(r.Link,{to:"/"+(null===(n=window)||void 0===n?void 0:n.contextPath)+"/employee/hrms/details/"+o.original.tenantId+"/"+o.original.code},o.original.code))}},{Header:f("HR_EMP_NAME_LABEL"),disableSortBy:!0,Cell:function(e){var n,t;return m(""+(null===(n=e.row.original)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.name))}},{Header:f("HR_ROLE_NO_LABEL"),Cell:function(e){var n,r,o,i,l=e.row;return t.createElement("div",{className:"tooltip"}," ",m(""+(null===(n=l.original)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.roles.length)),t.createElement("span",{className:"tooltiptext",style:{whiteSpace:"nowrap"}},null===(o=l.original)||void 0===o||null===(i=o.user)||void 0===i?void 0:i.roles.map(function(e,n){return t.createElement("span",null,n+1+". "+f("ACCESSCONTROL_ROLES_ROLES_"+e.code)," ",t.createElement("br",null)," ")})))},disableSortBy:!0},{Header:f("HR_DESG_LABEL"),disableSortBy:!0,Cell:function(e){var n,t,r;return m(""+(f("COMMON_MASTERS_DESIGNATION_"+(null===(n=e.row.original)||void 0===n||null===(t=n.assignments)||void 0===t||null===(r=t.sort(function(e,n){return new Date(e.fromDate)-new Date(n.fromDate)})[0])||void 0===r?void 0:r.designation))||""))}},{Header:f("HR_DEPT_LABEL"),disableSortBy:!0,Cell:function(e){var n,t,r;return m(""+(f("COMMON_MASTERS_DEPARTMENT_"+(null===(n=e.row.original)||void 0===n||null===(t=n.assignments)||void 0===t||null===(r=t.sort(function(e,n){return new Date(e.fromDate)-new Date(n.fromDate)})[0])||void 0===r?void 0:r.department))||""))}},{Header:f("HR_STATUS_LABEL"),disableSortBy:!0,Cell:function(e){var n,r;return r=null!==(n=e.row.original)&&void 0!==n&&n.isActive?"ACTIVE":"INACTIVE",t.createElement("span","INACTIVE"==r?{className:"sla-cell-error"}:{className:"sla-cell-success"},f(r)||"")}}]},[]);if(d.isLoading)c=t.createElement(o.Loader,null);else if(0===(null==p?void 0:p.length))c=t.createElement(o.Card,{style:{marginTop:20}},f("COMMON_TABLE_NO_RECORD_FOUND").split("\\n").map(function(e,n){return t.createElement("p",{key:n,style:{textAlign:"center"}},e)}));else if((null==p?void 0:p.length)>0){var _;c=t.createElement(Le,((_={t:f,data:p,columns:h,getCellProps:function(e){return{style:{maxWidth:e.column.Header==f("HR_EMP_ID_LABEL")?"150px":"",padding:"20px 18px",fontSize:"16px",minWidth:"150px"}}},onPageSizeChange:d.onPageSizeChange,currentPage:d.currentPage,onNextPage:d.onNextPage,onPrevPage:d.onPrevPage,pageSizeLimit:d.pageSizeLimit,onSort:d.onSort,disableSort:d.disableSort}).onPageSizeChange=d.onPageSizeChange,_.sortParams=d.sortParams,_.totalRecords=d.totalRecords,_))}return t.createElement("div",{className:"inbox-container",style:{overflow:"auto",scrollbarWidth:"none",msOverflowStyle:"none"}},!d.isSearch&&t.createElement("div",{className:"filters-container"},t.createElement(Oe,{parentRoute:d.parentRoute,allLinks:[{text:"HR_COMMON_CREATE_EMPLOYEE_HEADER",link:"/"+(null===(a=window)||void 0===a?void 0:a.contextPath)+"/employee/hrms/create",businessService:"hrms",roles:["HRMS_ADMIN"]}],headerText:"HRMS",businessService:d.businessService}),t.createElement("div",null,t.createElement(E,{defaultSearchParams:d.defaultSearchParams,onFilterChange:d.onFilterChange,searchParams:d.searchParams,type:"desktop",tenantIds:v}))),t.createElement("div",{style:{flex:1}},t.createElement(Ne,{defaultSearchParams:d.defaultSearchParams,onSearch:d.onSearch,type:"desktop",tenantIds:v,searchFields:d.searchFields,isInboxPage:!(null!=d&&d.isSearch),searchParams:d.searchParams}),t.createElement("div",{className:"result",style:{marginLeft:null!=d&&d.isSearch?"":"24px",flex:1}},c)))},Ie=function(e){var r=e.t,i=e.data,l=e.onFilterChange,u=e.onSearch,c=e.serviceRequestIdKey,s=e.isFstpOperator,d=e.isLoading,f=e.isSearch,v=e.searchParams,m=e.searchFields,E=e.sortParams,h=e.linkPrefix,_=e.removeParam,g=n.useState(f?"SEARCH":""),y=g[0],b=g[1],S=n.useState(!!f),A=S[0],R=S[1],D=n.useState(v),C=D[0],L=D[1],O=n.useState(E)[1];n.useEffect(function(){y&&R(!0)},[y]);var N,T=Digit.UserService.hasAccess(["FSM_DSO"])||!1,M=function(){R(!1),b(""),L(v),O(E)};if(d)return t.createElement(o.Loader,null);if(i&&0!==(null==i?void 0:i.length)){if(i&&(null==i?void 0:i.length)>0){var I,w;N=t.createElement(o.DetailsCard,{data:i,serviceRequestIdKey:c,linkPrefix:h||(T?"/"+(null===(I=window)||void 0===I?void 0:I.contextPath)+"/employee/fsm/application-details/":"/"+(null===(w=window)||void 0===w?void 0:w.contextPath)+"/employee/fsm/")})}}else N=t.createElement(o.Card,{style:{marginTop:20}},r("CS_MYAPPLICATIONS_NO_APPLICATION").split("\\n").map(function(e,n){return t.createElement("p",{key:n,style:{textAlign:"center"}},e)}));return t.createElement(t.Fragment,null,t.createElement("div",{className:"searchBox"},u&&t.createElement(o.SearchAction,{text:"SEARCH",handleActionClick:function(){b("SEARCH"),R(!0)}}),!f&&l&&t.createElement(o.FilterAction,{text:"FILTER",handleActionClick:function(){b("FILTER"),R(!0)}})),N,A&&t.createElement(o.PopUp,null,"FILTER"===y&&t.createElement("div",{className:"popup-module"},t.createElement(p,{onFilterChange:l,onClose:M,onSearch:function(e){l(a({},C,e)),b(""),R(!1),u()},type:"mobile",searchParams:C,removeParam:_})),"SEARCH"===y&&t.createElement("div",{className:"popup-module"},t.createElement(Ne,{type:"mobile",onClose:M,onSearch:u,isFstpOperator:s,searchParams:v,searchFields:m}))))},we=function(e){var n,r=e.data,o=e.isLoading,l=e.isSearch,a=e.searchFields,u=e.onFilterChange,c=e.onSearch,s=e.onSort,d=e.searchParams,f=e.sortParams,v=e.linkPrefix,m=e.filterComponent,p=i.useTranslation().t,E=function(e){return t.createElement("span",{className:"cell-text"},p(e))};return t.createElement("div",{style:{padding:0}},t.createElement("div",{className:"inbox-container"},t.createElement("div",{className:"filters-container"},t.createElement(Ie,{t:p,data:null==r||null===(n=r.Employees)||void 0===n?void 0:n.map(function(e){var n,r,o,i,l,a,u,c;return(u={})[p("HR_EMP_ID_LABEL")]=null==e?void 0:e.code,u[p("HR_EMP_NAME_LABEL")]=E((null==e||null===(n=e.user)||void 0===n?void 0:n.name)||""),u[p("HR_ROLE_NO_LABEL")]=E((null==e||null===(r=e.user)||void 0===r?void 0:r.roles.length)||""),u[p("HR_DESG_LABEL")]=E(p("COMMON_MASTERS_DESIGNATION_"+(null==e||null===(o=e.assignments)||void 0===o||null===(i=o.sort(function(e,n){return new Date(e.fromDate)-new Date(n.fromDate)})[0])||void 0===i?void 0:i.designation))),u[p("HR_DEPT_LABEL")]=E(p("COMMON_MASTERS_DEPARTMENT_"+(null==e||null===(l=e.assignments)||void 0===l||null===(a=l.sort(function(e,n){return new Date(e.fromDate)-new Date(n.fromDate)})[0])||void 0===a?void 0:a.department))),u[p("HR_STATUS_LABEL")]=t.createElement("span","INACTIVE"==(c=null!=e&&e.isActive?"ACTIVE":"INACTIVE")?{className:"sla-cell-error"}:{className:"sla-cell-success"},p(c)||""),u}),onFilterChange:u,isLoading:o,isSearch:l,onSearch:c,onSort:s,searchParams:d,searchFields:a,linkPrefix:v,sortParams:f,filterComponent:m,serviceRequestIdKey:function(e){return(null==d?void 0:d.tenantId)+"/"+(null==e?void 0:e[p("HR_EMP_ID_LABEL")])}}))))},xe=["isLoading","isError","error","data"],Pe=function(e,n,t,r){if(n)return r("HR_EMPLOYEE_ID_LABEL")},ke=function(e){var n,r,i,l,a,u;return t.createElement(o.Banner,{message:(l=e.action,a=e.isSuccess,u=e.t,function(e,n,t,r,o){return o("EMPLOYEE_RESPONSE_"+(n||"CREATE")+"_ACTION"+(t?"":"_ERROR"))}(0,l,a,0,u)),applicationNumber:e.isSuccess?null==e||null===(n=e.data)||void 0===n||null===(r=n.Employees)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.code:"",info:Pe(0,e.isSuccess,0,e.t),successful:e.isSuccess})},He=function(e){var n=e.stateCode,o=e.userType,i=e.tenants,l=Digit.StoreData.getCurrentLanguage();Digit.Services.useStore({stateCode:n,moduleCode:"HR",language:l}),Digit.SessionStorage.set("HRMS_TENANTS",i);var a=r.useRouteMatch(),u=a.path,c=a.url;return Digit.Utils.hrmsAccess()&&"employee"===o?t.createElement(be,{path:u,url:c}):null},Fe={HRMSCard:function(){var e,n,r,l,a,s;if(!Digit.Utils.hrmsAccess())return null;var d=i.useTranslation().t,f=Digit.ULBService.getCurrentTenantId(),v=Digit.Hooks.hrms.useHRMSCount(f),m=v.isLoading,p=v.data,E=(u(v,c),{Icon:t.createElement(o.PersonIcon,null),moduleName:d("ACTION_TEST_HRMS"),kpis:[{count:m?"-":null==p||null===(e=p.EmployeCount)||void 0===e?void 0:e.totalEmployee,label:d("TOTAL_EMPLOYEES"),link:"/"+(null===(n=window)||void 0===n?void 0:n.contextPath)+"/employee/hrms/inbox"},{count:m?"-":null==p||null===(r=p.EmployeCount)||void 0===r?void 0:r.activeEmployee,label:d("ACTIVE_EMPLOYEES"),link:"/"+(null===(l=window)||void 0===l?void 0:l.contextPath)+"/employee/hrms/inbox"}],links:[{label:d("HR_HOME_SEARCH_RESULTS_HEADING"),link:"/"+(null===(a=window)||void 0===a?void 0:a.contextPath)+"/employee/hrms/inbox"},{label:d("HR_COMMON_CREATE_EMPLOYEE_HEADER"),link:"/"+(null===(s=window)||void 0===s?void 0:s.contextPath)+"/employee/hrms/create"}]});return t.createElement(o.EmployeeModuleCard,E)},HRMSDetails:function(){var e,l,a,c,s,f,v,m,p,E,h,_,g,y,b,S,A,R,D,C,L,O,N,T,M,I,w,x,P,k,H,F,B,U,j,V,z,Y,W,G,J,$,K,q,Z,X,Q,ee,ne,te,re,oe,ie,le,ae,ue,ce,se,de,fe=n.useState(null),ve=fe[0],me=fe[1],pe=n.useState(!1),he=pe[0],_e=pe[1],ge=i.useTranslation().t,ye=r.useParams().id,be=r.useParams().tenantId,Se=r.useHistory(),Ae=n.useState(!1),Re=Ae[0],De=Ae[1],Le=Digit.SessionStorage.get("isupdate"),Oe=Digit.Hooks.hrms.useHRMSSearch({codes:ye},be,null,Le),Ne=Oe.isLoading,Te=Oe.data,Me=(u(Oe,Ce),Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_ERROR_DATA",!1)[2]),Ie=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_HAPPENED",!1)[1],we=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_SUCCESS_DATA",!1)[2],xe=window.Digit.Utils.browser.isMobile();return n.useEffect(function(){Ie(!1),we(),Me()},[]),n.useEffect(function(){var e;switch(ve){case"DEACTIVATE_EMPLOYEE_HEAD":case"ACTIVATE_EMPLOYEE_HEAD":return _e(!0);case"COMMON_EDIT_EMPLOYEE_HEADER":return Se.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/hrms/edit/"+be+"/"+ye)}},[ve]),Ne?t.createElement(o.Loader,null):t.createElement(t.Fragment,null,t.createElement("div",{style:xe?{marginLeft:"-12px",fontFamily:"calibri",color:"#FF0000"}:{marginLeft:"15px",fontFamily:"calibri",color:"#FF0000"}},t.createElement(o.Header,null,ge("HR_NEW_EMPLOYEE_FORM_HEADER"))),!Ne&&(null==Te?void 0:Te.Employees.length)>0?t.createElement("div",null,t.createElement(o.Card,null,t.createElement(o.StatusTable,null,t.createElement(o.Row,{label:t.createElement(o.CardSubHeader,{className:"card-section-header"},ge("HR_EMP_STATUS_LABEL")," "),text:null!=Te&&null!==(e=Te.Employees)&&void 0!==e&&null!==(l=e[0])&&void 0!==l&&l.isActive?t.createElement("div",{className:"sla-cell-success"}," ",ge("ACTIVE")," "):t.createElement("div",{className:"sla-cell-error"},ge("INACTIVE")),textStyle:{fontWeight:"bold",maxWidth:"6.5rem"}})),t.createElement(o.CardSubHeader,{className:"card-section-header"},ge("HR_PERSONAL_DETAILS_FORM_HEADER")," "),t.createElement(o.StatusTable,null,t.createElement(o.Row,{label:ge("HR_NAME_LABEL"),text:(null==Te||null===(a=Te.Employees)||void 0===a||null===(c=a[0])||void 0===c||null===(s=c.user)||void 0===s?void 0:s.name)||"NA",textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_MOB_NO_LABEL"),text:(null==Te||null===(f=Te.Employees)||void 0===f||null===(v=f[0])||void 0===v||null===(m=v.user)||void 0===m?void 0:m.mobileNumber)||"NA",textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_GENDER_LABEL"),text:ge(null==Te||null===(p=Te.Employees)||void 0===p||null===(E=p[0])||void 0===E||null===(h=E.user)||void 0===h?void 0:h.gender)||"NA"}),t.createElement(o.Row,{label:ge("HR_EMAIL_LABEL"),text:(null==Te||null===(_=Te.Employees)||void 0===_||null===(g=_[0])||void 0===g||null===(y=g.user)||void 0===y?void 0:y.emailId)||"NA"}),t.createElement(o.Row,{label:ge("HR_CORRESPONDENCE_ADDRESS_LABEL"),text:(null==Te||null===(b=Te.Employees)||void 0===b||null===(S=b[0])||void 0===S||null===(A=S.user)||void 0===A?void 0:A.correspondenceAddress)||"NA"})),t.createElement(o.CardSubHeader,{className:"card-section-header"},ge("HR_NEW_EMPLOYEE_FORM_HEADER")),t.createElement(o.StatusTable,null,t.createElement(o.Row,{label:ge("HR_EMPLOYMENT_TYPE_LABEL"),text:ge(null!=Te&&null!==(R=Te.Employees)&&void 0!==R&&null!==(D=R[0])&&void 0!==D&&D.employeeType?"EGOV_HRMS_EMPLOYEETYPE_"+(null==Te||null===(C=Te.Employees)||void 0===C||null===(L=C[0])||void 0===L?void 0:L.employeeType):"NA"),textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_APPOINTMENT_DATE_LABEL"),text:d(null==Te||null===(O=Te.Employees)||void 0===O||null===(N=O[0])||void 0===N?void 0:N.dateOfAppointment)||"NA",textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_EMPLOYEE_ID_LABEL"),text:null==Te||null===(T=Te.Employees)||void 0===T||null===(M=T[0])||void 0===M?void 0:M.code})),0==(null==Te||null===(I=Te.Employees)||void 0===I||null===(w=I[0])||void 0===w?void 0:w.isActive)?t.createElement(o.StatusTable,null,t.createElement(o.Row,{label:ge("HR_EFFECTIVE_DATE"),text:d(null==Te||null===(x=Te.Employees)||void 0===x||null===(P=x[0])||void 0===P||null===(k=P.deactivationDetails)||void 0===k||null===(H=k.sort(function(e,n){return new Date(e.effectiveFrom)-new Date(n.effectiveFrom)})[0])||void 0===H?void 0:H.effectiveFrom)}),t.createElement(o.Row,{label:ge("HR_DEACTIVATION_REASON"),text:ge("EGOV_HRMS_DEACTIVATIONREASON_"+(null==Te||null===(F=Te.Employees)||void 0===F||null===(B=F[0])||void 0===B||null===(U=B.deactivationDetails)||void 0===U?void 0:U.sort(function(e,n){return new Date(e.effectiveFrom)-new Date(n.effectiveFrom)})[0].reasonForDeactivation))||"NA"}),t.createElement(o.Row,{label:ge("HR_REMARKS"),text:(null==Te||null===(j=Te.Employees)||void 0===j||null===(V=j[0])||void 0===V||null===(z=V.deactivationDetails)||void 0===z?void 0:z.sort(function(e,n){return new Date(e.effectiveFrom)-new Date(n.effectiveFrom)})[0].remarks)||"NA"}),t.createElement(o.Row,{label:ge("HR_ORDER_NO"),text:(null==Te||null===(Y=Te.Employees)||void 0===Y||null===(W=Y[0])||void 0===W||null===(G=W.deactivationDetails)||void 0===G||null===(J=G.sort(function(e,n){return new Date(e.effectiveFrom)-new Date(n.effectiveFrom)})[0])||void 0===J?void 0:J.orderNo)||"NA"})):null,null!=Te&&null!==($=Te.Employees)&&void 0!==$&&null!==(K=$[0])&&void 0!==K&&K.documents?t.createElement(o.StatusTable,{style:{marginBottom:"40px"}},t.createElement(o.Row,{label:ge("TL_APPROVAL_UPLOAD_HEAD"),text:""}),t.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},null==Te||null===(q=Te.Employees)||void 0===q||null===(Z=q[0])||void 0===Z||null===(X=Z.documents)||void 0===X?void 0:X.map(function(e,n){return t.createElement("a",{onClick:function(){return function(e){try{return Promise.resolve(Digit.UploadServices.Filefetch([null==e?void 0:e.documentId],Digit.ULBService.getStateId())).then(function(n){var t=function(e,n,t){void 0===e&&(e={}),void 0===n&&(n="");var r=e[n]||"",o=(null==r?void 0:r.split(","))||[],i="";return o.length>0&&o.map(function(e){e.includes("large")||e.includes("medium")||e.includes("small")||(i=e)}),i}(n.data,null==e?void 0:e.documentId);window.open(t,"_blank")})}catch(e){return Promise.reject(e)}}(e)},style:{minWidth:"160px",marginRight:"20px"},key:n},t.createElement(o.DocumentSVG,{width:85,height:100,style:{background:"#f6f6f6",padding:"8px",marginLeft:"15px"}}),t.createElement("p",{style:{marginTop:"8px",maxWidth:"196px"}},e.documentName))}))):null,(null==Te||null===(Q=Te.Employees)||void 0===Q||null===(ee=Q[0])||void 0===ee?void 0:ee.jurisdictions.length)>0?t.createElement(o.CardSubHeader,{className:"card-section-header"},ge("HR_JURIS_DET_HEADER")):null,(null==Te||null===(ne=Te.Employees)||void 0===ne||null===(te=ne[0])||void 0===te||null===(re=te.jurisdictions)||void 0===re?void 0:re.length)>0?null==Te||null===(oe=Te.Employees)||void 0===oe||null===(ie=oe[0])||void 0===ie?void 0:ie.jurisdictions.map(function(e,n){var r,i;return t.createElement(o.StatusTable,{key:n,style:{maxWidth:"640px",border:"1px solid rgb(214, 213, 212)",inset:"0px",width:"auto",padding:".2rem",marginBottom:"2rem"}},t.createElement("div",{style:{paddingBottom:"2rem"}}," ",ge("HR_JURISDICTION")," ",n+1),t.createElement(o.Row,{label:ge("HR_HIERARCHY_LABEL"),text:ge(null!=e&&e.hierarchy?"EGOV_LOCATION_TENANTBOUNDARY_"+(null==e?void 0:e.hierarchy):"NA"),textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_BOUNDARY_TYPE_LABEL"),text:ge(Digit.Utils.locale.convertToLocale(null==e?void 0:e.boundaryType,"EGOV_LOCATION_BOUNDARYTYPE")),textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_BOUNDARY_LABEL"),text:ge(null==e?void 0:e.boundary)}),t.createElement(o.Row,{label:ge("HR_ROLE_LABEL"),text:null==Te||null===(r=Te.Employees)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.user.roles.filter(function(n){return n.tenantId==(null==e?void 0:e.boundary)}).map(function(e){return ge("ACCESSCONTROL_ROLES_ROLES_"+(null==e?void 0:e.code))})}))}):null,(null==Te||null===(le=Te.Employees)||void 0===le||null===(ae=le[0])||void 0===ae?void 0:ae.assignments.length)>0?t.createElement(o.CardSubHeader,{className:"card-section-header"},ge("HR_ASSIGN_DET_HEADER")):null,null==Te||null===(ue=Te.Employees)||void 0===ue||null===(ce=ue[0])||void 0===ce?void 0:ce.assignments.map(function(e,n){return t.createElement(o.StatusTable,{key:n,style:{maxWidth:"640px",border:"1px solid rgb(214, 213, 212)",inset:"0px",width:"auto",padding:".2rem",marginBottom:"2rem"}},t.createElement("div",{style:{paddingBottom:"2rem"}},ge("HR_ASSIGNMENT")," ",n+1),t.createElement(o.Row,{label:ge("HR_ASMT_FROM_DATE_LABEL"),text:d(null==e?void 0:e.fromDate),textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_ASMT_TO_DATE_LABEL"),text:null!=e&&e.isCurrentAssignment?"Currently Working Here":d(null==e?void 0:e.toDate),textStyle:{whiteSpace:"pre"}}),t.createElement(o.Row,{label:ge("HR_DEPT_LABEL"),text:ge("COMMON_MASTERS_DEPARTMENT_"+(null==e?void 0:e.department))}),t.createElement(o.Row,{label:ge("HR_DESG_LABEL"),text:ge("COMMON_MASTERS_DESIGNATION_"+(null==e?void 0:e.designation))}))}))):null,he?t.createElement(Ee,{t:ge,action:ve,tenantId:be,applicationData:Te,closeModal:function(){me(null),_e(!1)},submitAction:function(e){}}):null,t.createElement(o.ActionBar,null,Re&&Te?t.createElement(o.Menu,{localeKeyPrefix:"HR",options:null!=Te&&null!==(se=Te.Employees)&&void 0!==se&&null!==(de=se[0])&&void 0!==de&&de.isActive?["DEACTIVATE_EMPLOYEE_HEAD","COMMON_EDIT_EMPLOYEE_HEADER"]:["ACTIVATE_EMPLOYEE_HEAD"],t:ge,onSelect:function(e){me(e),De(!1)}}):null,t.createElement(o.SubmitBar,{label:ge("HR_COMMON_TAKE_ACTION"),onSubmit:function(){return De(!Re)}})))},SelectEmployeeEmailId:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,s=e.errors,d=(r.useLocation(),[{label:"HR_EMAIL_LABEL",type:"email",name:"emailId",validation:{title:n("CORE_COMMON_APPLICANT_NAME_INVALID")}}]);return t.createElement("div",null,null==d?void 0:d.map(function(e,r){var u=c&&c[i.key]&&c[i.key][e.name]||"";return t.createElement(t.Fragment,{key:r},s[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.TextInput,a({type:e.type,key:e.name,value:c&&c[i.key]?c[i.key][e.name]:void 0,onChange:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n.target.value,e.name)},disable:!1,defaultValue:void 0},e.validation)),u&&u.length>0&&!u.match(Digit.Utils.getPattern("Email"))&&t.createElement(o.CardLabelError,{style:{width:"100%",marginTop:"-15px",fontSize:"16px",marginBottom:"12px"}},n("CS_PROFILE_EMAIL_ERRORMSG")))))}))},SelectEmployeeName:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,s=e.errors,d=(r.useLocation(),[{label:"HR_EMP_NAME_LABEL",type:"text",name:"employeeName",validation:{isRequired:!0,pattern:Digit.Utils.getPattern("Name"),title:n("CORE_COMMON_APPLICANT_NAME_INVALID")},isMandatory:!0}]);return t.createElement("div",null,null==d?void 0:d.map(function(e,r){var u=c&&c[i.key]&&c[i.key][e.name]||"";return t.createElement(t.Fragment,{key:r},s[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.TextInput,a({key:e.name,value:c&&c[i.key]?c[i.key][e.name]:void 0,onChange:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n.target.value,e.name)},disable:!1,defaultValue:void 0},e.validation)),u&&u.length>0&&!u.match(Digit.Utils.getPattern("Name"))&&t.createElement(o.CardLabelError,{style:{width:"100%",marginTop:"-15px",fontSize:"16px",marginBottom:"12px"}},n("CORE_COMMON_APPLICANT_NAME_INVALID")))))}))},SelectEmployeeId:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,s=e.errors,d=(r.useLocation(),window.location.pathname.includes("/edit/")),f=[{label:"HR_EMP_ID_LABEL",type:"text",name:"code",validation:{title:n("CORE_COMMON_APPLICANT_NAME_INVALID")}}];return t.createElement("div",null,null==f?void 0:f.map(function(e,r){return t.createElement(t.Fragment,{key:r},s[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.TextInput,a({key:e.name,value:c&&c[i.key]?c[i.key][e.name]:void 0,onChange:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n.target.value,e.name)},disable:d,defaultValue:void 0},e.validation)))))}))},Jurisdictions:function(e){var r,i=e.t,l=e.config,u=e.onSelect,c=e.formData,s=Digit.ULBService.getCurrentTenantId(),d=n.useState([]),f=d[0],v=d[1],m=Digit.Hooks.hrms.useHrmsMDMS(s,"egov-hrms","HRMSRolesandDesignation")||{},p=m.data,E=void 0===p?{}:p,h=m.isLoading,_=Digit.Hooks.useSessionStorage("NEW_EMPLOYEE_CREATE",{})[0],g=window.location.href.includes("hrms/edit"),y=n.useState(!g&&(null==_||null===(r=_.Jurisdictions)||void 0===r?void 0:r.length)>0?function(e){var n;return null==e||null===(n=e.Jurisdictions)||void 0===n?void 0:n.map(function(e,n){var t;return{key:n,hierarchy:{code:null==e?void 0:e.hierarchy,name:null==e?void 0:e.hierarchy},boundaryType:{label:null==e?void 0:e.boundaryType,i18text:e.boundaryType?"EGOV_LOCATION_BOUNDARYTYPE_"+(null===(t=e.boundaryType)||void 0===t?void 0:t.toUpperCase()):null},boundary:{code:null==e?void 0:e.boundary},roles:null==e?void 0:e.roles}})}(_):(null==c?void 0:c.Jurisdictions)||[{id:void 0,key:1,hierarchy:null,boundaryType:null,boundary:null,roles:[]}]),b=y[0],S=y[1];n.useEffect(function(){var e=null==b?void 0:b.map(function(e){var n,t,r,o,i={id:null==e?void 0:e.id,hierarchy:null==e||null===(n=e.hierarchy)||void 0===n?void 0:n.code,boundaryType:null==e||null===(t=e.boundaryType)||void 0===t?void 0:t.label,boundary:null==e||null===(r=e.boundary)||void 0===r?void 0:r.code,tenantId:null==e||null===(o=e.boundary)||void 0===o?void 0:o.code,auditDetails:null==e?void 0:e.auditDetails};return i=he(i),null!=e&&e.roles&&(i.roles=null==e?void 0:e.roles.map(function(e){return delete e.description,e})),i});u(l.key,[].concat(e,f).filter(function(e){return 0!==Object.keys(e).length}))},[b]);var A=function(e){var n,t;if(e.id){var r,o,i,l,u={id:null==e?void 0:e.id,hierarchy:null==e||null===(r=e.hierarchy)||void 0===r?void 0:r.code,boundaryType:null==e||null===(o=e.boundaryType)||void 0===o?void 0:o.label,boundary:null==e||null===(i=e.boundary)||void 0===i?void 0:i.code,tenantId:null==e||null===(l=e.boundary)||void 0===l?void 0:l.code,auditDetails:null==e?void 0:e.auditDetails,isdeleted:!0,isActive:!1};u=he(u),null!=e&&e.roles&&(u.roles=null==e?void 0:e.roles.map(function(e){return delete e.description,e})),v([].concat(f,[u]))}S(function(n){return n.filter(function(n){return n.key!==e.key})}),(null===(n=FormData.errors)||void 0===n||null===(t=n.Jurisdictions)||void 0===t?void 0:t.type)==e.key&&clearErrors("Jurisdictions"),S(function(e){return e.map(function(e,n){return a({},e,{key:n})})})},R=[],D=[],C=n.useState(-1),L=C[0],O=C[1];function N(){var e;return null==E||null===(e=E.MdmsRes)||void 0===e?void 0:e["egov-location"].TenantBoundary.map(function(e){return e.hierarchyType})}function T(){return[]}function M(){var e;return null==E||null===(e=E.MdmsRes)||void 0===e?void 0:e["ACCESSCONTROL-ROLES"].roles.map(function(e){return{code:e.code,name:null!=e&&e.name?null==e?void 0:e.name:" ",labelKey:"ACCESSCONTROL_ROLES_ROLES_"+e.code}})}return h?t.createElement(o.Loader,null):t.createElement("div",null,null==b?void 0:b.map(function(e,n){return t.createElement(ge,{t:i,formData:c,jurisdictions:b,key:n,keys:e.key,data:E,jurisdiction:e,setjurisdictions:S,index:n,focusIndex:L,setFocusIndex:O,gethierarchylistdata:N,hierarchylist:R,boundaryTypeoption:D,getboundarydata:T,getroledata:M,handleRemoveUnit:A})}),t.createElement("label",{onClick:function(){S(function(e){return[].concat(e,[{key:e.length+1,hierarchy:null,boundaryType:null,boundary:null,roles:[]}])})},className:"link-label",style:{width:"12rem"}},i("HR_ADD_JURISDICTION")))},Assignments:function(e){var r=e.t,i=e.config,l=e.onSelect,u=e.formData,c=Digit.ULBService.getCurrentTenantId(),d=Digit.Hooks.hrms.useHrmsMDMS(c,"egov-hrms","HRMSRolesandDesignation")||{},f=d.data,v=void 0===f?{}:f,m=d.isLoading,p=n.useState(null),E=p[0],h=p[1],_=Digit.Hooks.useSessionStorage("NEW_EMPLOYEE_CREATE",{})[0],g=window.location.href.includes("hrms/edit"),y=n.useState(!g&&null!=_&&_.Assignments?function(e){var n;return null==e||null===(n=e.Assignments)||void 0===n?void 0:n.map(function(e,n){return{key:n,fromDate:e.fromDate?s(e.fromDate):null,toDate:e.toDate?s(e.toDate):null,isCurrentAssignment:null==e?void 0:e.isCurrentAssignment,designation:{code:null==e?void 0:e.designation,i18key:e.designation?"COMMON_MASTERS_DESIGNATION_"+e.designation:null},department:{code:null==e?void 0:e.department,i18key:e.department?"COMMON_MASTERS_DEPARTMENT_"+e.department:null}}})}(_):(null==u?void 0:u.Assignments)||[{key:1,fromDate:void 0,toDate:void 0,isCurrentAssignment:!1,department:null,designation:null}]),b=y[0],S=y[1],A=function(e){var n,t;S(function(n){return n.filter(function(n){return n.key!==e.key})}),(null===(n=FormData.errors)||void 0===n||null===(t=n.Assignments)||void 0===t?void 0:t.type)==e.key&&clearErrors("Jurisdictions"),S(function(e){return e.map(function(e,n){return a({},e,{key:n})})})};n.useEffect(function(){var e=null==b?void 0:b.map(function(e){var n,t;return e?he({id:null==e?void 0:e.id,position:null==e?void 0:e.position,govtOrderNumber:null==e?void 0:e.govtOrderNumber,tenantid:null==e?void 0:e.tenantid,auditDetails:null==e?void 0:e.auditDetails,fromDate:null!=e&&e.fromDate?new Date(null==e?void 0:e.fromDate).getTime():void 0,toDate:null!=e&&e.toDate?new Date(null==e?void 0:e.toDate).getTime():void 0,isCurrentAssignment:null==e?void 0:e.isCurrentAssignment,department:null==e||null===(n=e.department)||void 0===n?void 0:n.code,designation:null==e||null===(t=e.designation)||void 0===t?void 0:t.code}):[]});Promise.all(e).then(function(e){l(i.key,e.filter(function(e){return 0!==Object.keys(e).length}))}),b.map(function(e){e.isCurrentAssignment&&h(e.fromDate)})},[b]);var R=[],D=[],C=n.useState(-1),L=C[0],O=C[1];function N(){var e,n;return null==v||null===(e=v.MdmsRes)||void 0===e||null===(n=e["common-masters"])||void 0===n?void 0:n.Department.map(function(e){return e.i18key=r("COMMON_MASTERS_DEPARTMENT_"+e.code),e})}function T(){var e,n;return null==v||null===(e=v.MdmsRes)||void 0===e||null===(n=e["common-masters"])||void 0===n?void 0:n.Designation.map(function(e){return e.i18key=r("COMMON_MASTERS_DESIGNATION_"+e.code),e})}return m?t.createElement(o.Loader,null):t.createElement("div",null,null==b?void 0:b.map(function(e,n){return t.createElement(_e,{t:r,key:n,keys:n.key,formData:u,assignment:e,setassignments:S,index:n,focusIndex:L,setFocusIndex:O,getdepartmentdata:N,department:R,designation:D,getdesignationdata:T,assignments:b,handleRemoveUnit:A,setCurrentAssiginmentDate:h,currentassignemtDate:E})}),t.createElement("label",{onClick:function(){S(function(e){return[].concat(e,[{key:e.length+1,fromDate:void 0,toDate:void 0,isCurrentAssignment:!1,department:null,designation:null}])})},className:"link-label",style:{width:"12rem"}},r("HR_ADD_ASSIGNMENT")))},ActionModal:Ee,HRBanner:function(e){var n,r,i,l=e.t,a=e.config;return t.createElement(o.LabelFieldPair,null,!0!==(null==a||null===(n=a.texts)||void 0===n?void 0:n.nosideText)&&t.createElement(o.CardLabel,{className:"card-label-smaller",style:{color:"white"}},"."),t.createElement("span",{className:"form-field",style:!0!==(null==a||null===(r=a.texts)||void 0===r?void 0:r.nosideText)?{color:"gray"}:{color:"gray",width:"100%",marginTop:"-20px"}},l(null==a||null===(i=a.texts)||void 0===i?void 0:i.header)))},SelectEmployeePhoneNumber:function(e){var i=e.t,l=e.config,u=e.onSelect,c=e.formData,s=void 0===c?{}:c,d=(r.useLocation(),n.useState(!1)),f=d[0],v=d[1],m=window.Digit.Utils.browser.isMobile(),p=[{label:i("HR_MOB_NO_LABEL"),isMandatory:!0,type:"text",name:"mobileNumber",populators:{validation:{required:!0,pattern:/^[6-9]\d{9}$/},componentInFront:t.createElement("div",{className:"employee-card-input employee-card-input--front"},"+91"),error:i("CORE_COMMON_MOBILE_ERROR")}}];function E(e,n){v(!n.populators.validation.pattern.test(e))}return t.createElement("div",null,null==p?void 0:p.map(function(e,n){return t.createElement(t.Fragment,{key:n},t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},i(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field-container",style:{width:m?"100%":"50%",display:"block"}},t.createElement("div",null,t.createElement("div",{style:{display:"flex"}},t.createElement("div",{className:"employee-card-input employee-card-input--front"},"+91"),t.createElement(o.TextInput,a({className:"field desktop-w-full",key:e.name,value:s&&s[l.key]?s[l.key][e.name]:void 0,onChange:function(n){!function(e,n){var t;u(l.key,a({},s[l.key],((t={})[n]=e,t)))}(n.target.value,e.name,E(n.target.value,e))},disable:!1,defaultValue:void 0,onBlur:function(n){return E(n.target.value,e)}},e.validation))),t.createElement("div",null,f?t.createElement(o.CardLabelError,{style:{width:"100%"}},i(e.populators.error)):t.createElement("span",{style:{color:"gray",width:"100%",border:"none",background:"none",justifyContent:"start"}},i("HR_MOBILE_NO_CHECK")))))))}))},SelectDateofEmployment:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,d=e.errors,f=(r.useLocation(),[{label:"HR_APPOINTMENT_DATE_LABEL",type:"date",name:"dateOfAppointment",validation:{isRequired:!0,title:n("CORE_COMMON_APPLICANT_NAME_INVALID")},isMandatory:!0}]);return t.createElement("div",null,null==f?void 0:f.map(function(e,r){var u;return t.createElement(t.Fragment,{key:r},d[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.DatePicker,a({key:e.name,min:null==c||null===(u=c.SelectDateofBirthEmployment)||void 0===u?void 0:u.dob,max:s(new Date),date:c&&c[i.key]?c[i.key][e.name]:void 0,onChange:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n,e.name)},disable:!1},e.validation,{defaultValue:void 0})))))}))},SelectEmployeeType:function(e){var i=e.t,l=e.config,a=e.onSelect,u=e.formData,c=void 0===u?{}:u,s=Digit.ULBService.getCurrentTenantId(),d=(r.useLocation().pathname.includes("/modify-application/"),Digit.Hooks.hrms.useHrmsMDMS(s,"egov-hrms","EmployeeType")||{}),f=d.data,v=void 0===f?[]:f,m=d.isLoading,p=n.useState(null==c?void 0:c.SelectEmployeeType),E=p[0],h=p[1];function _(e){h(e)}n.useEffect(function(){a(l.key,E)},[E]);var g=[{label:"HR_EMPLOYMENT_TYPE_LABEL",type:"text",name:"EmployeeType",validation:{isRequired:!0},isMandatory:!0}];return m?t.createElement(o.Loader,null):null==g?void 0:g.map(function(e,n){var r;return t.createElement(o.LabelFieldPair,{key:n},t.createElement(o.CardLabel,{className:"card-label-smaller"},i(e.label),e.isMandatory?" * ":null),t.createElement(o.Dropdown,{className:"form-field",selected:E,option:null==v||null===(r=v["egov-hrms"])||void 0===r?void 0:r.EmployeeType,select:_,optionKey:"code",defaultValue:void 0,t:i}))})},SelectEmployeeCorrespondenceAddress:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,s=e.errors,d=(r.useLocation(),[{label:"HR_CORRESPONDENCE_ADDRESS_LABEL",type:"text",name:"correspondenceAddress",validation:{pattern:Digit.Utils.getPattern("Address"),isRequired:!0,title:n("CORE_COMMON_APPLICANT_NAME_INVALID")},isMandatory:!0}]);return t.createElement("div",null,null==d?void 0:d.map(function(e,r){var u=c&&c[i.key]&&c[i.key][e.name]||"";return t.createElement(t.Fragment,{key:r},s[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.TextInput,a({key:e.name,value:c&&c[i.key]?c[i.key][e.name]:void 0,onChange:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n.target.value,e.name)},disable:!1,defaultValue:void 0},e.validation)),u&&u.length>0&&!u.match(Digit.Utils.getPattern("Address"))&&t.createElement(o.CardLabelError,{style:{width:"100%",marginTop:"-15px",fontSize:"16px",marginBottom:"12px"}},n("CORE_COMMON_APPLICANT_ADDRESS_INVALID")))))}))},SelectEmployeeGender:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,s=e.errors,d=(r.useLocation(),[{label:"HR_GENDER_LABEL",type:"text",name:"gender",validation:{isRequired:!0,title:n("CORE_COMMON_APPLICANT_NAME_INVALID")},isMandatory:!0}]),f=(Digit.ULBService.getCurrentTenantId(),Digit.ULBService.getStateId()),v=Digit.Hooks.hrms.useHRMSGenderMDMS(f,"common-masters","GenderType").data,m=[];return v&&v.map(function(e){m.push({name:"COMMON_GENDER_"+e.code,code:""+e.code})}),t.createElement("div",null,null==d?void 0:d.map(function(e,r){return t.createElement(t.Fragment,{key:r},s[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.RadioButtons,a({style:{display:"flex",justifyContent:"space-between"},options:m,key:e.name,optionsKey:"name",selectedOption:c&&c[i.key]?c[i.key][e.name]:null,onSelect:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n,e.name)},disable:!1,defaultValue:void 0,t:n},e.validation)))))}))},SelectDateofBirthEmployment:function(e){var n=e.t,i=e.config,l=e.onSelect,u=e.formData,c=void 0===u?{}:u,d=e.errors,f=(r.useLocation(),[{label:"HR_BIRTH_DATE_LABEL",type:"date",name:"dob",validation:{isRequired:!0,title:n("CORE_COMMON_APPLICANT_NAME_INVALID")},isMandatory:!0}]);return t.createElement("div",null,null==f?void 0:f.map(function(e,r){return t.createElement(t.Fragment,{key:r},d[e.name]&&t.createElement(o.CardLabelError,null,n(e.error)),t.createElement(o.LabelFieldPair,null,t.createElement(o.CardLabel,{className:"card-label-smaller"},n(e.label),e.isMandatory?" * ":null),t.createElement("div",{className:"field"},t.createElement(o.DatePicker,a({key:e.name,date:c&&c[i.key]?c[i.key][e.name]:void 0,onChange:function(n){return function(e,n){var t;l(i.key,a({},c[i.key],((t={})[n]=e,t)))}(n,e.name)},disable:!1,max:s((new Date).setFullYear((new Date).getFullYear()-18)),defaultValue:void 0},e.validation)))))}))},HRMSModule:He,HRMSResponse:function(e){var l,a,u=i.useTranslation().t,c=Digit.ULBService.getCurrentTenantId(),s=(Digit.ULBService.getStateId(),e.location.state),d=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_HAPPENED",!1),f=d[0],v=d[1],m=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_SUCCESS_DATA",!1),p=m[0],E=m[1],h=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_ERROR_DATA",!1),_=h[0],g=h[1],y="UPDATE"===s.key?Digit.Hooks.hrms.useHRMSUpdate(c):Digit.Hooks.hrms.useHRMSCreate(c),b=Digit.Hooks.useSessionStorage("NEW_EMPLOYEE_CREATE",{}),S=b[0],A=b[2];n.useEffect(function(){!window.location.href.includes("/hrms/create")&&S&&0!=Object.keys(S)&&A()},[location]);var R,D,C,L,O=function(e,n){var t,r,o;g((null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r||null===(o=r.Errors[0])||void 0===o?void 0:o.code)||"ERROR"),v(!0)};return n.useEffect(function(){y.data&&E(y.data)},[y.data]),n.useEffect(function(){var e=function(){v(!0)};f||("UPDATE"===s.key?y.mutate({Employees:s.Employees},{onError:O,onSuccess:e}):y.mutate(s,{onSuccess:e}))},[]),y.isLoading||y.isIdle&&!f?t.createElement(o.Loader,null):t.createElement(o.Card,null,t.createElement(ke,{t:u,data:(null==y?void 0:y.data)||p,action:s.action,isSuccess:!!p||(null==y?void 0:y.isSuccess),isLoading:y.isIdle&&!f||(null==y?void 0:y.isLoading),isEmployee:e.parentRoute.includes("employee")}),t.createElement(o.CardText,null,u((R=y.isSuccess||!!p,e.parentRoute.includes("employee"),R?(Digit.SessionStorage.set("isupdate",Math.floor(1e5+9e5*Math.random())),"CREATE"===s.key?"HRMS_CREATE_EMPLOYEE_INFO":""):(null==y||null===(D=y.error)||void 0===D||null===(C=D.response)||void 0===C||null===(L=C.data)||void 0===L?void 0:L.Errors[0].code)||_),u)),t.createElement(o.ActionBar,null,t.createElement(r.Link,{to:e.parentRoute.includes("employee")?"/"+(null===(l=window)||void 0===l?void 0:l.contextPath)+"/employee":"/"+(null===(a=window)||void 0===a?void 0:a.contextPath)+"/citizen"},t.createElement(o.SubmitBar,{label:u("CORE_COMMON_GO_TO_HOME")}))))},HREditEmpolyee:function(e){var n=Digit.SessionStorage.get("isupdate"),i=r.useParams().id,l=r.useParams().tenantId,a=Digit.Hooks.hrms.useHRMSSearch({codes:i},l,n),c=a.isLoading,s=a.data;return u(a,De),c?t.createElement(o.Loader,null):t.createElement(Re,{data:null==s?void 0:s.Employees[0],tenantId:l})},HRCreateEmployee:function(){var e=Digit.ULBService.getCurrentTenantId(),l=n.useState(!1),u=l[0],c=l[1],s=n.useState(null),d=s[0],f=s[1],v=n.useState(null),m=v[0],p=v[1],E=n.useState(!1),h=E[0],_=E[1],g=n.useState(!1),y=g[0],b=g[1],S=i.useTranslation().t,A=r.useHistory(),R=window.Digit.Utils.browser.isMobile(),D=Digit.Hooks.useCommonMDMS(Digit.ULBService.getStateId(),"egov-hrms",["CommonFieldsConfig"],{select:function(e){var n,t;return{config:null==e||null===(n=e.MdmsRes)||void 0===n||null===(t=n["egov-hrms"])||void 0===t?void 0:t.CommonFieldsConfig}},retry:!1,enable:!1}),C=D.data,L=D.isLoading,O=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_HAPPENED",!1)[1],N=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_ERROR_DATA",!1)[2],T=Digit.Hooks.useSessionStorage("EMPLOYEE_HRMS_MUTATION_SUCCESS_DATA",!1)[2];n.useEffect(function(){O(!1),T(),N()},[]),n.useEffect(function(){d&&10==d.length&&d.match(Digit.Utils.getPattern("MobileNo"))?(p(null),Digit.HRMSService.search(e,null,{phone:d}).then(function(e,n){e.Employees.length>0?(p({key:!0,label:"ERR_HRMS_USER_EXIST_MOB"}),_(!1)):_(!0)})):_(!1)},[d]);var M=Digit.Hooks.useSessionStorage("NEW_EMPLOYEE_CREATE",{}),I=M[0],w=M[1],x=function(e){var n;A.replace("/"+(null===(n=window)||void 0===n?void 0:n.contextPath)+"/employee/hrms/response",{Employees:e,key:"CREATE",action:"CREATE"})};if(L)return t.createElement(o.Loader,null);var P=null!=C&&C.config?C.config:Se;return t.createElement("div",null,t.createElement("div",{style:R?{marginLeft:"-12px",fontFamily:"calibri",color:"#FF0000"}:{marginLeft:"15px",fontFamily:"calibri",color:"#FF0000"}},t.createElement(o.Header,null,S("HR_COMMON_CREATE_EMPLOYEE_HEADER"))),t.createElement(o.FormComposer,{defaultValues:I,heading:S(""),config:P,onSubmit:function(n){var t,r,o,i,l,a,u,c,s,d,f,v,m,E,h,_,g,y;if(0!=n.Jurisdictions.filter(function(n){return n.tenantId==e}).length)if(Object.values(n.Jurisdictions.reduce(function(e,n){return n&&null!=n&&n.tenantId&&(e[n.tenantId]=e[n.tenantId]?e[n.tenantId]+1:1),e},{})).every(function(e){return 1==e})){var b,S=null==n||null===(t=n.Jurisdictions)||void 0===t?void 0:t.map(function(e){var n;return null===(n=e.roles)||void 0===n?void 0:n.map(function(n){return n.tenantId=e.boundary,n})}),A=[].concat.apply([],S),R=[{tenantId:e,employeeStatus:"EMPLOYED",assignments:null==n?void 0:n.Assignments,code:null!=n&&null!==(r=n.SelectEmployeeId)&&void 0!==r&&r.code?null==n||null===(o=n.SelectEmployeeId)||void 0===o?void 0:o.code:void 0,dateOfAppointment:new Date(null==n||null===(i=n.SelectDateofEmployment)||void 0===i?void 0:i.dateOfAppointment).getTime(),employeeType:null==n||null===(l=n.SelectEmployeeType)||void 0===l?void 0:l.code,jurisdictions:null==n?void 0:n.Jurisdictions,user:{mobileNumber:null==n||null===(a=n.SelectEmployeePhoneNumber)||void 0===a?void 0:a.mobileNumber,name:null==n||null===(u=n.SelectEmployeeName)||void 0===u?void 0:u.employeeName,correspondenceAddress:null==n||null===(c=n.SelectEmployeeCorrespondenceAddress)||void 0===c?void 0:c.correspondenceAddress,emailId:null!=n&&null!==(s=n.SelectEmployeeEmailId)&&void 0!==s&&s.emailId?null==n||null===(d=n.SelectEmployeeEmailId)||void 0===d?void 0:d.emailId:void 0,gender:null==n||null===(f=n.SelectEmployeeGender)||void 0===f?void 0:f.gender.code,dob:new Date(null==n||null===(v=n.SelectDateofBirthEmployment)||void 0===v?void 0:v.dob).getTime(),roles:A,tenantId:e},serviceHistory:[],education:[],tests:[]}];R=null!==(m=Digit)&&void 0!==m&&null!==(E=m.Customizations)&&void 0!==E&&null!==(h=E.HRMS)&&void 0!==h&&h.customiseCreateFormData?Digit.Customizations.HRMS.customiseCreateFormData(n,R):R,null!=n&&null!==(_=n.SelectEmployeeId)&&void 0!==_&&_.code&&(null==n||null===(g=n.SelectEmployeeId)||void 0===g||null===(y=g.code)||void 0===y?void 0:y.trim().length)>0?Digit.HRMSService.search(e,null,{codes:null==n||null===(b=n.SelectEmployeeId)||void 0===b?void 0:b.code}).then(function(e,n){e.Employees.length>0?p({key:!0,label:"ERR_HRMS_USER_EXIST_ID"}):x(R)}):x(R)}else p({key:!0,label:"ERR_INVALID_JURISDICTION"});else p({key:!0,label:"ERR_BASE_TENANT_MANDATORY"})},onFormValueChange:function(e,n){var t,r,o,i,l,u,s,d,v;Ae.isEqual(I,n)||w(a({},I,n)),null!=n&&null!==(t=n.SelectEmployeePhoneNumber)&&void 0!==t&&t.mobileNumber?f(null==n||null===(d=n.SelectEmployeePhoneNumber)||void 0===d?void 0:d.mobileNumber):f(null==n||null===(v=n.SelectEmployeePhoneNumber)||void 0===v?void 0:v.mobileNumber);for(var m=0;m<(null==n||null===(p=n.Jurisdictions)||void 0===p?void 0:p.length);m++){var p,E,_=null==n?void 0:n.Jurisdictions[m];if(!(null!=_&&_.boundary&&null!=_&&_.boundaryType&&null!=_&&_.hierarchy&&null!=_&&_.tenantId&&(null==_||null===(E=_.roles)||void 0===E?void 0:E.length)>0)){b(!1);break}b(!0)}for(var g=!1,S=0;S<(null==n||null===(A=n.Assignments)||void 0===A?void 0:A.length);S++){var A,R,D,C=null==n?void 0:n.Assignments[S];if(!(C.department&&C.designation&&C.fromDate&&(null!=n&&n.Assignments[S].toDate||null!=n&&null!==(R=n.Assignments[S])&&void 0!==R&&R.isCurrentAssignment))){g=!1;break}if(null==(null==n?void 0:n.Assignments[S].toDate)&&0==(null==n||null===(D=n.Assignments[S])||void 0===D?void 0:D.isCurrentAssignment)){g=!1;break}g=!0}null!=n&&null!==(r=n.SelectDateofEmployment)&&void 0!==r&&r.dateOfAppointment&&null!=n&&null!==(o=n.SelectEmployeeCorrespondenceAddress)&&void 0!==o&&o.correspondenceAddress&&null!=n&&null!==(i=n.SelectEmployeeGender)&&void 0!==i&&i.gender.code&&null!=n&&null!==(l=n.SelectEmployeeName)&&void 0!==l&&l.employeeName&&null!=n&&null!==(u=n.SelectEmployeeType)&&void 0!==u&&u.code&&null!=n&&null!==(s=n.SelectEmployeePhoneNumber)&&void 0!==s&&s.mobileNumber&&y&&g&&h&&function(e){var n,t,r,o=(null==e||null===(n=e.SelectEmployeeEmailId)||void 0===n?void 0:n.emailId)||"",i=(null==e||null===(t=e.SelectEmployeeName)||void 0===t?void 0:t.employeeName)||"",l=(null==e||null===(r=e.SelectEmployeeCorrespondenceAddress)||void 0===r?void 0:r.correspondenceAddress)||"";return(0==o.length||o.match(Digit.Utils.getPattern("Email")))&&i.match(Digit.Utils.getPattern("Name"))&&l.match(Digit.Utils.getPattern("Address"))}(n)?c(!0):c(!1)},isDisabled:!u,label:S("HR_COMMON_BUTTON_SUBMIT")}),m&&t.createElement(o.Toast,{error:m.key,label:S(m.label),onClose:function(){p(null)}}))},HRInbox:function(e){var r,l,c=e.parentRoute,s=e.businessService,d=void 0===s?"HRMS":s,f=e.initialStates,v=void 0===f?{}:f,m=e.filterComponent,p=e.isInbox,E=Digit.ULBService.getCurrentTenantId(),h=Digit.Hooks.hrms.useHRMSCount(E),_=h.isLoading,g=h.data,y=i.useTranslation().t,b=n.useState(v.pageOffset||0),S=b[0],A=b[1],R=n.useState(v.pageSize||10),D=R[0],C=R[1],L=n.useState(v.sortParams||[{id:"createdTime",desc:!1}]),O=L[0],N=L[1],T=n.useState(void 0)[0],M=n.useState(function(){return v.searchParams||{}}),I=M[0],w=M[1],x=window.Digit.Utils.browser.isMobile(),P=x?{limit:100,offset:S,sortOrder:null!=O&&null!==(r=O[0])&&void 0!==r&&r.desc?"DESC":"ASC"}:{limit:D,offset:S,sortOrder:null!=O&&null!==(l=O[0])&&void 0!==l&&l.desc?"DESC":"ASC"},k=Digit.SessionStorage.get("isupdate"),H=Digit.Hooks.hrms.useHRMSSearch(I,E,P,k),F=H.isLoading,B=H.data,U=u(H,xe);n.useEffect(function(){},[g]),n.useEffect(function(){},[F,U]),n.useEffect(function(){A(0)},[I]);var j,V=function(){A(function(e){return e+D})},z=function(){A(function(e){return e-D})},Y=function(e){var n=e.delete,t=a({},I,e);n&&n.forEach(function(e){return delete t[e]}),delete t.delete,w(a({},t))},W=n.useCallback(function(e){0!==e.length&&N(e)},[]),G=function(e){C(Number(e.target.value))},J=function(){return[{label:y("HR_NAME_LABEL"),name:"names"},{label:y("HR_MOB_NO_LABEL"),name:"phone",maxlength:10,pattern:"[6-9][0-9]{9}",title:y("ES_SEARCH_APPLICATION_MOBILE_INVALID"),componentInFront:"+91"},{label:y("HR_EMPLOYEE_ID_LABEL"),name:"codes"}]};return _?t.createElement(o.Loader,null):null!==(null==B?void 0:B.length)?x?t.createElement(we,{businessService:d,data:B,isLoading:F,defaultSearchParams:v.searchParams,isSearch:!p,onFilterChange:Y,searchFields:J(),onSearch:Y,onSort:W,onNextPage:V,tableConfig:null==U?void 0:U.tableConfig,onPrevPage:z,currentPage:Math.floor(S/D),pageSizeLimit:D,disableSort:!1,onPageSizeChange:G,parentRoute:c,searchParams:I,sortParams:O,totalRecords:T,linkPrefix:"/"+(null===(j=window)||void 0===j?void 0:j.contextPath)+"/employee/hrms/details/",filterComponent:m}):t.createElement("div",null,p&&t.createElement(o.Header,null,y("HR_HOME_SEARCH_RESULTS_HEADING")),t.createElement(Me,{businessService:d,data:B,isLoading:F,defaultSearchParams:v.searchParams,isSearch:!p,onFilterChange:Y,searchFields:J(),onSearch:Y,onSort:W,onNextPage:V,onPrevPage:z,currentPage:Math.floor(S/D),pageSizeLimit:D,disableSort:!1,onPageSizeChange:G,parentRoute:c,searchParams:I,sortParams:O,totalRecords:T,filterComponent:m})):void 0},HRMS_INBOX_FILTER:function(e){return t.createElement(p,e)}};exports.HRMSModule=He,exports.initHRMSComponents=function(){Object.entries(Fe).forEach(function(e){Digit.ComponentRegistryService.setComponent(e[0],e[1])})};
