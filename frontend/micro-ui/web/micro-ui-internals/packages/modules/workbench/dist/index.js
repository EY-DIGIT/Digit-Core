function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("@egovernments/digit-ui-react-components"),n=require("react"),r=e(n),o=require("react-router-dom"),i=require("react-i18next"),a=require("react-query"),l=e(require("xlsx")),u=e(require("@rjsf/core")),c=e(require("@rjsf/validator-ajv8")),s=require("@rjsf/utils"),d=e(require("react-select")),f=require("xlsx/dist/xlsx.full.min");function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function p(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g,y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},b=(function(e,t){(function(){var n="Expected a function",r="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],i="[object Arguments]",a="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",s="[object Function]",d="[object GeneratorFunction]",f="[object Map]",v="[object Number]",m="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",_="[object Symbol]",b="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",w="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",O="[object Uint16Array]",T="[object Uint32Array]",L=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,U=RegExp(x.source),B=RegExp(R.source),H=/<%-([\s\S]+?)%>/g,P=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,V=RegExp(z.source),K=/^\s+/,G=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/[()=,{}\[\]\/\s]/,X=/\\(\\)?/g,ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ie=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,ce=/['\n\r\u2028\u2029\\]/g,se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+de+"]",ve="["+se+"]",me="\\d+",pe="[a-z\\xdf-\\xf6\\xf8-\\xff]",he="[^\\ud800-\\udfff"+de+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ge="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ee="(?:"+pe+"|"+he+")",we="(?:"+Se+"|"+he+")",Ce="(?:"+ve+"|"+ge+")?",Ae="[\\ufe0e\\ufe0f]?"+Ce+"(?:\\u200d(?:"+[_e,ye,be].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*",De="(?:"+["[\\u2700-\\u27bf]",ye,be].join("|")+")"+Ae,Me="(?:"+[_e+ve+"?",ve,ye,be,"[\\ud800-\\udfff]"].join("|")+")",Ie=RegExp("['’]","g"),Oe=RegExp(ve,"g"),Te=RegExp(ge+"(?="+ge+")|"+Me+Ae,"g"),Le=RegExp([Se+"?"+pe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[fe,Se,"$"].join("|")+")",we+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[fe,Se+Ee,"$"].join("|")+")",Se+"?"+Ee+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Se+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,De].join("|"),"g"),Ne=RegExp("[\\u200d\\ud800-\\udfff"+se+"\\ufe0e\\ufe0f]"),ke=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Re=-1,Ue={};Ue[w]=Ue[C]=Ue[A]=Ue[D]=Ue[M]=Ue[I]=Ue["[object Uint8ClampedArray]"]=Ue[O]=Ue[T]=!0,Ue[i]=Ue[a]=Ue[S]=Ue[l]=Ue[E]=Ue[u]=Ue[c]=Ue[s]=Ue[f]=Ue[v]=Ue[m]=Ue[p]=Ue[h]=Ue[g]=Ue[b]=!1;var Be={};Be[i]=Be[a]=Be[S]=Be[E]=Be[l]=Be[u]=Be[w]=Be[C]=Be[A]=Be[D]=Be[M]=Be[f]=Be[v]=Be[m]=Be[p]=Be[h]=Be[g]=Be[_]=Be[I]=Be["[object Uint8ClampedArray]"]=Be[O]=Be[T]=!0,Be[c]=Be[s]=Be[b]=!1;var He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=parseFloat,je=parseInt,We="object"==typeof y&&y&&y.Object===Object&&y,Fe="object"==typeof self&&self&&self.Object===Object&&self,qe=We||Fe||Function("return this")(),ze=t&&!t.nodeType&&t,Ve=ze&&e&&!e.nodeType&&e,Ke=Ve&&Ve.exports===ze,Ge=Ke&&We.process,$e=function(){try{return Ve&&Ve.require&&Ve.require("util").types||Ge&&Ge.binding&&Ge.binding("util")}catch(e){}}(),Ye=$e&&$e.isArrayBuffer,Je=$e&&$e.isDate,Qe=$e&&$e.isMap,Ze=$e&&$e.isRegExp,Xe=$e&&$e.isSet,et=$e&&$e.isTypedArray;function tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function nt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function lt(e,t){return!(null==e||!e.length)&&gt(e,t,0)>-1}function ut(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function ct(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function st(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function dt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function ft(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mt=St("length");function pt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function ht(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function gt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):ht(e,yt,n)}function _t(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function yt(e){return e!=e}function bt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function St(e){return function(t){return null==t?void 0:t[e]}}function Et(e){return function(t){return null==e?void 0:e[t]}}function wt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Ct(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function At(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Dt(e){return e?e.slice(0,zt(e)+1).replace(K,""):e}function Mt(e){return function(t){return e(t)}}function It(e,t){return ct(t,function(t){return e[t]})}function Ot(e,t){return e.has(t)}function Tt(e,t){for(var n=-1,r=e.length;++n<r&&gt(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length;n--&&gt(t,e[n],0)>-1;);return n}function Nt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var kt=Et({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xt=Et({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Rt(e){return"\\"+He[e]}function Ut(e){return Ne.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Ht(e,t){return function(n){return e(t(n))}}function Pt(e,t){for(var n=-1,o=e.length,i=0,a=[];++n<o;){var l=e[n];l!==t&&l!==r||(e[n]=r,a[i++]=n)}return a}function jt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Ft(e){return Ut(e)?function(e){for(var t=Te.lastIndex=0;Te.test(e);)++t;return t}(e):mt(e)}function qt(e){return Ut(e)?function(e){return e.match(Te)||[]}(e):function(e){return e.split("")}(e)}function zt(e){for(var t=e.length;t--&&G.test(e.charAt(t)););return t}var Vt=Et({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Kt=function e(t){var y,G=(t=null==t?qe:Kt.defaults(qe.Object(),t,Kt.pick(qe,xe))).Array,se=t.Date,de=t.Error,fe=t.Function,ve=t.Math,me=t.Object,pe=t.RegExp,he=t.String,ge=t.TypeError,_e=G.prototype,ye=me.prototype,be=t["__core-js_shared__"],Se=fe.prototype.toString,Ee=ye.hasOwnProperty,we=0,Ce=(y=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",Ae=ye.toString,De=Se.call(me),Me=qe._,Te=pe("^"+Se.call(Ee).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=Ke?t.Buffer:void 0,He=t.Symbol,We=t.Uint8Array,Fe=Ne?Ne.allocUnsafe:void 0,ze=Ht(me.getPrototypeOf,me),Ve=me.create,Ge=ye.propertyIsEnumerable,$e=_e.splice,mt=He?He.isConcatSpreadable:void 0,Et=He?He.iterator:void 0,Gt=He?He.toStringTag:void 0,$t=function(){try{var e=Xo(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==qe.clearTimeout&&t.clearTimeout,Jt=se&&se.now!==qe.Date.now&&se.now,Qt=t.setTimeout!==qe.setTimeout&&t.setTimeout,Zt=ve.ceil,Xt=ve.floor,en=me.getOwnPropertySymbols,tn=Ne?Ne.isBuffer:void 0,nn=t.isFinite,rn=_e.join,on=Ht(me.keys,me),an=ve.max,ln=ve.min,un=se.now,cn=t.parseInt,sn=ve.random,dn=_e.reverse,fn=Xo(t,"DataView"),vn=Xo(t,"Map"),mn=Xo(t,"Promise"),pn=Xo(t,"Set"),hn=Xo(t,"WeakMap"),gn=Xo(me,"create"),_n=hn&&new hn,yn={},bn=Ii(fn),Sn=Ii(vn),En=Ii(mn),wn=Ii(pn),Cn=Ii(hn),An=He?He.prototype:void 0,Dn=An?An.valueOf:void 0,Mn=An?An.toString:void 0;function In(e){if(Va(e)&&!xa(e)&&!(e instanceof Nn)){if(e instanceof Ln)return e;if(Ee.call(e,"__wrapped__"))return Oi(e)}return new Ln(e)}var On=function(){function e(){}return function(t){if(!za(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Tn(){}function Ln(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Nn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Rn;++t<n;)this.add(e[t])}function Bn(e){var t=this.__data__=new xn(e);this.size=t.size}function Hn(e,t){var n=xa(e),r=!n&&ka(e),o=!n&&!r&&Ha(e),i=!n&&!r&&!o&&Xa(e),a=n||r||o||i,l=a?At(e.length,he):[],u=l.length;for(var c in e)!t&&!Ee.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ai(c,u))||l.push(c);return l}function Pn(e){var t=e.length;return t?e[Rr(0,t-1)]:void 0}function jn(e,t){return wi(go(e),Yn(t,0,e.length))}function Wn(e){return wi(go(e))}function Fn(e,t,n){(void 0!==n&&!Ta(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function qn(e,t,n){var r=e[t];Ee.call(e,t)&&Ta(r,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(Ta(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return er(e,function(e,o,i){t(r,e,n(e),i)}),r}function Kn(e,t){return e&&_o(t,Sl(t),e)}function Gn(e,t,n){"__proto__"==t&&$t?$t(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $n(e,t){for(var n=-1,r=t.length,o=G(r),i=null==e;++n<r;)o[n]=i?void 0:hl(e,t[n]);return o}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Jn(e,t,n,r,o,a){var c,y=1&t,b=2&t,L=4&t;if(n&&(c=o?n(e,r,o,a):n(e)),void 0!==c)return c;if(!za(e))return e;var N=xa(e);if(N){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!y)return go(e,c)}else{var k=ni(e),x=k==s||k==d;if(Ha(e))return so(e,y);if(k==m||k==i||x&&!o){if(c=b||x?{}:oi(e),!y)return b?function(e,t){return _o(e,ti(e),t)}(e,function(e,t){return e&&_o(t,El(t),e)}(c,e)):function(e,t){return _o(e,ei(e),t)}(e,Kn(c,e))}else{if(!Be[k])return o?e:{};c=function(e,t,n){var r=e.constructor;switch(t){case S:return fo(e);case l:case u:return new r(+e);case E:return function(e,t){var n=t?fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case w:case C:case A:case D:case M:case I:case"[object Uint8ClampedArray]":case O:case T:return vo(e,n);case f:return new r;case v:case g:return new r(e);case p:return function(e){var t=new e.constructor(e.source,te.exec(e));return t.lastIndex=e.lastIndex,t}(e);case h:return new r;case _:return Dn?me(Dn.call(e)):{}}}(e,k,y)}}a||(a=new Bn);var R=a.get(e);if(R)return R;a.set(e,c),Ja(e)?e.forEach(function(r){c.add(Jn(r,t,n,r,e,a))}):Ka(e)&&e.forEach(function(r,o){c.set(o,Jn(r,t,n,o,e,a))});var U=N?void 0:(L?b?Ko:Vo:b?El:Sl)(e);return rt(U||e,function(r,o){U&&(r=e[o=r]),qn(c,o,Jn(r,t,n,o,e,a))}),c}function Qn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var o=n[r],i=e[o];if(void 0===i&&!(o in e)||!(0,t[o])(i))return!1}return!0}function Zn(e,t,r){if("function"!=typeof e)throw new ge(n);return yi(function(){e.apply(void 0,r)},t)}function Xn(e,t,n,r){var o=-1,i=lt,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=ct(t,Mt(n))),r?(i=ut,a=!1):t.length>=200&&(i=Ot,a=!1,t=new Un(t));e:for(;++o<l;){var s=e[o],d=null==n?s:n(s);if(s=r||0!==s?s:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;u.push(s)}else i(t,d,r)||u.push(s)}return u}In.templateSettings={escape:H,evaluate:P,interpolate:j,variable:"",imports:{_:In}},(In.prototype=Tn.prototype).constructor=In,(Ln.prototype=On(Tn.prototype)).constructor=Ln,(Nn.prototype=On(Tn.prototype)).constructor=Nn,kn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},kn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},kn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:Ee.call(t,e)},kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},xn.prototype.clear=function(){this.__data__=[],this.size=0},xn.prototype.delete=function(e){var t=this.__data__,n=zn(t,e);return!(n<0||(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,0))},xn.prototype.get=function(e){var t=this.__data__,n=zn(t,e);return n<0?void 0:t[n][1]},xn.prototype.has=function(e){return zn(this.__data__,e)>-1},xn.prototype.set=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new kn,map:new(vn||xn),string:new kn}},Rn.prototype.delete=function(e){var t=Qo(this,e).delete(e);return this.size-=t?1:0,t},Rn.prototype.get=function(e){return Qo(this,e).get(e)},Rn.prototype.has=function(e){return Qo(this,e).has(e)},Rn.prototype.set=function(e,t){var n=Qo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Un.prototype.add=Un.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Un.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.clear=function(){this.__data__=new xn,this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Bn.prototype.get=function(e){return this.__data__.get(e)},Bn.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xn){var r=n.__data__;if(!vn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(e,t),this.size=n.size,this};var er=So(ur),tr=So(cr,!0);function nr(e,t){var n=!0;return er(e,function(e,r,o){return n=!!t(e,r,o)}),n}function rr(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===l?a==a&&!Za(a):n(a,l)))var l=a,u=i}return u}function or(e,t){var n=[];return er(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function ir(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=ii),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?ir(l,t-1,n,r,o):st(o,l):r||(o[o.length]=l)}return o}var ar=Eo(),lr=Eo(!0);function ur(e,t){return e&&ar(e,t,Sl)}function cr(e,t){return e&&lr(e,t,Sl)}function sr(e,t){return at(t,function(t){return Wa(e[t])})}function dr(e,t){for(var n=0,r=(t=ao(t,e)).length;null!=e&&n<r;)e=e[Mi(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return xa(e)?r:st(r,n(e))}function vr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Gt&&Gt in me(e)?function(e){var t=Ee.call(e,Gt),n=e[Gt];try{e[Gt]=void 0;var r=!0}catch(e){}var o=Ae.call(e);return r&&(t?e[Gt]=n:delete e[Gt]),o}(e):function(e){return Ae.call(e)}(e)}function mr(e,t){return e>t}function pr(e,t){return null!=e&&Ee.call(e,t)}function hr(e,t){return null!=e&&t in me(e)}function gr(e,t,n){for(var r=n?ut:lt,o=e[0].length,i=e.length,a=i,l=G(i),u=Infinity,c=[];a--;){var s=e[a];a&&t&&(s=ct(s,Mt(t))),u=ln(s.length,u),l[a]=!n&&(t||o>=120&&s.length>=120)?new Un(a&&s):void 0}s=e[0];var d=-1,f=l[0];e:for(;++d<o&&c.length<u;){var v=s[d],m=t?t(v):v;if(v=n||0!==v?v:0,!(f?Ot(f,m):r(c,m,n))){for(a=i;--a;){var p=l[a];if(!(p?Ot(p,m):r(e[a],m,n)))continue e}f&&f.push(m),c.push(v)}}return c}function _r(e,t,n){var r=null==(e=pi(e,t=ao(t,e)))?e:e[Mi(ji(t))];return null==r?void 0:tt(r,e,n)}function yr(e){return Va(e)&&vr(e)==i}function br(e,t,n,r,o){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var d=xa(e),y=xa(t),b=d?a:ni(e),w=y?a:ni(t),C=(b=b==i?m:b)==m,A=(w=w==i?m:w)==m,D=b==w;if(D&&Ha(e)){if(!Ha(t))return!1;d=!0,C=!1}if(D&&!C)return s||(s=new Bn),d||Xa(e)?qo(e,t,n,r,o,s):function(e,t,n,r,o,i,a){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case l:case u:case v:return Ta(+e,+t);case c:return e.name==t.name&&e.message==t.message;case p:case g:return e==t+"";case f:var s=Bt;case h:if(s||(s=jt),e.size!=t.size&&!(1&r))return!1;var d=a.get(e);if(d)return d==t;r|=2,a.set(e,t);var m=qo(s(e),s(t),r,o,i,a);return a.delete(e),m;case _:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,b,n,r,o,s);if(!(1&n)){var M=C&&Ee.call(e,"__wrapped__"),I=A&&Ee.call(t,"__wrapped__");if(M||I){var O=M?e.value():e,T=I?t.value():t;return s||(s=new Bn),o(O,T,n,r,s)}}return!!D&&(s||(s=new Bn),function(e,t,n,r,o,i){var a=1&n,l=Vo(e),u=l.length;if(u!=Vo(t).length&&!a)return!1;for(var c=u;c--;){var s=l[c];if(!(a?s in t:Ee.call(t,s)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var v=!0;i.set(e,t),i.set(t,e);for(var m=a;++c<u;){var p=e[s=l[c]],h=t[s];if(r)var g=a?r(h,p,s,t,e,i):r(p,h,s,e,t,i);if(!(void 0===g?p===h||o(p,h,n,r,i):g)){v=!1;break}m||(m="constructor"==s)}if(v&&!m){var _=e.constructor,y=t.constructor;_==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(v=!1)}return i.delete(e),i.delete(t),v}(e,t,n,r,o,s))}(e,t,n,r,br,o))}function Sr(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=me(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var u=(l=n[o])[0],c=e[u],s=l[1];if(a&&l[2]){if(void 0===c&&!(u in e))return!1}else{var d=new Bn;if(r)var f=r(c,s,u,e,t,d);if(!(void 0===f?br(s,c,3,r,d):f))return!1}}return!0}function Er(e){return!(!za(e)||(t=e,Ce&&Ce in t))&&(Wa(e)?Te:oe).test(Ii(e));var t}function wr(e){return"function"==typeof e?e:null==e?Gl:"object"==typeof e?xa(e)?Ir(e[0],e[1]):Mr(e):nu(e)}function Cr(e){if(!di(e))return on(e);var t=[];for(var n in me(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ar(e,t){return e<t}function Dr(e,t){var n=-1,r=Ua(e)?G(e.length):[];return er(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Mr(e){var t=Zo(e);return 1==t.length&&t[0][2]?vi(t[0][0],t[0][1]):function(n){return n===e||Sr(n,e,t)}}function Ir(e,t){return ui(e)&&fi(t)?vi(Mi(e),t):function(n){var r=hl(n,e);return void 0===r&&r===t?gl(n,e):br(t,r,3)}}function Or(e,t,n,r,o){e!==t&&ar(t,function(i,a){if(o||(o=new Bn),za(i))!function(e,t,n,r,o,i,a){var l=gi(e,n),u=gi(t,n),c=a.get(u);if(c)Fn(e,n,c);else{var s=i?i(l,u,n+"",e,t,a):void 0,d=void 0===s;if(d){var f=xa(u),v=!f&&Ha(u),m=!f&&!v&&Xa(u);s=u,f||v||m?xa(l)?s=l:Ba(l)?s=go(l):v?(d=!1,s=so(u,!0)):m?(d=!1,s=vo(u,!0)):s=[]:$a(u)||ka(u)?(s=l,ka(l)?s=ll(l):za(l)&&!Wa(l)||(s=oi(u))):d=!1}d&&(a.set(u,s),o(s,u,r,i,a),a.delete(u)),Fn(e,n,s)}}(e,t,a,n,Or,r,o);else{var l=r?r(gi(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),Fn(e,a,l)}},El)}function Tr(e,t){var n=e.length;if(n)return ai(t+=t<0?n:0,n)?e[t]:void 0}function Lr(e,t,n){t=t.length?ct(t,function(e){return xa(e)?function(t){return dr(t,1===e.length?e[0]:e)}:e}):[Gl];var r=-1;return t=ct(t,Mt(Jo())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;++r<a;){var u=mo(o[r],i[r]);if(u)return r>=l?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(Dr(e,function(e,n,o){return{criteria:ct(t,function(t){return t(e)}),index:++r,value:e}}))}function Nr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=dr(e,a);n(l,a)&&jr(i,ao(a,e),l)}return i}function kr(e,t,n,r){var o=r?_t:gt,i=-1,a=t.length,l=e;for(e===t&&(t=go(t)),n&&(l=ct(e,Mt(n)));++i<a;)for(var u=0,c=t[i],s=n?n(c):c;(u=o(l,s,u,r))>-1;)l!==e&&$e.call(l,u,1),$e.call(e,u,1);return e}function xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;ai(o)?$e.call(e,o,1):Zr(e,o)}}return e}function Rr(e,t){return e+Xt(sn()*(t-e+1))}function Ur(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Xt(t/2))&&(e+=e)}while(t);return n}function Br(e,t){return bi(mi(e,t,Gl),e+"")}function Hr(e){return Pn(Tl(e))}function Pr(e,t){var n=Tl(e);return wi(n,Yn(t,0,n.length))}function jr(e,t,n,r){if(!za(e))return e;for(var o=-1,i=(t=ao(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var u=Mi(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var s=l[u];void 0===(c=r?r(s,u,l):void 0)&&(c=za(s)?s:ai(t[o+1])?[]:{})}qn(l,u,c),l=l[u]}return e}var Wr=_n?function(e,t){return _n.set(e,t),e}:Gl,Fr=$t?function(e,t){return $t(e,"toString",{configurable:!0,enumerable:!1,value:zl(t),writable:!0})}:Gl;function qr(e){return wi(Tl(e))}function zr(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=G(o);++r<o;)i[r]=e[r+t];return i}function Vr(e,t){var n;return er(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function Kr(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Za(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Gr(e,t,Gl,n)}function Gr(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var a=(t=n(t))!=t,l=null===t,u=Za(t),c=void 0===t;o<i;){var s=Xt((o+i)/2),d=n(e[s]),f=void 0!==d,v=null===d,m=d==d,p=Za(d);if(a)var h=r||m;else h=c?m&&(r||f):l?m&&f&&(r||!v):u?m&&f&&!v&&(r||!p):!v&&!p&&(r?d<=t:d<t);h?o=s+1:i=s}return ln(i,4294967294)}function $r(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!Ta(l,u)){var u=l;i[o++]=0===a?0:a}}return i}function Yr(e){return"number"==typeof e?e:Za(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(xa(e))return ct(e,Jr)+"";if(Za(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qr(e,t,n){var r=-1,o=lt,i=e.length,a=!0,l=[],u=l;if(n)a=!1,o=ut;else if(i>=200){var c=t?null:Bo(e);if(c)return jt(c);a=!1,o=Ot,u=new Un}else u=t?[]:l;e:for(;++r<i;){var s=e[r],d=t?t(s):s;if(s=n||0!==s?s:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(s)}else o(u,d,n)||(u!==l&&u.push(d),l.push(s))}return l}function Zr(e,t){return null==(e=pi(e,t=ao(t,e)))||delete e[Mi(ji(t))]}function Xr(e,t,n,r){return jr(e,t,n(dr(e,t)),r)}function eo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?zr(e,r?0:i,r?i+1:o):zr(e,r?i+1:0,r?o:i)}function to(e,t){var n=e;return n instanceof Nn&&(n=n.value()),dt(t,function(e,t){return t.func.apply(t.thisArg,st([e],t.args))},n)}function no(e,t,n){var r=e.length;if(r<2)return r?Qr(e[0]):[];for(var o=-1,i=G(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(i[o]=Xn(i[o]||a,e[l],t,n));return Qr(ir(i,1),t,n)}function ro(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;)n(a,e[r],r<i?t[r]:void 0);return a}function oo(e){return Ba(e)?e:[]}function io(e){return"function"==typeof e?e:Gl}function ao(e,t){return xa(e)?e:ui(e,t)?[e]:Di(ul(e))}var lo=Br;function uo(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:zr(e,t,n)}var co=Yt||function(e){return qe.clearTimeout(e)};function so(e,t){if(t)return e.slice();var n=e.length,r=Fe?Fe(n):new e.constructor(n);return e.copy(r),r}function fo(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function vo(e,t){var n=t?fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mo(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=Za(e),a=void 0!==t,l=null===t,u=t==t,c=Za(t);if(!l&&!c&&!i&&e>t||i&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||l&&n&&o||!a&&o||!u)return-1}return 0}function po(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,u=t.length,c=an(i-a,0),s=G(u+c),d=!r;++l<u;)s[l]=t[l];for(;++o<a;)(d||o<i)&&(s[n[o]]=e[o]);for(;c--;)s[l++]=e[o++];return s}function ho(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,u=-1,c=t.length,s=an(i-l,0),d=G(s+c),f=!r;++o<s;)d[o]=e[o];for(var v=o;++u<c;)d[v+u]=t[u];for(;++a<l;)(f||o<i)&&(d[v+n[a]]=e[o++]);return d}function go(e,t){var n=-1,r=e.length;for(t||(t=G(r));++n<r;)t[n]=e[n];return t}function _o(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?Gn(n,l,u):qn(n,l,u)}return n}function yo(e,t){return function(n,r){var o=xa(n)?nt:Vn,i=t?t():{};return o(n,e,Jo(r,2),i)}}function bo(e){return Br(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&li(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=me(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}function So(e,t){return function(n,r){if(null==n)return n;if(!Ua(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=me(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Eo(e){return function(t,n,r){for(var o=-1,i=me(t),a=r(t),l=a.length;l--;){var u=a[e?l:++o];if(!1===n(i[u],u,i))break}return t}}function wo(e){return function(t){var n=Ut(t=ul(t))?qt(t):void 0,r=n?n[0]:t.charAt(0),o=n?uo(n,1).join(""):t.slice(1);return r[e]()+o}}function Co(e){return function(t){return dt(Wl(kl(t).replace(Ie,"")),e,"")}}function Ao(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),r=e.apply(n,t);return za(r)?r:n}}function Do(e){return function(t,n,r){var o=me(t);if(!Ua(t)){var i=Jo(n,3);t=Sl(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}function Mo(e){return zo(function(t){var r=t.length,o=r,i=Ln.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new ge(n);if(i&&!l&&"wrapper"==$o(a))var l=new Ln([],!0)}for(o=l?o:r;++o<r;){var u=$o(a=t[o]),c="wrapper"==u?Go(a):void 0;l=c&&ci(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[$o(c[0])].apply(l,c[3]):1==a.length&&ci(a)?l[u]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&xa(n))return l.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}})}function Io(e,t,n,r,o,i,a,l,u,c){var s=128&t,d=1&t,f=2&t,v=24&t,m=512&t,p=f?void 0:Ao(e);return function h(){for(var g=arguments.length,_=G(g),y=g;y--;)_[y]=arguments[y];if(v)var b=Yo(h),S=Nt(_,b);if(r&&(_=po(_,r,o,v)),i&&(_=ho(_,i,a,v)),g-=S,v&&g<c){var E=Pt(_,b);return Ro(e,t,Io,h.placeholder,n,_,E,l,u,c-g)}var w=d?n:this,C=f?w[e]:e;return g=_.length,l?_=hi(_,l):m&&g>1&&_.reverse(),s&&u<g&&(_.length=u),this&&this!==qe&&this instanceof h&&(C=p||Ao(C)),C.apply(w,_)}}function Oo(e,t){return function(n,r){return function(e,t,n,r){return ur(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function To(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Yr(n),r=Yr(r)),o=e(n,r)}return o}}function Lo(e){return zo(function(t){return t=ct(t,Mt(Jo())),Br(function(n){var r=this;return e(t,function(e){return tt(e,r,n)})})})}function No(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Ur(t,e):t;var r=Ur(t,Zt(e/Ft(t)));return Ut(t)?uo(qt(r),0,e).join(""):r.slice(0,e)}function ko(e){return function(t,n,r){return r&&"number"!=typeof r&&li(t,n,r)&&(n=r=void 0),t=rl(t),void 0===n?(n=t,t=0):n=rl(n),function(e,t,n,r){for(var o=-1,i=an(Zt((t-e)/(n||1)),0),a=G(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:rl(r),e)}}function xo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=al(t),n=al(n)),e(t,n)}}function Ro(e,t,n,r,o,i,a,l,u,c){var s=8&t;t|=s?32:64,4&(t&=~(s?64:32))||(t&=-4);var d=[e,t,o,s?i:void 0,s?a:void 0,s?void 0:i,s?void 0:a,l,u,c],f=n.apply(void 0,d);return ci(e)&&_i(f,d),f.placeholder=r,Si(f,e,t)}function Uo(e){var t=ve[e];return function(e,n){if(e=al(e),(n=null==n?0:ln(ol(n),292))&&nn(e)){var r=(ul(e)+"e").split("e");return+((r=(ul(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Bo=pn&&1/jt(new pn([,-0]))[1]==1/0?function(e){return new pn(e)}:Zl;function Ho(e){return function(t){var n=ni(t);return n==f?Bt(t):n==h?Wt(t):function(e,t){return ct(t,function(t){return[t,e[t]]})}(t,e(t))}}function Po(e,t,o,i,a,l,u,c){var s=2&t;if(!s&&"function"!=typeof e)throw new ge(n);var d=i?i.length:0;if(d||(t&=-97,i=a=void 0),u=void 0===u?u:an(ol(u),0),c=void 0===c?c:ol(c),d-=a?a.length:0,64&t){var f=i,v=a;i=a=void 0}var m=s?void 0:Go(e),p=[e,t,o,i,a,f,v,l,u,c];if(m&&function(e,t){var n=e[1],o=t[1],i=n|o;if(!(i<131||128==o&&8==n||128==o&&256==n&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n))return e;1&o&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var l=e[3];e[3]=l?po(l,a,t[4]):a,e[4]=l?Pt(e[3],r):t[4]}(a=t[5])&&(e[5]=(l=e[5])?ho(l,a,t[6]):a,e[6]=l?Pt(e[5],r):t[6]),(a=t[7])&&(e[7]=a),128&o&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,m),e=p[0],t=p[1],o=p[2],i=p[3],a=p[4],!(c=p[9]=void 0===p[9]?s?0:e.length:an(p[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=Ao(e);return function o(){for(var i=arguments.length,a=G(i),l=i,u=Yo(o);l--;)a[l]=arguments[l];var c=i<3&&a[0]!==u&&a[i-1]!==u?[]:Pt(a,u);if((i-=c.length)<n)return Ro(e,t,Io,o.placeholder,void 0,a,c,void 0,void 0,n-i);var s=this&&this!==qe&&this instanceof o?r:e;return tt(s,this,a)}}(e,t,c):32!=t&&33!=t||a.length?Io.apply(void 0,p):function(e,t,n,r){var o=1&t,i=Ao(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=r.length,s=G(c+l),d=this&&this!==qe&&this instanceof t?i:e;++u<c;)s[u]=r[u];for(;l--;)s[u++]=arguments[++a];return tt(d,o?n:this,s)}}(e,t,o,i);else var h=function(e,t,n){var r=1&t,o=Ao(e);return function t(){var i=this&&this!==qe&&this instanceof t?o:e;return i.apply(r?n:this,arguments)}}(e,t,o);return Si((m?Wr:_i)(h,p),e,t)}function jo(e,t,n,r){return void 0===e||Ta(e,ye[n])&&!Ee.call(r,n)?t:e}function Wo(e,t,n,r,o,i){return za(e)&&za(t)&&(i.set(t,e),Or(e,t,void 0,Wo,i),i.delete(t)),e}function Fo(e){return $a(e)?void 0:e}function qo(e,t,n,r,o,i){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=i.get(e),s=i.get(t);if(c&&s)return c==t&&s==e;var d=-1,f=!0,v=2&n?new Un:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var m=e[d],p=t[d];if(r)var h=a?r(p,m,d,t,e,i):r(m,p,d,e,t,i);if(void 0!==h){if(h)continue;f=!1;break}if(v){if(!vt(t,function(e,t){if(!Ot(v,t)&&(m===e||o(m,e,n,r,i)))return v.push(t)})){f=!1;break}}else if(m!==p&&!o(m,p,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function zo(e){return bi(mi(e,void 0,Ri),e+"")}function Vo(e){return fr(e,Sl,ei)}function Ko(e){return fr(e,El,ti)}var Go=_n?function(e){return _n.get(e)}:Zl;function $o(e){for(var t=e.name+"",n=yn[t],r=Ee.call(yn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Yo(e){return(Ee.call(In,"placeholder")?In:e).placeholder}function Jo(){var e=In.iteratee||$l;return e=e===$l?wr:e,arguments.length?e(arguments[0],arguments[1]):e}function Qo(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Zo(e){for(var t=Sl(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,fi(o)]}return t}function Xo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var ei=en?function(e){return null==e?[]:(e=me(e),at(en(e),function(t){return Ge.call(e,t)}))}:iu,ti=en?function(e){for(var t=[];e;)st(t,ei(e)),e=ze(e);return t}:iu,ni=vr;function ri(e,t,n){for(var r=-1,o=(t=ao(t,e)).length,i=!1;++r<o;){var a=Mi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&qa(o)&&ai(a,o)&&(xa(e)||ka(e))}function oi(e){return"function"!=typeof e.constructor||di(e)?{}:On(ze(e))}function ii(e){return xa(e)||ka(e)||!!(mt&&e&&e[mt])}function ai(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function li(e,t,n){if(!za(n))return!1;var r=typeof t;return!!("number"==r?Ua(n)&&ai(t,n.length):"string"==r&&t in n)&&Ta(n[t],e)}function ui(e,t){if(xa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Za(e))||F.test(e)||!W.test(e)||null!=t&&e in me(t)}function ci(e){var t=$o(e),n=In[t];if("function"!=typeof n||!(t in Nn.prototype))return!1;if(e===n)return!0;var r=Go(n);return!!r&&e===r[0]}(fn&&ni(new fn(new ArrayBuffer(1)))!=E||vn&&ni(new vn)!=f||mn&&"[object Promise]"!=ni(mn.resolve())||pn&&ni(new pn)!=h||hn&&ni(new hn)!=b)&&(ni=function(e){var t=vr(e),n=t==m?e.constructor:void 0,r=n?Ii(n):"";if(r)switch(r){case bn:return E;case Sn:return f;case En:return"[object Promise]";case wn:return h;case Cn:return b}return t});var si=be?Wa:au;function di(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ye)}function fi(e){return e==e&&!za(e)}function vi(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in me(n))}}function mi(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=an(r.length-t,0),a=G(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=G(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),tt(e,this,l)}}function pi(e,t){return t.length<2?e:dr(e,zr(t,0,-1))}function hi(e,t){for(var n=e.length,r=ln(t.length,n),o=go(e);r--;){var i=t[r];e[r]=ai(i,n)?o[i]:void 0}return e}function gi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _i=Ei(Wr),yi=Qt||function(e,t){return qe.setTimeout(e,t)},bi=Ei(Fr);function Si(e,t,n){var r=t+"";return bi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace($,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return rt(o,function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(J):[]}(r),n)))}function Ei(e){var t=0,n=0;return function(){var r=un(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wi(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=Rr(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}var Ci,Ai,Di=(Ci=Ca(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q,function(e,n,r,o){t.push(r?o.replace(X,"$1"):n||e)}),t},function(e){return 500===Ai.size&&Ai.clear(),e}),Ai=Ci.cache,Ci);function Mi(e){if("string"==typeof e||Za(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ii(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Oi(e){if(e instanceof Nn)return e.clone();var t=new Ln(e.__wrapped__,e.__chain__);return t.__actions__=go(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ti=Br(function(e,t){return Ba(e)?Xn(e,ir(t,1,Ba,!0)):[]}),Li=Br(function(e,t){var n=ji(t);return Ba(n)&&(n=void 0),Ba(e)?Xn(e,ir(t,1,Ba,!0),Jo(n,2)):[]}),Ni=Br(function(e,t){var n=ji(t);return Ba(n)&&(n=void 0),Ba(e)?Xn(e,ir(t,1,Ba,!0),void 0,n):[]});function ki(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ol(n);return o<0&&(o=an(r+o,0)),ht(e,Jo(t,3),o)}function xi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=ol(n),o=n<0?an(r+o,0):ln(o,r-1)),ht(e,Jo(t,3),o,!0)}function Ri(e){return null!=e&&e.length?ir(e,1):[]}function Ui(e){return e&&e.length?e[0]:void 0}var Bi=Br(function(e){var t=ct(e,oo);return t.length&&t[0]===e[0]?gr(t):[]}),Hi=Br(function(e){var t=ji(e),n=ct(e,oo);return t===ji(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Jo(t,2)):[]}),Pi=Br(function(e){var t=ji(e),n=ct(e,oo);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]});function ji(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Wi=Br(Fi);function Fi(e,t){return e&&e.length&&t&&t.length?kr(e,t):e}var qi=zo(function(e,t){var n=null==e?0:e.length,r=$n(e,t);return xr(e,ct(t,function(e){return ai(e,n)?+e:e}).sort(mo)),r});function zi(e){return null==e?e:dn.call(e)}var Vi=Br(function(e){return Qr(ir(e,1,Ba,!0))}),Ki=Br(function(e){var t=ji(e);return Ba(t)&&(t=void 0),Qr(ir(e,1,Ba,!0),Jo(t,2))}),Gi=Br(function(e){var t=ji(e);return t="function"==typeof t?t:void 0,Qr(ir(e,1,Ba,!0),void 0,t)});function $i(e){if(!e||!e.length)return[];var t=0;return e=at(e,function(e){if(Ba(e))return t=an(e.length,t),!0}),At(t,function(t){return ct(e,St(t))})}function Yi(e,t){if(!e||!e.length)return[];var n=$i(e);return null==t?n:ct(n,function(e){return tt(t,void 0,e)})}var Ji=Br(function(e,t){return Ba(e)?Xn(e,t):[]}),Qi=Br(function(e){return no(at(e,Ba))}),Zi=Br(function(e){var t=ji(e);return Ba(t)&&(t=void 0),no(at(e,Ba),Jo(t,2))}),Xi=Br(function(e){var t=ji(e);return t="function"==typeof t?t:void 0,no(at(e,Ba),void 0,t)}),ea=Br($i),ta=Br(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yi(e,n)});function na(e){var t=In(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var oa=zo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return $n(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Nn&&ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[o],thisArg:void 0}),new Ln(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(o)}),ia=yo(function(e,t,n){Ee.call(e,n)?++e[n]:Gn(e,n,1)}),aa=Do(ki),la=Do(xi);function ua(e,t){return(xa(e)?rt:er)(e,Jo(t,3))}function ca(e,t){return(xa(e)?ot:tr)(e,Jo(t,3))}var sa=yo(function(e,t,n){Ee.call(e,n)?e[n].push(t):Gn(e,n,[t])}),da=Br(function(e,t,n){var r=-1,o="function"==typeof t,i=Ua(e)?G(e.length):[];return er(e,function(e){i[++r]=o?tt(t,e,n):_r(e,t,n)}),i}),fa=yo(function(e,t,n){Gn(e,n,t)});function va(e,t){return(xa(e)?ct:Dr)(e,Jo(t,3))}var ma=yo(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),pa=Br(function(e,t){if(null==e)return[];var n=t.length;return n>1&&li(e,t[0],t[1])?t=[]:n>2&&li(t[0],t[1],t[2])&&(t=[t[0]]),Lr(e,ir(t,1),[])}),ha=Jt||function(){return qe.Date.now()};function ga(e,t,n){return t=n?void 0:t,Po(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function _a(e,t){var r;if("function"!=typeof t)throw new ge(n);return e=ol(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var ya=Br(function(e,t,n){var r=1;if(n.length){var o=Pt(n,Yo(ya));r|=32}return Po(e,r,t,n,o)}),ba=Br(function(e,t,n){var r=3;if(n.length){var o=Pt(n,Yo(ba));r|=32}return Po(t,r,e,n,o)});function Sa(e,t,r){var o,i,a,l,u,c,s=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new ge(n);function m(t){var n=o,r=i;return o=i=void 0,s=t,l=e.apply(r,n)}function p(e){return s=e,u=yi(g,t),d?m(e):l}function h(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-s>=a}function g(){var e=ha();if(h(e))return _(e);u=yi(g,function(e){var n=t-(e-c);return f?ln(n,a-(e-s)):n}(e))}function _(e){return u=void 0,v&&o?m(e):(o=i=void 0,l)}function y(){var e=ha(),n=h(e);if(o=arguments,i=this,c=e,n){if(void 0===u)return p(c);if(f)return co(u),u=yi(g,t),m(c)}return void 0===u&&(u=yi(g,t)),l}return t=al(t)||0,za(r)&&(d=!!r.leading,a=(f="maxWait"in r)?an(al(r.maxWait)||0,t):a,v="trailing"in r?!!r.trailing:v),y.cancel=function(){void 0!==u&&co(u),s=0,o=c=i=u=void 0},y.flush=function(){return void 0===u?l:_(ha())},y}var Ea=Br(function(e,t){return Zn(e,1,t)}),wa=Br(function(e,t,n){return Zn(e,al(t)||0,n)});function Ca(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ge(n);var r=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return r.cache=new(Ca.Cache||Rn),r}function Aa(e){if("function"!=typeof e)throw new ge(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ca.Cache=Rn;var Da=lo(function(e,t){var n=(t=1==t.length&&xa(t[0])?ct(t[0],Mt(Jo())):ct(ir(t,1),Mt(Jo()))).length;return Br(function(r){for(var o=-1,i=ln(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return tt(e,this,r)})}),Ma=Br(function(e,t){return Po(e,32,void 0,t,Pt(t,Yo(Ma)))}),Ia=Br(function(e,t){return Po(e,64,void 0,t,Pt(t,Yo(Ia)))}),Oa=zo(function(e,t){return Po(e,256,void 0,void 0,void 0,t)});function Ta(e,t){return e===t||e!=e&&t!=t}var La=xo(mr),Na=xo(function(e,t){return e>=t}),ka=yr(function(){return arguments}())?yr:function(e){return Va(e)&&Ee.call(e,"callee")&&!Ge.call(e,"callee")},xa=G.isArray,Ra=Ye?Mt(Ye):function(e){return Va(e)&&vr(e)==S};function Ua(e){return null!=e&&qa(e.length)&&!Wa(e)}function Ba(e){return Va(e)&&Ua(e)}var Ha=tn||au,Pa=Je?Mt(Je):function(e){return Va(e)&&vr(e)==u};function ja(e){if(!Va(e))return!1;var t=vr(e);return t==c||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!$a(e)}function Wa(e){if(!za(e))return!1;var t=vr(e);return t==s||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fa(e){return"number"==typeof e&&e==ol(e)}function qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function za(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var Ka=Qe?Mt(Qe):function(e){return Va(e)&&ni(e)==f};function Ga(e){return"number"==typeof e||Va(e)&&vr(e)==v}function $a(e){if(!Va(e)||vr(e)!=m)return!1;var t=ze(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Se.call(n)==De}var Ya=Ze?Mt(Ze):function(e){return Va(e)&&vr(e)==p},Ja=Xe?Mt(Xe):function(e){return Va(e)&&ni(e)==h};function Qa(e){return"string"==typeof e||!xa(e)&&Va(e)&&vr(e)==g}function Za(e){return"symbol"==typeof e||Va(e)&&vr(e)==_}var Xa=et?Mt(et):function(e){return Va(e)&&qa(e.length)&&!!Ue[vr(e)]},el=xo(Ar),tl=xo(function(e,t){return e<=t});function nl(e){if(!e)return[];if(Ua(e))return Qa(e)?qt(e):go(e);if(Et&&e[Et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Et]());var t=ni(e);return(t==f?Bt:t==h?jt:Tl)(e)}function rl(e){return e?(e=al(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ol(e){var t=rl(e),n=t%1;return t==t?n?t-n:t:0}function il(e){return e?Yn(ol(e),0,4294967295):0}function al(e){if("number"==typeof e)return e;if(Za(e))return NaN;if(za(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=za(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Dt(e);var n=re.test(e);return n||ie.test(e)?je(e.slice(2),n?2:8):ne.test(e)?NaN:+e}function ll(e){return _o(e,El(e))}function ul(e){return null==e?"":Jr(e)}var cl=bo(function(e,t){if(di(t)||Ua(t))_o(t,Sl(t),e);else for(var n in t)Ee.call(t,n)&&qn(e,n,t[n])}),sl=bo(function(e,t){_o(t,El(t),e)}),dl=bo(function(e,t,n,r){_o(t,El(t),e,r)}),fl=bo(function(e,t,n,r){_o(t,Sl(t),e,r)}),vl=zo($n),ml=Br(function(e,t){e=me(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&li(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=El(i),l=-1,u=a.length;++l<u;){var c=a[l],s=e[c];(void 0===s||Ta(s,ye[c])&&!Ee.call(e,c))&&(e[c]=i[c])}return e}),pl=Br(function(e){return e.push(void 0,Wo),tt(Cl,void 0,e)});function hl(e,t,n){var r=null==e?void 0:dr(e,t);return void 0===r?n:r}function gl(e,t){return null!=e&&ri(e,t,hr)}var _l=Oo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n},zl(Gl)),yl=Oo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]},Jo),bl=Br(_r);function Sl(e){return Ua(e)?Hn(e):Cr(e)}function El(e){return Ua(e)?Hn(e,!0):function(e){if(!za(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=di(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}(e)}var wl=bo(function(e,t,n){Or(e,t,n)}),Cl=bo(function(e,t,n,r){Or(e,t,n,r)}),Al=zo(function(e,t){var n={};if(null==e)return n;var r=!1;t=ct(t,function(t){return t=ao(t,e),r||(r=t.length>1),t}),_o(e,Ko(e),n),r&&(n=Jn(n,7,Fo));for(var o=t.length;o--;)Zr(n,t[o]);return n}),Dl=zo(function(e,t){return null==e?{}:function(e,t){return Nr(e,t,function(t,n){return gl(e,n)})}(e,t)});function Ml(e,t){if(null==e)return{};var n=ct(Ko(e),function(e){return[e]});return t=Jo(t),Nr(e,n,function(e,n){return t(e,n[0])})}var Il=Ho(Sl),Ol=Ho(El);function Tl(e){return null==e?[]:It(e,Sl(e))}var Ll=Co(function(e,t,n){return t=t.toLowerCase(),e+(n?Nl(t):t)});function Nl(e){return jl(ul(e).toLowerCase())}function kl(e){return(e=ul(e))&&e.replace(le,kt).replace(Oe,"")}var xl=Co(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Rl=Co(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ul=wo("toLowerCase"),Bl=Co(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Hl=Co(function(e,t,n){return e+(n?" ":"")+jl(t)}),Pl=Co(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),jl=wo("toUpperCase");function Wl(e,t,n){return e=ul(e),void 0===(t=n?void 0:t)?function(e){return ke.test(e)}(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var Fl=Br(function(e,t){try{return tt(e,void 0,t)}catch(e){return ja(e)?e:new de(e)}}),ql=zo(function(e,t){return rt(t,function(t){t=Mi(t),Gn(e,t,ya(e[t],e))}),e});function zl(e){return function(){return e}}var Vl=Mo(),Kl=Mo(!0);function Gl(e){return e}function $l(e){return wr("function"==typeof e?e:Jn(e,1))}var Yl=Br(function(e,t){return function(n){return _r(n,e,t)}}),Jl=Br(function(e,t){return function(n){return _r(e,n,t)}});function Ql(e,t,n){var r=Sl(t),o=sr(t,r);null!=n||za(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=sr(t,Sl(t)));var i=!(za(n)&&"chain"in n&&!n.chain),a=Wa(e);return rt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=go(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,st([this.value()],arguments))})}),e}function Zl(){}var Xl=Lo(ct),eu=Lo(it),tu=Lo(vt);function nu(e){return ui(e)?St(Mi(e)):function(e){return function(t){return dr(t,e)}}(e)}var ru=ko(),ou=ko(!0);function iu(){return[]}function au(){return!1}var lu,uu=To(function(e,t){return e+t},0),cu=Uo("ceil"),su=To(function(e,t){return e/t},1),du=Uo("floor"),fu=To(function(e,t){return e*t},1),vu=Uo("round"),mu=To(function(e,t){return e-t},0);return In.after=function(e,t){if("function"!=typeof t)throw new ge(n);return e=ol(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=ga,In.assign=cl,In.assignIn=sl,In.assignInWith=dl,In.assignWith=fl,In.at=vl,In.before=_a,In.bind=ya,In.bindAll=ql,In.bindKey=ba,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return xa(e)?e:[e]},In.chain=na,In.chunk=function(e,t,n){t=(n?li(e,t,n):void 0===t)?1:an(ol(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=G(Zt(r/t));o<r;)a[i++]=zr(e,o,o+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=G(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return st(xa(n)?go(n):[n],ir(t,1))},In.cond=function(e){var t=null==e?0:e.length,r=Jo();return e=t?ct(e,function(e){if("function"!=typeof e[1])throw new ge(n);return[r(e[0]),e[1]]}):[],Br(function(n){for(var r=-1;++r<t;){var o=e[r];if(tt(o[0],this,n))return tt(o[1],this,n)}})},In.conforms=function(e){return function(e){var t=Sl(e);return function(n){return Qn(n,e,t)}}(Jn(e,1))},In.constant=zl,In.countBy=ia,In.create=function(e,t){var n=On(e);return null==t?n:Kn(n,t)},In.curry=function e(t,n,r){var o=Po(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},In.curryRight=function e(t,n,r){var o=Po(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=e.placeholder,o},In.debounce=Sa,In.defaults=ml,In.defaultsDeep=pl,In.defer=Ea,In.delay=wa,In.difference=Ti,In.differenceBy=Li,In.differenceWith=Ni,In.drop=function(e,t,n){var r=null==e?0:e.length;return r?zr(e,(t=n||void 0===t?1:ol(t))<0?0:t,r):[]},In.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?zr(e,0,(t=r-(t=n||void 0===t?1:ol(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?eo(e,Jo(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?eo(e,Jo(t,3),!0):[]},In.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&li(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ol(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:ol(r))<0&&(r+=o),r=n>r?0:il(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},In.filter=function(e,t){return(xa(e)?at:or)(e,Jo(t,3))},In.flatMap=function(e,t){return ir(va(e,t),1)},In.flatMapDeep=function(e,t){return ir(va(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ol(n),ir(va(e,t),n)},In.flatten=Ri,In.flattenDeep=function(e){return null!=e&&e.length?ir(e,1/0):[]},In.flattenDepth=function(e,t){return null!=e&&e.length?ir(e,t=void 0===t?1:ol(t)):[]},In.flip=function(e){return Po(e,512)},In.flow=Vl,In.flowRight=Kl,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},In.functions=function(e){return null==e?[]:sr(e,Sl(e))},In.functionsIn=function(e){return null==e?[]:sr(e,El(e))},In.groupBy=sa,In.initial=function(e){return null!=e&&e.length?zr(e,0,-1):[]},In.intersection=Bi,In.intersectionBy=Hi,In.intersectionWith=Pi,In.invert=_l,In.invertBy=yl,In.invokeMap=da,In.iteratee=$l,In.keyBy=fa,In.keys=Sl,In.keysIn=El,In.map=va,In.mapKeys=function(e,t){var n={};return t=Jo(t,3),ur(e,function(e,r,o){Gn(n,t(e,r,o),e)}),n},In.mapValues=function(e,t){var n={};return t=Jo(t,3),ur(e,function(e,r,o){Gn(n,r,t(e,r,o))}),n},In.matches=function(e){return Mr(Jn(e,1))},In.matchesProperty=function(e,t){return Ir(e,Jn(t,1))},In.memoize=Ca,In.merge=wl,In.mergeWith=Cl,In.method=Yl,In.methodOf=Jl,In.mixin=Ql,In.negate=Aa,In.nthArg=function(e){return e=ol(e),Br(function(t){return Tr(t,e)})},In.omit=Al,In.omitBy=function(e,t){return Ml(e,Aa(Jo(t)))},In.once=function(e){return _a(2,e)},In.orderBy=function(e,t,n,r){return null==e?[]:(xa(t)||(t=null==t?[]:[t]),xa(n=r?void 0:n)||(n=null==n?[]:[n]),Lr(e,t,n))},In.over=Xl,In.overArgs=Da,In.overEvery=eu,In.overSome=tu,In.partial=Ma,In.partialRight=Ia,In.partition=ma,In.pick=Dl,In.pickBy=Ml,In.property=nu,In.propertyOf=function(e){return function(t){return null==e?void 0:dr(e,t)}},In.pull=Wi,In.pullAll=Fi,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?kr(e,t,Jo(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?kr(e,t,void 0,n):e},In.pullAt=qi,In.range=ru,In.rangeRight=ou,In.rearg=Oa,In.reject=function(e,t){return(xa(e)?at:or)(e,Aa(Jo(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Jo(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return xr(e,o),n},In.rest=function(e,t){if("function"!=typeof e)throw new ge(n);return Br(e,t=void 0===t?t:ol(t))},In.reverse=zi,In.sampleSize=function(e,t,n){return t=(n?li(e,t,n):void 0===t)?1:ol(t),(xa(e)?jn:Pr)(e,t)},In.set=function(e,t,n){return null==e?e:jr(e,t,n)},In.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:jr(e,t,n,r)},In.shuffle=function(e){return(xa(e)?Wn:qr)(e)},In.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&li(e,t,n)?(t=0,n=r):(t=null==t?0:ol(t),n=void 0===n?r:ol(n)),zr(e,t,n)):[]},In.sortBy=pa,In.sortedUniq=function(e){return e&&e.length?$r(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?$r(e,Jo(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&li(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ul(e))&&("string"==typeof t||null!=t&&!Ya(t))&&!(t=Jr(t))&&Ut(e)?uo(qt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ge(n);return t=null==t?0:an(ol(t),0),Br(function(n){var r=n[t],o=uo(n,0,t);return r&&st(o,r),tt(e,this,o)})},In.tail=function(e){var t=null==e?0:e.length;return t?zr(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?zr(e,0,(t=n||void 0===t?1:ol(t))<0?0:t):[]},In.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?zr(e,(t=r-(t=n||void 0===t?1:ol(t)))<0?0:t,r):[]},In.takeRightWhile=function(e,t){return e&&e.length?eo(e,Jo(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?eo(e,Jo(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new ge(n);return za(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),Sa(e,t,{leading:o,maxWait:t,trailing:i})},In.thru=ra,In.toArray=nl,In.toPairs=Il,In.toPairsIn=Ol,In.toPath=function(e){return xa(e)?ct(e,Mi):Za(e)?[e]:go(Di(ul(e)))},In.toPlainObject=ll,In.transform=function(e,t,n){var r=xa(e),o=r||Ha(e)||Xa(e);if(t=Jo(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:za(e)&&Wa(i)?On(ze(e)):{}}return(o?rt:ur)(e,function(e,r,o){return t(n,e,r,o)}),n},In.unary=function(e){return ga(e,1)},In.union=Vi,In.unionBy=Ki,In.unionWith=Gi,In.uniq=function(e){return e&&e.length?Qr(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qr(e,Jo(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qr(e,void 0,t):[]},In.unset=function(e,t){return null==e||Zr(e,t)},In.unzip=$i,In.unzipWith=Yi,In.update=function(e,t,n){return null==e?e:Xr(e,t,io(n))},In.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Xr(e,t,io(n),r)},In.values=Tl,In.valuesIn=function(e){return null==e?[]:It(e,El(e))},In.without=Ji,In.words=Wl,In.wrap=function(e,t){return Ma(io(t),e)},In.xor=Qi,In.xorBy=Zi,In.xorWith=Xi,In.zip=ea,In.zipObject=function(e,t){return ro(e||[],t||[],qn)},In.zipObjectDeep=function(e,t){return ro(e||[],t||[],jr)},In.zipWith=ta,In.entries=Il,In.entriesIn=Ol,In.extend=sl,In.extendWith=dl,Ql(In,In),In.add=uu,In.attempt=Fl,In.camelCase=Ll,In.capitalize=Nl,In.ceil=cu,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=al(n))==n?n:0),void 0!==t&&(t=(t=al(t))==t?t:0),Yn(al(e),t,n)},In.clone=function(e){return Jn(e,4)},In.cloneDeep=function(e){return Jn(e,5)},In.cloneDeepWith=function(e,t){return Jn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Jn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Qn(e,t,Sl(t))},In.deburr=kl,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=su,In.endsWith=function(e,t,n){e=ul(e),t=Jr(t);var r=e.length,o=n=void 0===n?r:Yn(ol(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},In.eq=Ta,In.escape=function(e){return(e=ul(e))&&B.test(e)?e.replace(R,xt):e},In.escapeRegExp=function(e){return(e=ul(e))&&V.test(e)?e.replace(z,"\\$&"):e},In.every=function(e,t,n){var r=xa(e)?it:nr;return n&&li(e,t,n)&&(t=void 0),r(e,Jo(t,3))},In.find=aa,In.findIndex=ki,In.findKey=function(e,t){return pt(e,Jo(t,3),ur)},In.findLast=la,In.findLastIndex=xi,In.findLastKey=function(e,t){return pt(e,Jo(t,3),cr)},In.floor=du,In.forEach=ua,In.forEachRight=ca,In.forIn=function(e,t){return null==e?e:ar(e,Jo(t,3),El)},In.forInRight=function(e,t){return null==e?e:lr(e,Jo(t,3),El)},In.forOwn=function(e,t){return e&&ur(e,Jo(t,3))},In.forOwnRight=function(e,t){return e&&cr(e,Jo(t,3))},In.get=hl,In.gt=La,In.gte=Na,In.has=function(e,t){return null!=e&&ri(e,t,pr)},In.hasIn=gl,In.head=Ui,In.identity=Gl,In.includes=function(e,t,n,r){e=Ua(e)?e:Tl(e),n=n&&!r?ol(n):0;var o=e.length;return n<0&&(n=an(o+n,0)),Qa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&gt(e,t,n)>-1},In.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ol(n);return o<0&&(o=an(r+o,0)),gt(e,t,o)},In.inRange=function(e,t,n){return t=rl(t),void 0===n?(n=t,t=0):n=rl(n),function(e,t,n){return e>=ln(t,n)&&e<an(t,n)}(e=al(e),t,n)},In.invoke=bl,In.isArguments=ka,In.isArray=xa,In.isArrayBuffer=Ra,In.isArrayLike=Ua,In.isArrayLikeObject=Ba,In.isBoolean=function(e){return!0===e||!1===e||Va(e)&&vr(e)==l},In.isBuffer=Ha,In.isDate=Pa,In.isElement=function(e){return Va(e)&&1===e.nodeType&&!$a(e)},In.isEmpty=function(e){if(null==e)return!0;if(Ua(e)&&(xa(e)||"string"==typeof e||"function"==typeof e.splice||Ha(e)||Xa(e)||ka(e)))return!e.length;var t=ni(e);if(t==f||t==h)return!e.size;if(di(e))return!Cr(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},In.isEqual=function(e,t){return br(e,t)},In.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},In.isError=ja,In.isFinite=function(e){return"number"==typeof e&&nn(e)},In.isFunction=Wa,In.isInteger=Fa,In.isLength=qa,In.isMap=Ka,In.isMatch=function(e,t){return e===t||Sr(e,t,Zo(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Sr(e,t,Zo(t),n)},In.isNaN=function(e){return Ga(e)&&e!=+e},In.isNative=function(e){if(si(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Ga,In.isObject=za,In.isObjectLike=Va,In.isPlainObject=$a,In.isRegExp=Ya,In.isSafeInteger=function(e){return Fa(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Ja,In.isString=Qa,In.isSymbol=Za,In.isTypedArray=Xa,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return Va(e)&&ni(e)==b},In.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==vr(e)},In.join=function(e,t){return null==e?"":rn.call(e,t)},In.kebabCase=xl,In.last=ji,In.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=ol(n))<0?an(r+o,0):ln(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):ht(e,yt,o,!0)},In.lowerCase=Rl,In.lowerFirst=Ul,In.lt=el,In.lte=tl,In.max=function(e){return e&&e.length?rr(e,Gl,mr):void 0},In.maxBy=function(e,t){return e&&e.length?rr(e,Jo(t,2),mr):void 0},In.mean=function(e){return bt(e,Gl)},In.meanBy=function(e,t){return bt(e,Jo(t,2))},In.min=function(e){return e&&e.length?rr(e,Gl,Ar):void 0},In.minBy=function(e,t){return e&&e.length?rr(e,Jo(t,2),Ar):void 0},In.stubArray=iu,In.stubFalse=au,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=fu,In.nth=function(e,t){return e&&e.length?Tr(e,ol(t)):void 0},In.noConflict=function(){return qe._===this&&(qe._=Me),this},In.noop=Zl,In.now=ha,In.pad=function(e,t,n){e=ul(e);var r=(t=ol(t))?Ft(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return No(Xt(o),n)+e+No(Zt(o),n)},In.padEnd=function(e,t,n){e=ul(e);var r=(t=ol(t))?Ft(e):0;return t&&r<t?e+No(t-r,n):e},In.padStart=function(e,t,n){e=ul(e);var r=(t=ol(t))?Ft(e):0;return t&&r<t?No(t-r,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ul(e).replace(K,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&li(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rl(e),void 0===t?(t=e,e=0):t=rl(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=sn();return ln(e+o*(t-e+Pe("1e-"+((o+"").length-1))),t)}return Rr(e,t)},In.reduce=function(e,t,n){var r=xa(e)?dt:wt,o=arguments.length<3;return r(e,Jo(t,4),n,o,er)},In.reduceRight=function(e,t,n){var r=xa(e)?ft:wt,o=arguments.length<3;return r(e,Jo(t,4),n,o,tr)},In.repeat=function(e,t,n){return t=(n?li(e,t,n):void 0===t)?1:ol(t),Ur(ul(e),t)},In.replace=function(){var e=arguments,t=ul(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var r=-1,o=(t=ao(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[Mi(t[r])];void 0===i&&(r=o,i=n),e=Wa(i)?i.call(e):i}return e},In.round=vu,In.runInContext=e,In.sample=function(e){return(xa(e)?Pn:Hr)(e)},In.size=function(e){if(null==e)return 0;if(Ua(e))return Qa(e)?Ft(e):e.length;var t=ni(e);return t==f||t==h?e.size:Cr(e).length},In.snakeCase=Bl,In.some=function(e,t,n){var r=xa(e)?vt:Vr;return n&&li(e,t,n)&&(t=void 0),r(e,Jo(t,3))},In.sortedIndex=function(e,t){return Kr(e,t)},In.sortedIndexBy=function(e,t,n){return Gr(e,t,Jo(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Kr(e,t);if(r<n&&Ta(e[r],t))return r}return-1},In.sortedLastIndex=function(e,t){return Kr(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Gr(e,t,Jo(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Kr(e,t,!0)-1;if(Ta(e[n],t))return n}return-1},In.startCase=Hl,In.startsWith=function(e,t,n){return e=ul(e),n=null==n?0:Yn(ol(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},In.subtract=mu,In.sum=function(e){return e&&e.length?Ct(e,Gl):0},In.sumBy=function(e,t){return e&&e.length?Ct(e,Jo(t,2)):0},In.template=function(e,t,n){var r=In.templateSettings;n&&li(e,t,n)&&(t=void 0),e=ul(e),t=dl({},t,r,jo);var o,i,a=dl({},t.imports,r.imports,jo),l=Sl(a),u=It(a,l),c=0,s=t.interpolate||ue,d="__p += '",f=pe((t.escape||ue).source+"|"+s.source+"|"+(s===j?ee:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),v="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Re+"]")+"\n";e.replace(f,function(t,n,r,a,l,u){return r||(r=a),d+=e.slice(c,u).replace(ce,Rt),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),l&&(i=!0,d+="';\n"+l+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),d+="';\n";var m=Ee.call(t,"variable")&&t.variable;if(m){if(Z.test(m))throw new de("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(L,""):d).replace(N,"$1").replace(k,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var p=Fl(function(){return fe(l,v+"return "+d).apply(void 0,u)});if(p.source=d,ja(p))throw p;return p},In.times=function(e,t){if((e=ol(e))<1||e>9007199254740991)return[];var n=4294967295,r=ln(e,4294967295);e-=4294967295;for(var o=At(r,t=Jo(t));++n<e;)t(n);return o},In.toFinite=rl,In.toInteger=ol,In.toLength=il,In.toLower=function(e){return ul(e).toLowerCase()},In.toNumber=al,In.toSafeInteger=function(e){return e?Yn(ol(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ul,In.toUpper=function(e){return ul(e).toUpperCase()},In.trim=function(e,t,n){if((e=ul(e))&&(n||void 0===t))return Dt(e);if(!e||!(t=Jr(t)))return e;var r=qt(e),o=qt(t);return uo(r,Tt(r,o),Lt(r,o)+1).join("")},In.trimEnd=function(e,t,n){if((e=ul(e))&&(n||void 0===t))return e.slice(0,zt(e)+1);if(!e||!(t=Jr(t)))return e;var r=qt(e);return uo(r,0,Lt(r,qt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ul(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Jr(t)))return e;var r=qt(e);return uo(r,Tt(r,qt(t))).join("")},In.truncate=function(e,t){var n=30,r="...";if(za(t)){var o="separator"in t?t.separator:o;n="length"in t?ol(t.length):n,r="omission"in t?Jr(t.omission):r}var i=(e=ul(e)).length;if(Ut(e)){var a=qt(e);i=a.length}if(n>=i)return e;var l=n-Ft(r);if(l<1)return r;var u=a?uo(a,0,l).join(""):e.slice(0,l);if(void 0===o)return u+r;if(a&&(l+=u.length-l),Ya(o)){if(e.slice(l).search(o)){var c,s=u;for(o.global||(o=pe(o.source,ul(te.exec(o))+"g")),o.lastIndex=0;c=o.exec(s);)var d=c.index;u=u.slice(0,void 0===d?l:d)}}else if(e.indexOf(Jr(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},In.unescape=function(e){return(e=ul(e))&&U.test(e)?e.replace(x,Vt):e},In.uniqueId=function(e){var t=++we;return ul(e)+t},In.upperCase=Pl,In.upperFirst=jl,In.each=ua,In.eachRight=ca,In.first=Ui,Ql(In,(lu={},ur(In,function(e,t){Ee.call(In.prototype,t)||(lu[t]=e)}),lu),{chain:!1}),In.VERSION="4.17.21",rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){In[e].placeholder=In}),rt(["drop","take"],function(e,t){Nn.prototype[e]=function(n){n=void 0===n?1:an(ol(n),0);var r=this.__filtered__&&!t?new Nn(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Nn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Nn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Jo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),rt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Nn.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Nn.prototype[e]=function(){return this.__filtered__?new Nn(this):this[n](1)}}),Nn.prototype.compact=function(){return this.filter(Gl)},Nn.prototype.find=function(e){return this.filter(e).head()},Nn.prototype.findLast=function(e){return this.reverse().find(e)},Nn.prototype.invokeMap=Br(function(e,t){return"function"==typeof e?new Nn(this):this.map(function(n){return _r(n,e,t)})}),Nn.prototype.reject=function(e){return this.filter(Aa(Jo(e)))},Nn.prototype.slice=function(e,t){e=ol(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Nn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ol(t))<0?n.dropRight(-t):n.take(t-e)),n)},Nn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Nn.prototype.toArray=function(){return this.take(4294967295)},ur(Nn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=In[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(In.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Nn,u=a[0],c=l||xa(t),s=function(e){var t=o.apply(In,st([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,v=i&&!d,m=l&&!f;if(!i&&c){t=m?t:new Nn(this);var p=e.apply(t,a);return p.__actions__.push({func:ra,args:[s],thisArg:void 0}),new Ln(p,d)}return v&&m?e.apply(this,a):(p=this.thru(s),v?r?p.value()[0]:p.value():p)})}),rt(["pop","push","shift","sort","splice","unshift"],function(e){var t=_e[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(xa(o)?o:[],e)}return this[n](function(n){return t.apply(xa(n)?n:[],e)})}}),ur(Nn.prototype,function(e,t){var n=In[t];if(n){var r=n.name+"";Ee.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}}),yn[Io(void 0,2).name]=[{name:"wrapper",func:void 0}],Nn.prototype.clone=function(){var e=new Nn(this.__wrapped__);return e.__actions__=go(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=go(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=go(this.__views__),e},Nn.prototype.reverse=function(){if(this.__filtered__){var e=new Nn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Nn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=xa(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ln(t,e+a);break;case"takeRight":e=an(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=i.end,u=l-a,c=r?l:a-1,s=this.__iteratees__,d=s.length,f=0,v=ln(u,this.__takeCount__);if(!n||!r&&o==u&&v==u)return to(e,this.__actions__);var m=[];e:for(;u--&&f<v;){for(var p=-1,h=e[c+=t];++p<d;){var g=s[p],_=g.type,y=(0,g.iteratee)(h);if(2==_)h=y;else if(!y){if(1==_)continue e;break e}}m[f++]=h}return m},In.prototype.at=oa,In.prototype.chain=function(){return na(this)},In.prototype.commit=function(){return new Ln(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=nl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof Tn;){var r=Oi(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Nn){var t=e;return this.__actions__.length&&(t=new Nn(this)),(t=t.reverse()).__actions__.push({func:ra,args:[zi],thisArg:void 0}),new Ln(t,this.__chain__)}return this.thru(zi)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return to(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Et&&(In.prototype[Et]=function(){return this}),In}();Ve?((Ve.exports=Kt)._=Kt,ze._=Kt):qe._=Kt}).call(y)}(g={exports:{}},g.exports),g.exports),S={label:"WBH_LOCALISATION_SEARCH_HEADER",type:"search",actionLabel:"WBH_ADD_LOCALISATION",actionRole:"LOC_ADMIN",actionLink:"workbench/localisation-add",apiDetails:{serviceName:"/localization/messages/v1/_search",requestParam:{},requestBody:{},minParametersForSearchForm:1,masterName:"commonUiConfig",moduleName:"SearchLocalisationConfig",tableFormJsonPath:"requestBody.custom",filterFormJsonPath:"requestBody.custom",searchFormJsonPath:"requestParam"},sections:{search:{uiConfig:{searchWrapperStyles:{flexDirection:"column-reverse",marginTop:"2rem",alignItems:"center",justifyContent:"end",gridColumn:"4"},headerStyle:null,formClassName:"",primaryLabel:"ES_COMMON_SEARCH",secondaryLabel:"ES_COMMON_CLEAR_SEARCH",minReqFields:1,defaultValues:{locale:"",module:"",codes:""},fields:[{label:"WBH_LOC_LANG",type:"dropdown",isMandatory:!1,disable:!1,populators:{name:"locale",optionsKey:"label",optionsCustomStyle:{top:"2.3rem"},mdmsConfig:{masterName:"StateInfo",moduleName:"common-masters",select:"(data)=>{ return data['common-masters'].StateInfo?.[0]?.languages }"}}},{label:"WBH_LOC_MODULE",type:"dropdown",isMandatory:!1,disable:!1,populators:{name:"module",optionsKey:"label",optionsCustomStyle:{top:"2.3rem"},mdmsConfig:{masterName:"StateInfo",moduleName:"common-masters",select:"(data)=>{ return data['common-masters'].StateInfo?.[0]?.localizationModules }"}}},{label:"WBH_LOC_CODE",type:"text",isMandatory:!1,disable:!1,populators:{name:"codes"}}]},label:"",children:{},show:!0},searchResult:{label:"",uiConfig:{tableClassName:"table-fixed-last-column table",columns:[{label:"WBH_LOC_HEADER_CODE",jsonPath:"code"},{label:"WBH_LOC_HEADER_DEFAULT",jsonPath:"message"},{label:"WBH_LOC_HEADER_MESSAGE",jsonPath:"defaultMessage"},{label:"WBH_LOC_HEADER_MODULENAME",jsonPath:"module"},{label:"CS_COMMON_ACTION",svg:"EditIcon"}],enableGlobalSearch:!1,enableColumnSort:!0,resultsJsonPath:"messages",manualPagination:!1},children:{},show:!0}},additionalSections:{},customHookName:"workbench.useLocalisationSearch"},E=function(){var e=i.useTranslation().t,l=(a.useQueryClient(),o.useHistory()),u=Digit.ULBService.getCurrentTenantId(),c=n.useState(!1),s=c[0],d=c[1],f=n.useState(null),v=f[0],m=f[1],p=n.useState(!1),h=p[0],g=p[1],_=n.useState(null),y=_[0],b=_[1],E=n.useState(null),w=E[0],C=E[1],A=n.useState(!1),D=A[0],M=A[1],I=Digit.Hooks.useCustomAPIMutationHook({url:"/localization/messages/v1/_upsert",params:{},body:{tenantId:u},config:{enabled:!0}}),O=function(){setTimeout(function(){d(null)},5e3)};return n.useEffect(function(){y&&m(function(e){var t,n,r=e.t,o=e.editRow,i=e.formData;return{label:{heading:"WBH_LOC_EDIT_LOCALISATION",submit:"WBH_LOC_EDIT_MODAL_SUBMIT",cancel:"WBH_LOC_EDIT_MODAL_CANCEL"},form:[{body:[{label:r("WBH_LOC_MODULE"),type:"text",disable:!0,populators:{name:"module",defaultValue:o.module}},{label:r("WBH_LOC_LOCALE"),type:"text",disable:!0,populators:{name:"locale",defaultValue:o.originalLocale||(null==i||null===(t=i.searchForm)||void 0===t||null===(n=t.locale)||void 0===n?void 0:n.value)}},{label:r("WBH_LOC_CODE"),type:"text",disable:!0,populators:{name:"code",defaultValue:o.code}},{label:r("WBH_LOC_MESSAGE_VALUE"),type:"text",disable:!1,populators:{name:"message"}}]}]}}({t:e,editRow:y,formData:w}))},[y]),r.createElement(r.Fragment,null,r.createElement("div",{className:"jk-header-btn-wrapper"},r.createElement(t.Header,{className:"works-header-search"},e(null==S?void 0:S.label)),S&&Digit.Utils.didEmployeeHasRole(null==S?void 0:S.actionRole)&&r.createElement(t.ActionBar,null,r.createElement(t.SubmitBar,{disabled:!1,onSubmit:function(){var e;l.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/"+(null==S?void 0:S.actionLink))},label:e("WBH_ADD_LOCALISATION")}))),S&&r.createElement("div",{className:"inbox-search-wrapper"},r.createElement(t.InboxSearchComposer,{onFormValueChange:function(e){C(e)},configs:S,additionalConfig:{resultsTable:{onClickSvg:function(e){b(e.original),g(!0)}},search:{callRefetch:D,setCallRefetch:M}}})),h&&v&&r.createElement(t.WorkflowModal,{closeModal:function(){return g(!1)},onSubmit:function(t){try{return null!=t&&t.message?(I.mutate({params:{},body:{tenantId:u,messages:[t]}},{onError:function(t){var n,r,o,i=e("WBH_LOC_UPDATE_FAIL")+": ";null==t||null===(n=t.response)||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.Errors)||void 0===o||o.map(function(n,r){var o,a,l;i=r===(null==t||null===(o=t.response)||void 0===o||null===(a=o.data)||void 0===a||null===(l=a.Errors)||void 0===l?void 0:l.length)-1?i+e(Digit.Utils.locale.getTransformedLocale(null==n?void 0:n.code))+".":i+e(Digit.Utils.locale.getTransformedLocale(null==n?void 0:n.code))+", "}),d({label:i,isError:!0}),g(null),b(null),O()},onSuccess:function(t){d({label:""+e("WBH_LOC_UPDATE_SUCCESS")}),g(null),b(null),m(null),O(),M(!0)}}),Promise.resolve()):(d({label:""+e("WBH_LOC_ENTER_VALID_MESSAGE"),isError:!0,style:{zIndex:"10000"}}),O(),Promise.resolve())}catch(e){return Promise.reject(e)}},config:v,popupModuleActionBarStyles:{marginTop:"-1rem"},popupModuleMianStyles:{marginTop:"-2rem"}}),s&&r.createElement(t.Toast,{label:s.label,error:null==s?void 0:s.isError,isDleteBtn:!0,onClose:function(){return d(null)},style:null==s?void 0:s.style}))},w={label:"WBH_SEARCH_MDMS",type:"search",actionLabel:"WBH_ADD_MDMS",actionRole:"MDMS_ADMIN",actionLink:"workbench/mdms-add-v2",apiDetails:{serviceName:"/mdms-v2/v2/_search",requestParam:{},requestBody:{MdmsCriteria:{}},minParametersForSearchForm:0,masterName:"commonUiConfig",moduleName:"SearchMDMSConfig",tableFormJsonPath:"requestBody.MdmsCriteria",filterFormJsonPath:"requestBody.MdmsCriteria.custom",searchFormJsonPath:"requestBody.MdmsCriteria.custom"},sections:{search:{uiConfig:{searchWrapperStyles:{flexDirection:"column-reverse",marginTop:"2rem",alignItems:"center",justifyContent:"end",gridColumn:"4"},headerStyle:null,formClassName:"",primaryLabel:"ES_COMMON_SEARCH",secondaryLabel:"ES_COMMON_CLEAR_SEARCH",minReqFields:0,defaultValues:{value:"",field:"",isActive:{code:"WBH_COMMON_ALL",value:"all"}},fields:[{label:"WBH_FIELD",type:"dropdown",isMandatory:!1,disable:!1,populators:{name:"field",optionsKey:"i18nKey",optionsCustomStyle:{top:"2.3rem"},options:[{code:"code",name:"code"},{code:"name",name:"name"},{code:"description",name:"description"}]}},{label:"WBH_FIELD_VALUE",type:"text",isMandatory:!1,disable:!1,populators:{name:"value",validation:{pattern:{},maxlength:140}}},{label:"WBH_ISACTIVE",type:"dropdown",isMandatory:!1,disable:!1,populators:{name:"isActive",optionsKey:"code",optionsCustomStyle:{top:"2.3rem"},options:[{code:"WBH_COMMON_YES",value:!0},{code:"WBH_COMMON_NO",value:!1},{code:"WBH_COMMON_ALL",value:"all"}]}}]},label:"",children:{},show:!0},searchResult:{label:"",uiConfig:{columns:[],enableGlobalSearch:!1,enableColumnSort:!0,resultsJsonPath:"mdms",rowClassName:"table-row-mdms table-row-mdms-hover",noColumnBorder:!0},children:{},show:!0}},additionalSections:{}},C=function(){var e=i.useTranslation().t,a=o.useHistory(),l=Digit.Hooks.useQueryParams(),u=l.moduleName,c=l.masterName,s=Digit.ULBService.getStateId(),d=Digit.Hooks.useCustomMDMS(s,u,[{name:c}],{select:function(e){var t,n=b.get(e,u+"."+c,{}),r=[];return null===(t=Object.keys(null==n?void 0:n[0]))||void 0===t||t.forEach(function(e){var t;"string"==typeof(null==n||null===(t=n[0])||void 0===t?void 0:t[e])&&r.push({name:e,code:e})}),w.apiDetails.requestBody.MdmsCriteria.moduleDetails[0].moduleName=u,w.apiDetails.requestBody.MdmsCriteria.moduleDetails[0].masterDetails[0].name=u,w.sections.search.uiConfig.fields[0].populators.options=r,w}}),f=d.isLoading,v=d.data,m=n.useMemo(function(){return Digit.Utils.preProcessMDMSConfigInboxSearch(e,v,"sections.search.uiConfig.fields",{updateDependent:[{key:"createdFrom",value:[(new Date).toISOString().split("T")[0]]},{key:"createdTo",value:[(new Date).toISOString().split("T")[0]]}]})},[v]);return f?r.createElement(t.Loader,null):r.createElement(r.Fragment,null,r.createElement("div",{className:"jk-header-btn-wrapper"},r.createElement(t.Header,{styles:{fontSize:"32px"}},e(null==m?void 0:m.label)),Digit.Utils.didEmployeeHasRole(null==m?void 0:m.actionRole)&&r.createElement(t.Button,{label:e(null==m?void 0:m.actionLabel),variation:"secondary",icon:r.createElement(t.AddFilled,{style:{height:"20px",width:"20px"}}),onButtonClick:function(){var e;a.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/"+(null==m?void 0:m.actionLink)+"?moduleName=common-masters&masterName=StateInfo1")},type:"button"})),r.createElement("div",{className:"inbox-search-wrapper"},r.createElement(t.InboxSearchComposer,{configs:m})))},A=(v({},{$schema:"http://json-schema.org/draft-07/schema#",title:"Generated schema for Root",type:"object",properties:{name:{type:"string"},code:{type:"string"},qrCodeURL:{type:"string"},bannerUrl:{type:"string"},logoUrl:{type:"string"},logoUrlWhite:{type:"string"},statelogo:{type:"string"},gender:{type:"string"},hasLocalisation:{type:"boolean"},enableWhatsApp:{type:"boolean"},mobileNo:{type:"number"},defaultUrl:{type:"object",properties:{citizen:{type:"string"},employee:{type:"string"}},required:["citizen","employee"]},languages:{type:"array",items:{type:"object",properties:{label:{type:"string"},value:{type:"string"}},required:["label","value"]}},sampleObject:{type:"array",items:{type:"string"},required:["label","value"]},localizationModules:{type:"array",items:{type:"object",properties:{label:{type:"string"},value:{type:"string"}},required:["label","value"]}}},required:["name","code","logoUrl","statelogo","hasLocalisation","enableWhatsApp","mobileNo","defaultUrl","languages","localizationModules"]},{"x-unique":["code"],"x-ref-schema":[{fieldPath:"gender",schemaCode:"common-masters.GenderType"}]}),function(e){var a=e.FormSession,l=Digit.ULBService.getStateId(),u=n.useState(!1),c=u[0],s=u[1],d=n.useState(!1),f=d[0],m=d[1],p=Digit.Hooks.useQueryParams(),h=p.moduleName,g=p.masterName,_=p.tenantId,y=a[0],S=a[1],E=n.useState(y),w=E[0],C=E[1],A=i.useTranslation().t,D=(o.useHistory(),{url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/schema/v1/_search",params:{},body:{SchemaDefCriteria:{tenantId:_||l,codes:[h+"."+g]}},config:{enabled:h&&g&&!0,select:function(e){var t;return(null==e||null===(t=e.SchemaDefinitions)||void 0===t?void 0:t[0])||{}}}}),M={url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_create/"+h+"."+g,params:{},body:{Mdms:{tenantId:l,schemaCode:h+"."+g,uniqueIdentifier:null,data:{},isActive:!0}},config:{enabled:!0,select:function(e){var t;return(null==e||null===(t=e.SchemaDefinitions)||void 0===t?void 0:t[0])||{}}}},I=Digit.Hooks.useCustomAPIHook(D),O=I.isLoading,T=I.data,L=Digit.Hooks.useCustomAPIMutationHook(M);if(n.useEffect(function(){if(!b.isEqual(y,w)){var e=setTimeout(function(){S(v({},y,w))},1e3);return function(){clearTimeout(e)}}},[w]),O)return r.createElement(t.Loader,null);var N=Digit.Hooks.workbench.UICreateConfigGenerator(T,{});return r.createElement(t.FormComposerV2,{headerLabel:"WBH_ADD_MDMS",label:A("WBH_ADD_MDMS_ADD_ACTION"),description:"",text:"",config:N.map(function(e){return v({},e,{body:e.body.filter(function(e){return!e.hideInEmployee})})}),customToast:f?{error:!1,label:f}:c?{error:!0,label:c}:null,updateCustomToast:function(){return m(!1)},defaultValues:w,onFormValueChange:function(e,t,n){b.isEqual(w,t)||C(v({},w,t))},onSubmit:function(e){var t=Digit.Utils.workbench.getFormattedData(e);L.mutate({params:{},body:{Mdms:{tenantId:l,schemaCode:h+"."+g,uniqueIdentifier:null,data:v({},t),isActive:!0}}},{onError:function(e){var t,n,r,o;s("Error :: "+(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.code))},onSuccess:function(e){var t,n;setTimeout(function(){S({})},1500),m("Success ::  "+(null==e||null===(t=e.mdms)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id))}})},fieldStyle:{marginRight:0},jsonSchema:null==T?void 0:T.definition})}),D=function(){return r.createElement("div",{className:"jk-digit-loader"},r.createElement("div",{className:"jk-spinner-wrapper"},r.createElement("div",{className:"jk-spinner"})))},M=["defaultFormData","updatesToUISchema","screenType","onViewActionsSelect","viewActions","onSubmitEditAction"],I=function(e){return console.log("I have",e.length,"errors to fix")},O=function(e){var a,l,u,c=e.defaultFormData,s=e.updatesToUISchema,d=e.screenType,f=void 0===d?"add":d,m=e.onViewActionsSelect,h=e.viewActions,g=e.onSubmitEditAction,_=(p(e,M),Digit.ULBService.getCurrentTenantId()),y=n.useState(!1),S=y[0],E=y[1],w=Digit.Hooks.useSessionStorage("MDMS_"+f,{}),C=w[0],A=w[1],O=n.useState(C),T=O[0],L=O[1],N=n.useState({}),k=N[0],x=N[1],R=n.useState({}),U=R[0],B=R[1],H=n.useState(!1),P=H[0],j=H[1],W=n.useState(!1),F=W[0],q=W[1],z=n.useState(!1),V=z[0],K=z[1],G=(n.useState([]),n.useState(!1)),$=G[0],Y=G[1],J=n.useState(!1),Q=J[0],Z=J[1],X=n.useState(!1),ee=X[0],te=X[1],ne=Digit.Hooks.useQueryParams(),re=ne.moduleName,oe=ne.masterName;n.useEffect(function(){L(v({},T,c))},[c]);var ie=i.useTranslation().t,ae=(o.useHistory(),{url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/schema/v1/_search",params:{},body:{SchemaDefCriteria:{tenantId:_,codes:[re+"."+oe]}},config:{enabled:re&&oe&&!0,select:function(e){var t,n,r,o,i,a,l,u,c,s,d,f,v,m;if(0==(null==e||null===(t=e.SchemaDefinitions)||void 0===t?void 0:t.length)&&K(!0),null!=e&&null!==(n=e.SchemaDefinitions)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&null!==(o=r.definition)&&void 0!==o&&null!==(i=o["x-ui-schema"])&&void 0!==i&&i["ui-apidetails"]&&j(null==e||null===(d=e.SchemaDefinitions)||void 0===d||null===(f=d[0])||void 0===f||null===(v=f.definition)||void 0===v||null===(m=v["x-ui-schema"])||void 0===m?void 0:m["ui-apidetails"]),null!=e&&null!==(a=e.SchemaDefinitions)&&void 0!==a&&null!==(l=a[0])&&void 0!==l&&null!==(u=l.definition)&&void 0!==u&&null!==(c=u["x-ui-schema"])&&void 0!==c&&c["ui-autogenerate"]){var p,h,g,_,y=null==e||null===(p=e.SchemaDefinitions)||void 0===p||null===(h=p[0])||void 0===h||null===(g=h.definition)||void 0===g||null===(_=g["x-ui-schema"])||void 0===_?void 0:_["ui-autogenerate"];q(Object.keys(y).map(function(e){return{id:y[e],path:e}}))}return(null==e||null===(s=e.SchemaDefinitions)||void 0===s?void 0:s[0])||{}}},changeQueryName:"schema"}),le=(Digit.Hooks.useCustomAPIHook({url:"/egov-idgen/id/_generate",body:{idRequests:[{tenantId:_,idName:null==F||null===(a=F[0])||void 0===a?void 0:a.id}]},config:{enabled:(null==F||null===(l=F[0])||void 0===l?void 0:l.id)&&"add"==f&&!0,select:function(e){var t,n,r,o,i,a,l,u,c,s,d;return null!=e&&null!==(t=e.idResponses)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.id&&(q([v({},null==F?void 0:F[0],{value:null==e||null===(i=e.idResponses)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.id})]),T[null==F||null===(l=F[0])||void 0===l?void 0:l.path]=null==e||null===(u=e.idResponses)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.id,L(v({},T)),U[null==F||null===(s=F[0])||void 0===s?void 0:s.path]=v({},U[null==F||null===(d=F[0])||void 0===d?void 0:d.path],{"ui:readonly":!0}),B(v({},U)),Z(!0),setTimeout(function(){Z(!1)})),(null==e||null===(r=e.idResponses)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.id)||""}}}),Digit.Hooks.useCustomAPIHook(ae)),ue=le.isLoading,ce=le.data,se=null!=P&&P.requestBody?v({},null==P?void 0:P.requestBody):{Mdms:{tenantId:_,schemaCode:re+"."+oe,uniqueIdentifier:null,data:{},isActive:!0}},de={url:P?null==P?void 0:P.url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_create/"+re+"."+oe,params:{},body:v({},se),config:{enabled:!!ce,select:function(e){var t;return(null==e||null===(t=e.SchemaDefinitions)||void 0===t?void 0:t[0])||{}}}},fe=Digit.Hooks.useCustomAPIMutationHook(de);if(n.useEffect(function(){var e,t,n,r;ce&&null!=ce&&ce.definition&&(Digit.Utils.workbench.updateTitleToLocalisationCodeForObject(null==ce?void 0:ce.definition,null==ce?void 0:ce.code),x(ce),(null==ce||null===(e=ce.definition)||void 0===e||null===(t=e["x-ref-schema"])||void 0===t?void 0:t.length)>0&&(null==ce||null===(n=ce.definition)||void 0===n||null===(r=n["x-ref-schema"])||void 0===r||r.map(function(e){if(null!=e&&e.fieldPath){var t,n,r,o=Digit.Utils.workbench.getUpdatedPath(null==e?void 0:e.fieldPath);b.get(null==ce||null===(t=ce.definition)||void 0===t?void 0:t.properties,o)&&b.set(null==ce||null===(n=ce.definition)||void 0===n?void 0:n.properties,o,v({},b.get(null==ce||null===(r=ce.definition)||void 0===r?void 0:r.properties,o,{}),{enum:[],schemaCode:null==e?void 0:e.schemaCode,fieldPath:null==e?void 0:e.fieldPath,tenantId:_}))}}),x(v({},ce)),Z(!0),setTimeout(function(){Z(!1)})))},[ce]),n.useEffect(function(){if(!b.isEqual(C,T)){var e=setTimeout(function(){A(v({},C,T))},1e3);return function(){clearTimeout(e)}}},[T]),V)return r.createElement(t.Card,null,r.createElement("span",{className:"workbench-no-schema-found"},r.createElement("h4",null,ie("WBH_NO_SCHEMA_FOUND")),r.createElement(t.SVG.NoResultsFoundIcon,{width:"20em",height:"20em"})));var ve=function(){setTimeout(function(){te(null)},5e3)};if(ue||!k||0==Object.keys(k))return r.createElement(t.Loader,null);var me=null==k||null===(u=k.definition)||void 0===u?void 0:u["x-ui-schema"];return r.createElement(r.Fragment,null,S&&r.createElement(D,null),k&&r.createElement(ye,{schema:k,onFormChange:function(e,t){var n=e.formData;b.isEqual(T,n)||L(v({},T,n))},onFormError:I,formData:T,onSubmit:"add"===f?function(e){E(!0),b.set(se,null!=P&&P.requestJson?null==P?void 0:P.requestJson:"Mdms.data",v({},e)),fe.mutate({params:{},body:v({},se)},{onError:function(e){var t,n,r,o;E(!1),te(ie("WBH_ERROR_MDMS_DATA")+" "+ie(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.code)),Y(!0),ve()},onSuccess:function(e){E(!1),A({}),L({}),Y(!1);var t=null!=P&&P.responseJson?null==P?void 0:P.responseJson:"mdms[0].id";te(ie("WBH_SUCCESS_MDMS_MSG")+" "+b.get(e,t,"NA")),ve()}})}:g,uiSchema:v({},U,me,s),showToast:ee,closeToast:ve,setShowToast:te,showErrorToast:$,setShowErrorToast:Y,screenType:f,viewActions:h,onViewActionsSelect:m,disabled:Q}))},T=["isLoading","data","isFetching"],L=function(e){v({},(m(e),e));var a=o.useHistory(),l=i.useTranslation().t,u=Digit.Hooks.useQueryParams(),c=u.moduleName,s=u.masterName,d=u.uniqueIdentifier,f=Digit.ULBService.getCurrentTenantId(),h=n.useState(!1),g=h[0],_=h[1],y=n.useState(!1),b=y[0],S=y[1],E={url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_search",params:{},body:{MdmsCriteria:{tenantId:f,uniqueIdentifiers:[d],schemaCode:c+"."+s}},config:{enabled:c&&s&&!0,select:function(e){var t;return null==e||null===(t=e.mdms)||void 0===t?void 0:t[0]}}},w={url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/schema/v1/_search",params:{},body:{SchemaDefCriteria:{tenantId:f,codes:[c+"."+s]}},config:{enabled:c&&s&&!0,select:function(e){var t,n,r,o,i=null==e||null===(t=e.SchemaDefinitions)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.definition)||void 0===r?void 0:r["x-unique"],a={};return i.forEach(function(e){return a[e]={"ui:readonly":!0}}),{schema:null==e||null===(o=e.SchemaDefinitions)||void 0===o?void 0:o[0],updatesToUiSchema:a}}},changeQueryName:"schema"},C=Digit.Hooks.useCustomAPIHook(E),A=C.isLoading,D=C.data,M=Digit.Hooks.useCustomAPIHook(w),I=M.isLoading,L=M.data,N=(p(M,T),{url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_update/"+c+"."+s,params:{},body:{},config:{enabled:!0}}),k=Digit.Hooks.useCustomAPIMutationHook(N);return A||I||b?r.createElement(t.Loader,null):r.createElement(r.Fragment,null,r.createElement(O,{defaultFormData:null==D?void 0:D.data,screenType:"edit",onSubmitEditAction:function(e){try{return k.mutate({url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_update/"+c+"."+s,params:{},body:{Mdms:v({},D,{data:e})}},{onError:function(e){var t,n,r,o;_({label:l("WBH_ERROR_MDMS_DATA")+" "+l(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.code),isError:!0}),setTimeout(function(){_(null)},5e3)},onSuccess:function(e){var t,n;_({label:l("WBH_SUCCESS_UPD_MDMS_MSG")+" "+(null==e||null===(t=e.mdms)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id)}),setTimeout(function(){var e;S(!0),a.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/workbench/mdms-view?moduleName="+c+"&masterName="+s+"&uniqueIdentifier="+d)},2e3)}}),Promise.resolve()}catch(e){return Promise.reject(e)}},updatesToUISchema:null==L?void 0:L.updatesToUiSchema}),g&&r.createElement(t.Toast,{label:l(g.label),error:null==g?void 0:g.isError,onClose:function(){return _(null)}}))},N=function(e){v({},(m(e),e));var a,l=o.useHistory(),u=i.useTranslation().t,c=n.useState(!1),s=c[0],d=c[1],f=Digit.Hooks.useQueryParams(),p=f.moduleName,h=f.masterName,g=f.uniqueIdentifier;a=Digit.ULBService.getCurrentTenantId();var _={url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_search",params:{},body:{MdmsCriteria:{tenantId:a,uniqueIdentifiers:[g],schemaCode:p+"."+h}},config:{enabled:p&&h&&!0,select:function(e){var t;return null==e||null===(t=e.mdms)||void 0===t?void 0:t[0]}}},y=function(){setTimeout(function(){d(null)},5e3)},b=Digit.Hooks.useCustomAPIHook(_),S=b.isLoading,E=b.data,w=b.refetch,C={url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_update/"+p+"."+h,params:{},body:{},config:{enabled:!0}},A=Digit.Hooks.useCustomAPIMutationHook(C);return S?r.createElement(t.Loader,null):r.createElement(r.Fragment,null,r.createElement(O,{defaultFormData:null==E?void 0:E.data,updatesToUISchema:{"ui:readonly":!0},screenType:"view",onViewActionsSelect:function(e){var t,n=e.action;"EDIT"===n?l.push("/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee/workbench/mdms-edit?moduleName="+p+"&masterName="+h+"&uniqueIdentifier="+g):function(e){try{A.mutate({url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_update/"+p+"."+h,params:{},body:{Mdms:v({},E,{isActive:"ENABLE"===e})}},{onError:function(e){var t,n,r,o;d({label:u("WBH_ERROR_MDMS_DATA")+" "+u(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.code),isError:!0}),y(),w()},onSuccess:function(e){var t,n,r,o;d({label:u("WBH_SUCCESS_"+(null!=e&&null!==(t=e.mdms)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.isActive?"ENA":"DIS")+"_MDMS_MSG")+" "+(null==e||null===(r=e.mdms)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.id)}),y(),w()}}),Promise.resolve()}catch(e){return Promise.reject(e)}}(n)},viewActions:function(e){var t=[{action:"EDIT",label:"Edit Master"}];return t.push((null==e?void 0:e.isActive)?{action:"DISABLE",label:"Disable Master"}:{action:"ENABLE",label:"Enable Master"}),t}(E)}),s&&r.createElement(t.Toast,{label:s.label,error:null==s?void 0:s.isError,isDleteBtn:!0,onClose:function(){return d(null)}}))},k=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),{name:t||e,code:Digit.Utils.locale.getTransformedLocale(t?"WBH_MDMS_"+e+"_"+t:"WBH_MDMS_MASTER_"+e)}},x=function(){var e=b.clone(w),a=i.useTranslation().t,l=o.useHistory(),u=Digit.Hooks.useQueryParams(),c=u.masterName,s=u.moduleName,d=u.tenantId,f=n.useState([]),v=f[0],m=f[1],p=n.useState(null),h=p[0],g=p[1],_=n.useState(null)[0],y=n.useState(null)[0],S=n.useState([])[1],E=n.useState([])[1],C=n.useState(null),A=C[0],D=C[1],M={tenantId:d=d||Digit.ULBService.getCurrentTenantId(),limit:50};s&&c&&(M.codes=[s+"."+c]);var I=Digit.Hooks.useCustomAPIHook({url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/schema/v1/_search",params:{},body:{SchemaDefCriteria:M},config:{select:function(e){var t=null==e?void 0:e.SchemaDefinitions;m(t),1===(null==t?void 0:t.length)&&g(null==t?void 0:t[0]);var n={mastersAvailable:[]};return t.forEach(function(e,t){var r,o=e.code.split("."),i=o[0],a=o[1];n[i]=(null===(r=n[i])||void 0===r?void 0:r.length)>0?[].concat(n[i],[k(i,a)]):[k(i,a)],n.mastersAvailable.push(i)}),n.mastersAvailable=n.mastersAvailable.filter(function(e,t,n){return n.indexOf(e)===t}),n.mastersAvailable=n.mastersAvailable.map(function(e){return k(e)}),n}}}),O=I.isLoading,T=I.data;return n.useEffect(function(){S(null==T?void 0:T.mastersAvailable)},[T]),n.useEffect(function(){E(null==T?void 0:T[null==_?void 0:_.name])},[_]),n.useEffect(function(){var e;null!=_&&_.name&&null!=y&&y.name&&g(null===(e=v.filter(function(e){return e.code===(null==_?void 0:_.name)+"."+(null==y?void 0:y.name)}))||void 0===e?void 0:e[0])},[y]),n.useEffect(function(){if(h){var t,n=[],r=h.definition.properties;null===(t=Object.keys(r))||void 0===t||t.forEach(function(e){"string"!==r[e].type||r[e].format||n.push({name:e,code:e,i18nKey:Digit.Utils.locale.getTransformedLocale(h.code+"_"+e)})}),e.sections.search.uiConfig.fields[0].populators.options=n,e.actionLink=e.actionLink+"?moduleName="+(null==_?void 0:_.name)+"&masterName="+(null==y?void 0:y.name),e.additionalDetails={currentSchemaCode:h.code},e.sections.searchResult.uiConfig.columns=[].concat(n.map(function(e){return{label:e.i18nKey,i18nKey:e.i18nKey,jsonPath:"data."+e.code,dontShowNA:!0}}),[{label:"WBH_ISACTIVE",i18nKey:"WBH_ISACTIVE",jsonPath:"isActive",additionalCustomization:!0}]),e.apiDetails.serviceName="/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_search",D(e)}},[h]),O?r.createElement(t.Loader,null):r.createElement(r.Fragment,null,r.createElement(t.Header,{className:"digit-form-composer-sub-header"},a(Digit.Utils.workbench.getMDMSLabel("SCHEMA_"+(null==h?void 0:h.code)))),A&&Digit.Utils.didEmployeeHasRole(null==A?void 0:A.actionRole)&&r.createElement(t.ActionBar,null,r.createElement(t.SubmitBar,{disabled:!1,onSubmit:function(){var e,t=null==A?void 0:A.actionLink;c&&s&&(t="workbench/mdms-add-v2?moduleName="+s+"&masterName="+c),l.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/"+t)},label:a("WBH_ADD_MDMS")})),A&&r.createElement("div",{className:"inbox-search-wrapper"},r.createElement(t.InboxSearchComposer,{configs:A,additionalConfig:{resultsTable:{onClickRow:function(e){var t=e.original,n=t.schemaCode.split(".");l.push("/"+window.contextPath+"/employee/workbench/mdms-view?moduleName="+n[0]+"&masterName="+n[1]+"&uniqueIdentifier="+t.uniqueIdentifier)}}}})))};function R(e,t){return e.slice().sort(function(e,n){var r=e[t],o=n[t];return r<o?-1:r>o?1:0})}var U=function(){var e=b.clone(w),a=i.useTranslation().t,l=o.useHistory(),u=Digit.Hooks.useQueryParams(),c=u.masterName,s=u.moduleName,d=u.tenantId,f=n.useState([]),v=f[0],m=f[1],p=n.useState(null)[1],h=n.useState(null),g=h[0],_=h[1],y=n.useState(null),S=y[0],E=y[1],C=n.useState([]),A=C[0],D=C[1],M=n.useState([]),I=M[0],O=M[1],T=n.useState(null)[1],L={tenantId:d=d||Digit.ULBService.getCurrentTenantId(),limit:50};s&&c&&(L.codes=[s+"."+c]);var N=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),{name:t||e,code:Digit.Utils.locale.getTransformedLocale(t?"WBH_MDMS_"+e+"_"+t:"WBH_MDMS_MASTER_"+e),translatedValue:a(Digit.Utils.locale.getTransformedLocale(t?"WBH_MDMS_"+e+"_"+t:"WBH_MDMS_MASTER_"+e))}},k=Digit.Hooks.useCustomAPIHook({url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/schema/v1/_search",params:{},body:{SchemaDefCriteria:L},config:{select:function(e){var t=null==e?void 0:e.SchemaDefinitions;m(t),1===(null==t?void 0:t.length)&&p(null==t?void 0:t[0]);var n={mastersAvailable:[]};return t.forEach(function(e,t){var r,o=e.code.split("."),i=o[0],a=o[1];n[i]=(null===(r=n[i])||void 0===r?void 0:r.length)>0?[].concat(n[i],[N(i,a)]):[N(i,a)],n.mastersAvailable.push(i)}),n.mastersAvailable=n.mastersAvailable.filter(function(e,t,n){return n.indexOf(e)===t}),n.mastersAvailable=n.mastersAvailable.map(function(e){return N(e)}),n.mastersAvailable=R(n.mastersAvailable,"translatedValue"),n}}}),x=k.isLoading,U=k.data;return n.useEffect(function(){D(null==U?void 0:U.mastersAvailable)},[U]),n.useEffect(function(){var e;(null==U||null===(e=U[null==g?void 0:g.name])||void 0===e?void 0:e.length)>0&&O(R(null==U?void 0:U[null==g?void 0:g.name],"translatedValue"))},[g]),n.useEffect(function(){var e,t;null!=g&&g.name&&null!=S&&S.name&&(p(null===(e=v.filter(function(e){return e.code===(null==g?void 0:g.name)+"."+(null==S?void 0:S.name)}))||void 0===e?void 0:e[0]),l.push("/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee/workbench/mdms-search-v2?moduleName="+g.name+"&masterName="+S.name))},[S]),x?r.createElement(t.Loader,null):r.createElement(r.Fragment,null,r.createElement(t.Header,{className:"works-header-search"},a(null==e?void 0:e.label)),r.createElement("div",{className:"jk-header-btn-wrapper"},r.createElement(t.Card,{className:"manage-master-wrapper"},r.createElement(t.Dropdown,{option:A,className:"form-field",optionKey:"code",selected:s&&c?N(s):g,select:function(e){_(e),E(null),T(null)},t:a,placeholder:a("WBH_MODULE_NAME"),disable:!!s}),r.createElement(t.Dropdown,{option:I,style:{marginRight:"auto"},className:"form-field",optionKey:"code",selected:s&&c?N(s,c):S,select:function(e){E(e)},t:a,placeholder:a("WBH_MASTER_NAME"),disable:!!c}))))};function B(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var H={tableState:[]},P=function(e,t){switch(t.type){case"ADD_ROW":return v({},e,{tableState:[].concat(e.tableState,[t.state])});case"UPDATE_ROW":var n=t.state,r=n.id,o=n.value,i=n.type,a=e.tableState,l=a.findIndex(function(e){return e.id===r});return"keycode"===i&&(a[l].code=o),"message"===i&&(a[l].message=o),v({},e,{tableState:a});case"DELETE_ROW":return e.tableState.splice(t.state.row.index,1),e;case"CLEAR_STATE":return v({},e,{tableState:[]});default:return e}},j=function(e){var t=e.inputRef;return r.createElement("div",{style:{display:"none"}},r.createElement("h1",null,"JSON to XLSX Converter"),r.createElement("button",{ref:t,onClick:function(){var e=[{code:"WBH_MDMS_MASTER_ACCESSCONTROL_ACTIONS_TEST",message:"Access Control",module:"rainmaker-workbench",locale:Digit.Utils.getDefaultLanguage()}],t=l.utils.json_to_sheet(e),n=l.utils.book_new();l.utils.book_append_sheet(n,t,"Sheet1"),l.writeFile(n,"template.xlsx")}},"Export to XLSX"))},W=["value","col","row"],F=["value","col","row"],q={label:"WBH_LOC_LANG",type:"dropdown",isMandatory:!1,disable:!1,populators:{name:"locale",optionsKey:"label",optionsCustomStyle:{top:"2.3rem"},mdmsConfig:{masterName:"StateInfo",moduleName:"common-masters",select:"(data)=>{ return data['common-masters'].StateInfo?.[0]?.languages }"},styles:{width:"50%"}}},z={label:"WBH_LOC_MODULE",type:"dropdown",isMandatory:!1,disable:!1,populators:{name:"module",optionsKey:"label",optionsCustomStyle:{top:"2.3rem"},mdmsConfig:{masterName:"StateInfo",moduleName:"common-masters",select:"(data)=>{ return data['common-masters'].StateInfo?.[0]?.localizationModules }"},styles:{width:"50%"}}};function V(e){var t,n=Object.values(e);return(t=[]).concat.apply(t,n)}function K(e,t){return e.map(function(e){var n={};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n})}function G(e,t){for(var n,r=new Set,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,void 0):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=o()).done;){var i=n.value[t];if(r.has(i))return!0;r.add(i)}return!1}var $,Y=function(){var e=n.useState(null),o=e[0],a=e[1],l=n.useState(!1),u=l[0],c=l[1],s=n.useState(null),d=s[0],f=s[1],m=Digit.ULBService.getStateId(),h=(n.useState([]),i.useTranslation().t),g=n.useState(null),_=g[0],y=g[1],b=n.useState(null),S=b[0],E=b[1],w=n.useReducer(P,H),C=w[0],A=w[1],D=n.useState(null),M=D[0],I=D[1],O=n.useState(!1),T=O[0],L=O[1],N=n.useRef(null);n.useEffect(function(){o&&d&&(A({type:"CLEAR_STATE"}),A({type:"ADD_ROW",state:{code:"",message:"",locale:o.value,module:d.value,id:0}}))},[o,d]);var k=n.useMemo(function(){return[{Header:h("WBH_LOC_KEYCODE"),accessor:"code",Cell:function(e){var n,o=e.row;return p(e,W),r.createElement(t.TextInput,{className:"field",textInputStyle:{width:"70%",marginLeft:"2%"},onChange:function(e){A({type:"UPDATE_ROW",state:{row:o,value:e.target.value,id:o.original.id,type:"keycode"}})},value:null===(n=C.tableState[o.index])||void 0===n?void 0:n.code,defaultValue:"",style:{marginBottom:"0px"}})}},{Header:h("WBH_LOC_MODULE"),accessor:"module",Cell:function(e){return String(e.value||h("ES_COMMON_NA"))}},{Header:h("WBH_LOC_LOCALE"),accessor:"locale",Cell:function(e){return String(e.value||h("ES_COMMON_NA"))}},{Header:r.createElement("div",{class:"tooltip",style:{marginTop:"-10px"}},r.createElement("span",{class:"textoverflow",style:{"--max-width":"20ch"}},String(h("WBH_LOC_MESSAGE_VALUE")),r.createElement(t.InfoIconOutline,{styles:{marginLeft:"0.3rem",marginBottom:"-0.2rem"}})),r.createElement("span",{class:"tooltiptext",style:{whiteSpace:"normal",width:"15rem"}},String(h("WBH_LOC_DEFAULT_INFO_MESSAGE")))),accessor:"message",Cell:function(e){var n,o=e.row;return r.createElement(t.TextInput,{className:"field",textInputStyle:{width:"70%",marginLeft:"2%"},onChange:function(e){A({type:"UPDATE_ROW",state:{row:o,value:e.target.value,id:o.original.id,type:"message"}})},value:null===(n=C.tableState[o.index])||void 0===n?void 0:n.message,defaultValue:"",style:{marginBottom:"0px"}})}},{Header:h("CS_COMMON_ACTION"),Cell:function(e){var n=e.row;return p(e,F),r.createElement("span",{onClick:function(){return A({type:"DELETE_ROW",state:{row:n}}),void I(function(){return!M})},className:"icon-wrapper"},r.createElement(t.DeleteIconv2,{fill:"#F47738"}))}}]},[M]),x=Digit.Hooks.useCustomAPIMutationHook({url:"/localization/messages/v1/_upsert",params:{},body:{tenantId:m},config:{enabled:!0}}),R=function(){setTimeout(function(){c(null)},5e3)};return n.useEffect(function(){(null==_?void 0:_.length)>0&&(null==S?void 0:S.length)>0&&function(){try{var e=!1;if(_.forEach(function(t){G(t,"code")&&(e=!0)}),e)return c({label:"WBH_LOC_SAME_KEY_VALIDATION_ERR",isError:!0}),Promise.resolve();for(var t=[],n=0;n<_.length;n++)t.push(x.mutateAsync({params:{},body:{tenantId:m,messages:_[n]}})),t.push(x.mutateAsync({params:{},body:{tenantId:m,messages:S[n]}}));var r=B(function(){return Promise.resolve(Promise.all(t)).then(function(){c({label:""+h("WBH_LOC_UPSERT_SUCCESS")}),L(!1),R()})},function(e){!function(e){var t,n,r;L(!1);var o=h("WBH_LOC_UPSERT_FAIL")+": ";null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors)||void 0===r||r.map(function(t,n){var r,i,a;o=n===(null==e||null===(r=e.response)||void 0===r||null===(i=r.data)||void 0===i||null===(a=i.Errors)||void 0===a?void 0:a.length)-1?o+h(Digit.Utils.locale.getTransformedLocale(null==t?void 0:t.code))+".":o+h(Digit.Utils.locale.getTransformedLocale(null==t?void 0:t.code))+", "}),c({label:o,isError:!0}),R()}(e)});Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}()},[_,S]),r.createElement(r.Fragment,null,r.createElement("div",{className:"jk-header-btn-wrapper"},r.createElement(t.Header,{className:"works-header-search"},h("WBH_LOC_ADD")),r.createElement("div",null,r.createElement(t.Button,{label:h("WBH_LOC_BULK_UPLOAD_XLS"),variation:"secondary",icon:r.createElement(t.UploadIcon,{styles:{height:"2.2rem",width:"2.2rem"}}),type:"button",onButtonClick:function(){return L(!0)},className:"header-btn"}),r.createElement("input",{className:"hide-input-type-file",type:"file",accept:"xls xlsx",onChange:function(e){try{var t=B(function(){return Promise.resolve(Digit.Utils.parsingUtils.parseXlsToJsonMultipleSheets(e)).then(function(e){var t=V(e),n=t.map(function(e){return v({},e,{locale:"default"})}),r=[K(t,["message","module","locale","code"])],o=[K(n,["message","module","locale","code"])];y(r),E(o)})},function(e){c({label:e.message||"Invalid file type. Please upload an Excel file.",isError:!0})});return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}}))),T&&r.createElement(t.FileUploadModal,{heading:"WBH_BULK_UPLOAD_HEADER",cancelLabel:"WBH_LOC_EDIT_MODAL_CANCEL",submitLabel:"WBH_BULK_UPLOAD_SUBMIT",onSubmit:function(e){try{var t=B(function(){return Promise.resolve(Digit.Utils.parsingUtils.parseXlsToJsonMultipleSheetsFile(e)).then(function(e){var t=V(e),n=t.map(function(e){return v({},e,{locale:"default"})}),r=[K(t,["message","module","locale","code"])],o=[K(n,["message","module","locale","code"])];y(r),E(o)})},function(e){c({label:e.message||"Invalid file type. Please upload an Excel file.",isError:!0})});return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},onClose:function(){return L(!1)},t:h,fileValidator:function(e){c({isError:!0,label:h("WBH_BULK_UPLOAD_DOC_VALIDATION_MSG")}),R(),L(!1)},onClickDownloadSample:function(e){try{return N.current.click(),Promise.resolve()}catch(e){return Promise.reject(e)}}}),r.createElement(j,{inputRef:N}),r.createElement(t.Card,null,r.createElement(t.LabelFieldPair,{style:{alignItems:"flex-start"}},r.createElement(t.CardLabel,{style:{marginBottom:"0.4rem"}},h("WBH_LOC_SELECT_LANG")),r.createElement(t.CustomDropdown,{t:h,label:null==q?void 0:q.label,type:null==q?void 0:q.type,value:a,onChange:function(e){return a(e)},config:null==q?void 0:q.populators,disable:null==q?void 0:q.disable})),r.createElement(t.LabelFieldPair,{style:{alignItems:"flex-start"}},r.createElement(t.CardLabel,null,h("WBH_LOC_SELECT_MODULE")),r.createElement(t.CustomDropdown,{t:h,label:null==z?void 0:z.label,type:null==z?void 0:z.type,value:a,onChange:function(e){return f(e)},config:null==z?void 0:z.populators,disable:null==z?void 0:z.disable}))),u&&r.createElement(t.Toast,{label:u.label,error:null==u?void 0:u.isError,isDleteBtn:!0,onClose:function(){return c(null)}}),o&&d&&r.createElement(t.Card,null,C.tableState.length>0&&r.createElement(t.Table,{pageSizeLimit:50,className:"table",t:h,customTableWrapperClassName:"dss-table-wrapper",disableSort:!0,autoSort:!1,data:C.tableState,totalRecords:C.tableState.length,columns:k,isPaginationRequired:!1,manualPagination:!1,getCellProps:function(e){return{style:{padding:"20px 18px",fontSize:"16px",whiteSpace:"normal"}}}}),r.createElement(t.BreakLine,{style:{height:"0.01rem"}}),o&&d&&r.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"2rem"}},r.createElement(t.Button,{label:h("ADD_NEW_ROW"),variation:"secondary",onButtonClick:function(){A({type:"ADD_ROW",state:{code:"",message:"",locale:o.value,module:d.value,id:C.tableState.length}})},type:"button"}),r.createElement(t.Button,{label:h("CLEAR_LOC_TABLE"),variation:"secondary",onButtonClick:function(){A({type:"CLEAR_STATE"})},type:"button"})),C.tableState.length>0&&r.createElement(t.ActionBar,null,r.createElement(t.SubmitBar,{label:h("CORE_COMMON_SAVE"),onSubmit:function(){var e=C.tableState,t=G(e,"code"),n=e.some(function(e){for(var t in e)if(e.hasOwnProperty(t)&&0!==e[t]&&!e[t])return!0;return!1});if(t)return c({label:h("WBH_LOC_SAME_KEY_VALIDATION_ERR"),isError:!0}),void R();if(n)return c({label:h("WBH_LOC_EMPTY_KEY_VALUE_VALIDATION_ERR"),isError:!0}),void R();var r=null==e?void 0:e.map(function(e){return v({},e,{locale:"default"})});x.mutate({params:{},body:{tenantId:m,messages:r}},{onError:function(){},onSuccess:function(){}}),x.mutate({params:{},body:{tenantId:m,messages:e}},{onError:function(e){var t,n,r,o=h("WBH_LOC_UPSERT_FAIL")+": ";null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors)||void 0===r||r.map(function(t,n){var r,i,a;o=n===(null==e||null===(r=e.response)||void 0===r||null===(i=r.data)||void 0===i||null===(a=i.Errors)||void 0===a?void 0:a.length)-1?o+h(Digit.Utils.locale.getTransformedLocale(null==t?void 0:t.code))+".":o+h(Digit.Utils.locale.getTransformedLocale(null==t?void 0:t.code))+", "}),c({label:o,isError:!0}),R()},onSuccess:function(e){c({label:""+h("WBH_LOC_UPSERT_SUCCESS")}),R(),A({type:"CLEAR_STATE"}),A({type:"ADD_ROW",state:{code:"",message:"",locale:o.value,module:d.value,id:0}}),I(function(){return!M})}})}}))))},J=function(e){var n,a,l=e.location,u=e.defaultPath,c=i.useTranslation().t,s=o.useLocation().search,d=(new URLSearchParams(s).get("from"),null===(n=l.pathname.replace(u+"/","").split("?"))||void 0===n?void 0:n[0]),f=Digit.Hooks.useQueryParams(),v=f.masterName,m=f.moduleName,p=f.uniqueIdentifier,h=[{path:"/"+(null===(a=window)||void 0===a?void 0:a.contextPath)+"/employee",content:c("WORKBENCH_HOME"),show:!0},{path:"/"+window.contextPath+"/employee/workbench/manage-master-data",content:c("WBH_MANAGE_MASTER_DATA"),show:!!d.includes("mdms-")},{path:"/"+window.contextPath+"/employee/workbench/localisation-search",content:c("LOCALISATION_SEARCH"),show:!!d.includes("localisation-"),isBack:!!d.includes("localisation-search")},{path:"/"+window.contextPath+"/employee/workbench/mdms-search-v2",query:"moduleName="+m+"&masterName="+v,content:c(""+Digit.Utils.workbench.getMDMSLabel(d,v,m)),show:!(!v||!m),isBack:!!d.includes("mdms-search-v2")},{path:"/"+window.contextPath+"/employee/workbench/mdms-view",content:c("MDMS_VIEW"),show:!!d.includes("mdms-edit"),query:"moduleName="+m+"&masterName="+v+"&uniqueIdentifier="+p},{path:"/"+window.contextPath+"/employee/masters/response",content:c(""+Digit.Utils.workbench.getMDMSLabel(d,"","")),show:!!Digit.Utils.workbench.getMDMSLabel(d,"","",["mdms-search-v2","localisation-search"])}];return r.createElement(t.BreadCrumb,{className:"workbench-bredcrumb",crumbs:h,spanStyle:{maxWidth:"min-content"}})},Q=function(e){var i=e.path,a=o.useLocation(),l=Digit.Hooks.useSessionStorage("MDMS_add",{}),u=l[0],c=l[2],s=Digit.Hooks.useSessionStorage("MDMS_view",{}),d=s[0],f=s[2];return n.useEffect(function(){!window.location.href.includes("mdms-add-v2")&&u&&0!=Object.keys(u)&&c(),!window.location.href.includes("mdms-view")&&d&&f()},[a]),r.createElement(r.Fragment,null,r.createElement(J,{location:a,defaultPath:i}),r.createElement(o.Switch,null,r.createElement(t.AppContainer,{className:"workbench"},r.createElement(t.PrivateRoute,{path:i+"/sample",component:function(){return r.createElement("div",null,"Sample Screen loaded")}}),r.createElement(t.PrivateRoute,{path:i+"/localisation-search",component:function(){return r.createElement(E,null)}}),r.createElement(t.PrivateRoute,{path:i+"/mdms-search",component:function(){return r.createElement(C,null)}}),r.createElement(t.PrivateRoute,{path:i+"/mdms-add",component:function(){return r.createElement(A,{FormSession:l,parentRoute:i})}}),r.createElement(t.PrivateRoute,{path:i+"/mdms-add-v2",component:function(){return r.createElement(O,{parentRoute:i})}}),r.createElement(t.PrivateRoute,{path:i+"/mdms-view",component:function(){return r.createElement(N,{parentRoute:i})}}),r.createElement(t.PrivateRoute,{path:i+"/mdms-edit",component:function(){return r.createElement(L,{parentRoute:i})}}),r.createElement(t.PrivateRoute,{path:i+"/manage-master-data",component:function(){return r.createElement(U,{parentRoute:i})}}),r.createElement(t.PrivateRoute,{path:i+"/mdms-search-v2",component:function(){return r.createElement(x,{parentRoute:i})}}),r.createElement(t.PrivateRoute,{path:i+"/localisation-add",component:function(){return r.createElement(Y,{parentRoute:i})}}))))},Z=window.Digit||{},X={string:{inline:!0,label:"",isMandatory:!1,type:"text",disable:!1,populators:{name:"text1",error:"invalid text field",validation:{pattern:/^[A-Za-z]+$/i}}},object:{inline:!0,label:"",isMandatory:!1,type:"object",disable:!1,populators:{name:"text1",error:"invalid text field",validation:{pattern:/^[A-Za-z]+$/i}}},array:{inline:!0,label:"",isMandatory:!1,type:"array",disable:!1,populators:{name:"text1",error:"invalid text field",validation:{pattern:/^[A-Za-z]+$/i}}},number:{label:"",isMandatory:!1,type:"number",disable:!1,populators:{name:"number1",error:"invalid number field",validation:{min:0,max:9999999999}}},boolean:{isMandatory:!1,key:"radio1",type:"radio",label:"",disable:!1,populators:{name:"radio1",optionsKey:"name",error:"select any one value",required:!1,options:[{code:!0,name:"True"},{code:!1,name:"false"}]}},select:{isMandatory:!1,type:"dropdown",label:"",disable:!1,populators:{name:"select1",optionsKey:"name",error:"select any one value",required:!1,mdmsConfig:{masterName:"",moduleName:"",localePrefix:""}}},default:{inline:!0,label:"",isMandatory:!1,type:"text",disable:!1,populators:{name:"text1",error:"invalid text field",validation:{pattern:/^[A-Za-z]+$/i}}}},ee={getConfig:function(e){void 0===e&&(e="text");var t=null!=X&&X[e]?null==X?void 0:X[e]:null==X?void 0:X.default;return v({},t,{populators:v({},t.populators)})},getMDMSLabel:function(e,t,n,r){var o;return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r=[]),(null===(o=r)||void 0===o?void 0:o.some(function(t){return t===e}))?null:t&&n?Digit.Utils.locale.getTransformedLocale("SCHEMA_"+n+"_"+t):Digit.Utils.locale.getTransformedLocale(e)},getFormattedData:function(e){void 0===e&&(e={});var t={};return Object.keys(e).map(function(n){if(null!=n&&n.startsWith("SELECT")){var r,o=null==n?void 0:n.replace("SELECT","");t[o]=null===(r=e[o])||void 0===r?void 0:r.code}else t[n]=e[n]}),t},getUpdatedPath:function(e){var t,n,r,o;void 0===e&&(e="");var i=e;if(null===(t=i)||void 0===t||!t.includes("."))return i;null!==(n=i)&&void 0!==n&&n.includes(".*.")&&(i=Digit.Utils.locale.stringReplaceAll(i,".*.","_ARRAY_OBJECT_")),null!==(r=i)&&void 0!==r&&r.includes(".*")&&(i=Digit.Utils.locale.stringReplaceAll(i,".*","_ARRAY_")),null!==(o=i)&&void 0!==o&&o.includes(".")&&(i=Digit.Utils.locale.stringReplaceAll(i,".","_OBJECT_"));var a=Digit.Utils.locale.stringReplaceAll(i,"_ARRAY_OBJECT_",".items.properties.");return a=Digit.Utils.locale.stringReplaceAll(a,"_ARRAY_",".items"),Digit.Utils.locale.stringReplaceAll(a,"_OBJECT_",".properties.")},updateTitleToLocalisationCodeForObject:function e(t,n){return Object.keys(null==t?void 0:t.properties).map(function(r){var o,i,a,l,u,c=Digit.Utils.locale.getTransformedLocale(n+"_"+r);t.properties[r]=v({},t.properties[r],{title:c}),"object"==(null===(o=t.properties[r])||void 0===o?void 0:o.type)&&e(t.properties[r],n),"array"==(null===(i=t.properties[r])||void 0===i?void 0:i.type)&&"object"==(null===(a=t.properties[r])||void 0===a||null===(l=a.items)||void 0===l?void 0:l.type)&&e(null===(u=t.properties[r])||void 0===u?void 0:u.items,n)}),t}},te={Hooks:{attendance:{update:function(){}},workbench:{UICreateConfigGenerator:function(e,t){var n,r;void 0===e&&(e={});var o=function(e,t){var n,r;void 0===e&&(e={});var o=null===(n=e)||void 0===n?void 0:n.properties,i=(null===(r=e)||void 0===r?void 0:r["x-ref-schema"])||[];return Object.keys(o).map(function(t){var n,r,a,l={},u=null==i?void 0:i.filter(function(e){return e.fieldPath==t});if(u&&Array.isArray(u)&&u.length>0){var c,s,d,f;l=Digit.Utils.workbench.getConfig("select");var m=null==u||null===(c=u[0])||void 0===c||null===(s=c.schemaCode)||void 0===s||null===(d=s.split)||void 0===d?void 0:d.call(s,".");l.populators.mdmsConfig.moduleName=null==m?void 0:m[0],l.populators.mdmsConfig.masterName=null==m?void 0:m[1],l.populators.mdmsConfig.localePrefix=Digit.Utils.locale.getTransformedLocale(null==u||null===(f=u[0])||void 0===f?void 0:f.schemaCode),l.key="SELECT"+t,l.populators.name="SELECT"+t}else(l=Digit.Utils.workbench.getConfig(o[t].type)).key="boolean"==o[t].type?"SELECT"+t:t,l.populators.name="boolean"==o[t].type?"SELECT"+t:t;return l.label=Digit.Utils.workbench.getMDMSLabel(t),l.isMandatory=null===(n=e)||void 0===n||null===(r=n.required)||void 0===r||null===(a=r.includes)||void 0===a?void 0:a.call(r,t),v({},l)})}(e.definition);return[{head:Digit.Utils.workbench.getMDMSLabel(null===(n=e)||void 0===n?void 0:n.code),subHead:null===(r=e)||void 0===r?void 0:r.description,body:o}]},useLocalisationSearch:function(e){var t=e.url,n=e.params,r=e.body,o=e.config,i=void 0===o?{}:o,l=e.plainAccessRequest,u=e.changeQueryName,c=void 0===u?"Random":u,s=e.state,d=a.useQueryClient(),f=(Digit,a.useQuery([t,c].filter(function(e){return e}),function(){return function(e){var t=e.url,n=e.params,r=e.body,o=e.plainAccessRequest,i=e.state;try{return Promise.resolve(B(function(){return Promise.resolve(function(e){var t=e.url,n=e.params,r=e.body,o=e.plainAccessRequest,i=e.state;try{var a=Digit.CustomService,l=function(e){var t,n,r=e.searchForm,o=v({},e.params,{codes:null==r?void 0:r.codes,module:null==r||null===(t=r.module)||void 0===t?void 0:t.value,locale:null==r||null===(n=r.locale)||void 0===n?void 0:n.value});for(var i in o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];return o}(v({},i,{params:n}));return Promise.resolve(a.getResponse({url:t,params:l,body:r,plainAccessRequest:o})).then(function(e){return Promise.resolve(a.getResponse({url:t,params:v({},l,{locale:"default"}),body:r,plainAccessRequest:o})).then(function(t){var n,r,o,i;return null===(n=Digit)||void 0===n||null===(r=n.Customizations)||void 0===r||null===(o=r.commonUiConfig)||void 0===o||null===(i=o.SearchLocalisationConfig)||void 0===i?void 0:i.combineData({data:e,defaultData:t})})})}catch(e){return Promise.reject(e)}}({url:t,params:n,body:r,plainAccessRequest:o,state:i}))},function(e){var t,n;throw new Error(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.Errors[0].message)}))}catch(e){return Promise.reject(e)}}({url:t,params:n,body:r,plainAccessRequest:l,state:s})},v({cacheTime:0},i))),m=f.data;return{isLoading:f.isLoading,isFetching:f.isFetching,data:m,refetch:f.refetch,revalidate:function(){m&&d.invalidateQueries({queryKey:[t].filter(function(e){return e})})},error:f.error}},getMDMSContextPath:function(){var e,t;return(null===(e=window)||void 0===e||null===(t=e.globalConfigs)||void 0===t?void 0:t.getConfig("MDMS_CONTEXT_PATH"))||"mdms-v2"}},contracts:{}},UserService:{logoutV1:function(){try{var e=Z.UserService.getUser();if(!e||!e.info||!e.access_token)return Promise.resolve(!1);var t=null==e?void 0:e.access_token,n="CITIZEN"===e.info.type?Z.ULBService.getStateId():Z.ULBService.getCurrentTenantId(),r=new Headers;r.append("accept","application/json, text/plain, */*"),r.append("content-type","application/json;charset=UTF-8");var o={method:"POST",headers:r,body:JSON.stringify({RequestInfo:{apiId:"Rainmaker",ver:".01",ts:"",action:"_logout",did:"1",key:"",msgId:"20170310130900|en_IN",authToken:t},access_token:t}),redirect:"follow"},i=Z.UserService.getType(),a=function(e,t){try{var r=B(function(){return Promise.resolve(fetch(window.location.origin+"/user/v1/_logout?tenantId="+n,o).then(function(e){return e.json()}).catch(function(e){return console.log("error",e)})).then(function(){})},function(){})}catch(e){return t(!0,e)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,r)}(0,function(e,t){if(window.localStorage.clear(),window.sessionStorage.clear(),"citizen"===i?window.location.replace("/digit-ui/citizen"):window.location.replace("/digit-ui/employee/user/language-selection"),e)throw t;return t});return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}},Utils:{browser:{sample:function(){}},workbench:v({},ee)}},ne=window.Digit||{},re={"muster roll":"MR"},oe={"muster-roll-approval":"muster-roll-service"},ie={businessServiceMap:re,updatePayload:function(e,t,n,r){if(r===re.estimate){var o,i,a,l={comment:t.comments,documents:null==t||null===(o=t.documents)||void 0===o?void 0:o.map(function(e){var t,r,o,i,a,l,u,c;return{documentType:(null==n?void 0:n.action)+" DOC",fileName:null==e||null===(t=e[1])||void 0===t||null===(r=t.file)||void 0===r?void 0:r.name,fileStoreId:null==e||null===(o=e[1])||void 0===o||null===(i=o.fileStoreId)||void 0===i?void 0:i.fileStoreId,documentUid:null==e||null===(a=e[1])||void 0===a||null===(l=a.fileStoreId)||void 0===l?void 0:l.fileStoreId,tenantId:null==e||null===(u=e[1])||void 0===u||null===(c=u.fileStoreId)||void 0===c?void 0:c.tenantId}}),assignees:null!=t&&null!==(i=t.assignees)&&void 0!==i&&i.uuid?[null==t||null===(a=t.assignees)||void 0===a?void 0:a.uuid]:null,action:n.action};return Object.keys(l).forEach(function(e,t){var n;l[e]&&0!==(null===(n=l[e])||void 0===n?void 0:n.length)||delete l[e]}),{estimate:e,workflow:l}}if(r===re.contract){var u,c,s,d={comment:null==t?void 0:t.comments,documents:null==t||null===(u=t.documents)||void 0===u?void 0:u.map(function(e){var t,r,o,i,a,l,u,c;return{documentType:(null==n?void 0:n.action)+" DOC",fileName:null==e||null===(t=e[1])||void 0===t||null===(r=t.file)||void 0===r?void 0:r.name,fileStoreId:null==e||null===(o=e[1])||void 0===o||null===(i=o.fileStoreId)||void 0===i?void 0:i.fileStoreId,documentUid:null==e||null===(a=e[1])||void 0===a||null===(l=a.fileStoreId)||void 0===l?void 0:l.fileStoreId,tenantId:null==e||null===(u=e[1])||void 0===u||null===(c=u.fileStoreId)||void 0===c?void 0:c.tenantId}}),assignees:null!=t&&null!==(c=t.assignees)&&void 0!==c&&c.uuid?[null==t||null===(s=t.assignees)||void 0===s?void 0:s.uuid]:null,action:n.action};return Object.keys(d).forEach(function(e,t){var n;d[e]&&0!==(null===(n=d[e])||void 0===n?void 0:n.length)||delete d[e]}),{contract:e,workflow:d}}if(r===(null==re?void 0:re["muster roll"])){var f,m,p,h={comment:null==t?void 0:t.comments,documents:null==t||null===(f=t.documents)||void 0===f?void 0:f.map(function(e){var t,r,o,i,a,l,u,c;return{documentType:(null==n?void 0:n.action)+" DOC",fileName:null==e||null===(t=e[1])||void 0===t||null===(r=t.file)||void 0===r?void 0:r.name,fileStoreId:null==e||null===(o=e[1])||void 0===o||null===(i=o.fileStoreId)||void 0===i?void 0:i.fileStoreId,documentUid:null==e||null===(a=e[1])||void 0===a||null===(l=a.fileStoreId)||void 0===l?void 0:l.fileStoreId,tenantId:null==e||null===(u=e[1])||void 0===u||null===(c=u.fileStoreId)||void 0===c?void 0:c.tenantId}}),assignees:null!=t&&null!==(m=t.assignees)&&void 0!==m&&m.uuid?[null==t||null===(p=t.assignees)||void 0===p?void 0:p.uuid]:null,action:n.action};return Object.keys(h).forEach(function(e,t){var n;h[e]&&0!==(null===(n=h[e])||void 0===n?void 0:n.length)||delete h[e]}),{musterRoll:e,workflow:h}}if(r===(null==re?void 0:re["works.purchase"])){var g,_,y,b,S,E={comment:t.comments,documents:null==t||null===(g=t.documents)||void 0===g?void 0:g.map(function(e){var t,r,o,i,a,l,u,c;return{documentType:(null==n?void 0:n.action)+" DOC",fileName:null==e||null===(t=e[1])||void 0===t||null===(r=t.file)||void 0===r?void 0:r.name,fileStoreId:null==e||null===(o=e[1])||void 0===o||null===(i=o.fileStoreId)||void 0===i?void 0:i.fileStoreId,documentUid:null==e||null===(a=e[1])||void 0===a||null===(l=a.fileStoreId)||void 0===l?void 0:l.fileStoreId,tenantId:null==e||null===(u=e[1])||void 0===u||null===(c=u.fileStoreId)||void 0===c?void 0:c.tenantId}}),assignees:null!=t&&null!==(_=t.assignees)&&void 0!==_&&_.uuid?[null==t||null===(y=t.assignees)||void 0===y?void 0:y.uuid]:null,action:n.action};Object.keys(E).forEach(function(e,t){var n;E[e]&&0!==(null===(n=E[e])||void 0===n?void 0:n.length)||delete E[e]});var w={projectId:e.additionalDetails.projectId,invoiceDate:e.billDate,invoiceNumber:null===(b=e.referenceId.split("_"))||void 0===b?void 0:b[1],contractNumber:null===(S=e.referenceId.split("_"))||void 0===S?void 0:S[0],documents:e.additionalDetails.documents};return{bill:v({},e,w),workflow:E}}},enableModalSubmit:function(e,t,n,r){e===(null==re?void 0:re["muster roll"])&&"APPROVE"===t.action&&n(null==r?void 0:r.acceptTerms)},enableHrmsSearch:function(e,t){return e===re.estimate?t.action.includes("TECHNICALSANCTION")||t.action.includes("VERIFYANDFORWARD"):e===re.contract?t.action.includes("VERIFY_AND_FORWARD"):e===(null==re?void 0:re["muster roll"])?t.action.includes("VERIFY"):e===(null==re?void 0:re["works.purchase"])&&t.action.includes("VERIFY_AND_FORWARD")},getBusinessService:function(e){return null!=e&&e.includes("estimate")?null==re?void 0:re.estimate:null!=e&&e.includes("contract")?null==re?void 0:re.contract:null!=e&&e.includes("muster roll")?null==re?void 0:re["muster roll"]:null!=e&&e.includes("works.purchase")?null==re?void 0:re["works.purchase"]:null!=e&&e.includes("works.wages")?null==re?void 0:re["works.wages"]:null!=e&&e.includes("works.supervision")?null==re?void 0:re["works.supervision"]:re},getInboxModuleName:function(e){return null!=e&&e.includes("estimate")?null==oe?void 0:oe.estimate:null!=e&&e.includes("contract")?null==oe?void 0:oe.contracts:null!=e&&e.includes("attendence")?null==oe?void 0:oe.attendencemgmt:oe},AttendanceInboxConfig:{preProcess:function(e){var t,n,r,o,i,a,l,u,c,s;e.body.inbox.tenantId=ne.ULBService.getCurrentTenantId(),e.body.inbox.processSearchCriteria.tenantId=ne.ULBService.getCurrentTenantId();var d=null==e||null===(t=e.body)||void 0===t||null===(n=t.inbox)||void 0===n||null===(r=n.moduleSearchCriteria)||void 0===r||null===(o=r.musterRollNumber)||void 0===o?void 0:o.trim();d&&(e.body.inbox.moduleSearchCriteria.musterRollNumber=d);var f=null==e||null===(i=e.body)||void 0===i||null===(a=i.inbox)||void 0===a||null===(l=a.moduleSearchCriteria)||void 0===l||null===(u=l.attendanceRegisterName)||void 0===u?void 0:u.trim();f&&(e.body.inbox.moduleSearchCriteria.attendanceRegisterName=f);var v=b.clone(e.body.inbox.moduleSearchCriteria.assignee);delete e.body.inbox.moduleSearchCriteria.assignee,"ASSIGNED_TO_ME"===(null==v?void 0:v.code)&&(e.body.inbox.moduleSearchCriteria.assignee=ne.UserService.getUser().info.uuid);var m,p=b.clone(e.body.inbox.moduleSearchCriteria.orgId?e.body.inbox.moduleSearchCriteria.orgId:null);delete e.body.inbox.moduleSearchCriteria.orgId,p&&(e.body.inbox.moduleSearchCriteria.orgId=null==p||null===(m=p[0])||void 0===m?void 0:m.applicationNumber);var h=b.clone(e.body.inbox.moduleSearchCriteria.state?e.body.inbox.moduleSearchCriteria.state:[]),g=b.clone(e.body.inbox.moduleSearchCriteria.ward?e.body.inbox.moduleSearchCriteria.ward:[]);delete e.body.inbox.moduleSearchCriteria.state,delete e.body.inbox.moduleSearchCriteria.ward,h=null===(c=Object.keys(h))||void 0===c?void 0:c.filter(function(e){return h[e]}),g=null===(s=g)||void 0===s?void 0:s.map(function(e){return null==e?void 0:e.code}),h.length>0&&(e.body.inbox.moduleSearchCriteria.status=h),g.length>0&&(e.body.inbox.moduleSearchCriteria.ward=g);var _=b.clone(e.body.inbox.moduleSearchCriteria.projectType?e.body.inbox.moduleSearchCriteria.projectType:{});return null!=_&&_.code&&(e.body.inbox.moduleSearchCriteria.projectType=_.code),e.body.inbox.moduleSearchCriteria.tenantId=ne.ULBService.getCurrentTenantId(),e.body.inbox.limit=e.state.tableForm.limit,e.body.inbox.offset=e.state.tableForm.offset,delete e.state,e},postProcess:function(e,t){var n,r,o=null==e||null===(n=e.statusMap)||void 0===n||null===(r=n.filter(function(e){return e.applicationstatus}))||void 0===r?void 0:r.map(function(e){return{code:e.applicationstatus,i18nKey:"COMMON_MASTERS_"+e.applicationstatus}});if("filter"===(null==t?void 0:t.type)){var i,a=null==t||null===(i=t.fields)||void 0===i?void 0:i.filter(function(e){return"dropdown"===e.type&&"musterRollStatus"===e.populators.name});a.length&&(a[0].populators.options=o)}},additionalCustomizations:function(e,t,n,i,a,l){if("ATM_MUSTER_ROLL_ID"===t)return r.createElement("span",{className:"link"},r.createElement(o.Link,{to:"/"+window.contextPath+"/employee/attendencemgmt/view-attendance?tenantId="+ne.ULBService.getCurrentTenantId()+"&musterRollNumber="+i},String(i?n.translate?a(n.prefix?""+n.prefix+i:i):i:a("ES_COMMON_NA"))));if("ATM_ATTENDANCE_WEEK"===t){var u=ne.DateUtils.ConvertTimestampToDate(null==i?void 0:i.startDate,"dd/MM/yyyy")+"-"+ne.DateUtils.ConvertTimestampToDate(null==i?void 0:i.endDate,"dd/MM/yyyy");return r.createElement("div",null,u)}return"ATM_NO_OF_INDIVIDUALS"===t?r.createElement("div",null,null==i?void 0:i.length):"ATM_AMOUNT_IN_RS"===t?r.createElement("span",null,i?ne.Utils.dss.formatterWithoutRound(i,"number"):a("ES_COMMON_NA")):"ATM_SLA"===t?parseInt(i)>0?r.createElement("span",{className:"sla-cell-success"},a(i)||""):r.createElement("span",{className:"sla-cell-error"},a(i)||""):r.createElement("span",null,a("COMMON_WORKFLOW_STATES"===t?"WF_MUSTOR_"+i:"CASE_NOT_HANDLED"))},MobileDetailsOnClick:function(e,t){var n;return Object.keys(e).map(function(r){"ATM_MUSTER_ROLL_ID"===r&&(n="/"+window.contextPath+"/employee/attendencemgmt/view-attendance?tenantId="+t+"&musterRollNumber="+e[r])}),n},populateReqCriteria:function(){return{url:"/org-services/organisation/v1/_search",params:{limit:50,offset:0},body:{SearchCriteria:{tenantId:ne.ULBService.getCurrentTenantId(),functions:{type:"CBO"}}},config:{enabled:!0,select:function(e){return null==e?void 0:e.organisations}}}}},SearchWageSeekerConfig:{customValidationCheck:function(e){var t=e.createdFrom,n=e.createdTo;return(""===t&&""!==n||""!==t&&""===n)&&{warning:!0,label:"ES_COMMON_ENTER_DATE_RANGE"}},preProcess:function(e){e.params=v({},e.params,{tenantId:ne.ULBService.getCurrentTenantId()});var t=v({},e.body.Individual),n={name:"name.givenName"},r={createdFrom:"daystart",createdTo:"dayend"},o={wardCode:"wardCode[0].code",socialCategory:"socialCategory.code"},i=["name","individualId"],a=Object.keys(t).map(function(e){if(o[e])t[e]=b.get(t,o[e],null);else if("object"==typeof t[e]){var n;t[e]=null===(n=t[e])||void 0===n?void 0:n.code}else if(null!=i&&i.includes(e)){var r;t[e]=null===(r=t[e])||void 0===r?void 0:r.trim()}return e}).filter(function(e){return t[e]}).reduce(function(e,o){var i;return n[o]?b.set(e,n[o],t[o]):r[o]&&null!==(i=r[o])&&void 0!==i&&i.includes("day")?b.set(e,o,ne.Utils.date.convertDateToEpoch(t[o],r[o])):b.set(e,o,t[o]),e},{});return e.body.Individual=v({},a),e},additionalCustomizations:function(e,t,n,i,a,l){switch(t){case"MASTERS_WAGESEEKER_ID":return r.createElement("span",{className:"link"},r.createElement(o.Link,{to:"/"+window.contextPath+"/employee/masters/view-wageseeker?tenantId="+(null==e?void 0:e.tenantId)+"&individualId="+i},String(i?n.translate?a(n.prefix?""+n.prefix+i:i):i:a("ES_COMMON_NA"))));case"MASTERS_SOCIAL_CATEGORY":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a("MASTERS_"+i))):a("ES_COMMON_NA");case"CORE_COMMON_PROFILE_CITY":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a(ne.Utils.locale.getCityLocale(i)))):a("ES_COMMON_NA");case"MASTERS_WARD":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a(ne.Utils.locale.getMohallaLocale(i,null==e?void 0:e.tenantId)))):a("ES_COMMON_NA");case"MASTERS_LOCALITY":return i?r.createElement("span",{style:{whiteSpace:"break-spaces"}},String(a(ne.Utils.locale.getMohallaLocale(i,null==e?void 0:e.tenantId)))):a("ES_COMMON_NA");default:return a("ES_COMMON_NA")}},MobileDetailsOnClick:function(e,t){var n;return Object.keys(e).map(function(r){"MASTERS_WAGESEEKER_ID"===r&&(n="/"+window.contextPath+"/employee/masters/view-wageseeker?tenantId="+t+"&wageseekerId="+e[r])}),n},additionalValidations:function(e,t,n){if("date"===e)return!t[n.start]||!t[n.end]||function(){return new Date(t[n.start]).getTime()<=new Date(t[n.end]).getTime()}}},SearchMDMSConfig:{customValidationCheck:function(e){var t=e.createdFrom,n=e.createdTo,r=e.field,o=e.value;return""===t&&""!==n||""!==t&&""===n?{warning:!0,label:"ES_COMMON_ENTER_DATE_RANGE"}:!!(r&&!o||!r&&o)&&{warning:!0,label:"WBH_MDMS_SEARCH_VALIDATION_FIELD_VALUE_PAIR"}},preProcess:function(e,t){var n=ne.ULBService.getCurrentTenantId();e.body.MdmsCriteria.tenantId=n;var r={},o=e.body.MdmsCriteria.custom||{},i=o.field,a=o.isActive;return r[null==i?void 0:i.code]=o.value,a?"all"===a.value?delete e.body.MdmsCriteria.isActive:e.body.MdmsCriteria.isActive=null==a?void 0:a.value:delete e.body.MdmsCriteria.isActive,e.body.MdmsCriteria.filters=r,e.body.MdmsCriteria.schemaCode=null==t?void 0:t.currentSchemaCode,delete e.body.MdmsCriteria.custom,e},additionalCustomizations:function(e,t,n,i,a,l){switch(t){case"WBH_UNIQUE_IDENTIFIER":var u=e.schemaCode.split(".");return r.createElement("span",{className:"link"},r.createElement(o.Link,{to:"/"+window.contextPath+"/employee/workbench/mdms-view?moduleName="+u[0]+"&masterName="+u[1]+"&uniqueIdentifier="+e.uniqueIdentifier},String(i?n.translate?a(n.prefix?""+n.prefix+i:i):i:a("ES_COMMON_NA"))));case"MASTERS_SOCIAL_CATEGORY":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a("MASTERS_"+i))):a("ES_COMMON_NA");case"CORE_COMMON_PROFILE_CITY":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a(ne.Utils.locale.getCityLocale(i)))):a("ES_COMMON_NA");case"MASTERS_WARD":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a(ne.Utils.locale.getMohallaLocale(i,null==e?void 0:e.tenantId)))):a("ES_COMMON_NA");case"MASTERS_LOCALITY":return i?r.createElement("span",{style:{whiteSpace:"break-spaces"}},String(a(ne.Utils.locale.getMohallaLocale(i,null==e?void 0:e.tenantId)))):a("ES_COMMON_NA");case"WBH_ISACTIVE":return i?r.createElement("span",{style:{color:"green"}},a("WBH_COMMON_YES")):r.createElement("span",{style:{color:"red"}},a("WBH_COMMON_NO"));default:return a("ES_COMMON_NA")}},MobileDetailsOnClick:function(e,t){var n;return Object.keys(e).map(function(r){"MASTERS_WAGESEEKER_ID"===r&&(n="/"+window.contextPath+"/employee/masters/view-wageseeker?tenantId="+t+"&wageseekerId="+e[r])}),n},additionalValidations:function(e,t,n){if("date"===e)return!t[n.start]||!t[n.end]||function(){return new Date(t[n.start]).getTime()<=new Date(t[n.end]).getTime()}}},SearchLocalisationConfig:{customValidationCheck:function(e){return""===e.locale&&{warning:!0,label:"WBH_LOC_WARNING_LOCALE_MUST_BE_PRESENT"}},preProcess:function(e,t){delete e.body.custom;var n=ne.ULBService.getStateId(),r=e.params,o=r.locale,i=void 0===o?void 0:o,a=r.module,l=void 0===a?void 0:a,u=r.codes,c=void 0===u?void 0:u;return delete e.params.locale,delete e.params.module,delete e.params.codes,delete e.params.message,e.params.tenantId=n,i&&(e.params.locale=i.value),l&&(e.params.module=l.value),c&&(e.params.codes=c),e},additionalCustomizations:function(e,t,n,i,a,l){switch(t){case"Unique Identifier":var u=e.schemaCode.split(".");return r.createElement("span",{className:"link"},r.createElement(o.Link,{to:"/"+window.contextPath+"/employee/workbench/mdms-view?moduleName="+u[0]+"&masterName="+u[1]+"&uniqueIdentifier="+e.uniqueIdentifier},String(i?n.translate?a(n.prefix?""+n.prefix+i:i):i:a("ES_COMMON_NA"))));case"MASTERS_SOCIAL_CATEGORY":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a("MASTERS_"+i))):a("ES_COMMON_NA");case"CORE_COMMON_PROFILE_CITY":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a(ne.Utils.locale.getCityLocale(i)))):a("ES_COMMON_NA");case"MASTERS_WARD":return i?r.createElement("span",{style:{whiteSpace:"nowrap"}},String(a(ne.Utils.locale.getMohallaLocale(i,null==e?void 0:e.tenantId)))):a("ES_COMMON_NA");case"MASTERS_LOCALITY":return i?r.createElement("span",{style:{whiteSpace:"break-spaces"}},String(a(ne.Utils.locale.getMohallaLocale(i,null==e?void 0:e.tenantId)))):a("ES_COMMON_NA");default:return a("ES_COMMON_NA")}},MobileDetailsOnClick:function(e,t){var n;return Object.keys(e).map(function(r){"MASTERS_WAGESEEKER_ID"===r&&(n="/"+window.contextPath+"/employee/masters/view-wageseeker?tenantId="+t+"&wageseekerId="+e[r])}),n},additionalValidations:function(e,t,n){if("date"===e)return!t[n.start]||!t[n.end]||function(){return new Date(t[n.start]).getTime()<=new Date(t[n.end]).getTime()}},combineData:function(e){var t,n=e.data,r=e.defaultData;return null==r||null===(t=r.messages)||void 0===t||t.forEach(function(e,t){var r;e.defaultMessage="",null==n||null===(r=n.messages)||void 0===r||r.forEach(function(t,n){e.code===t.code&&(e.defaultMessage=t.message,e.originalLocale=t.locale)})}),r}}},ae={LOCALISATION:["EMPLOYEE","SUPERUSER","EMPLOYEE_COMMON","LOC_ADMIN"],MDMS:["MDMS_ADMIN","EMPLOYEE","SUPERUSER"],DSS:["STADMIN"]},le={control:function(e,t){return v({},e,{borderColor:t.isFocused?"#f47738":"#505a5f",borderRadius:"unset","&:hover":{borderColor:"#f47738"}})}},ue=function(e){var n=i.useTranslation().t,o=Digit.Hooks.useQueryParams(),a=e.options,l=e.value,u=e.disabled,c=e.readonly,s=e.onChange,f=e.onBlur,v=e.onFocus,m=e.placeholder,p=e.multiple,h=void 0!==p&&p,g=e.schema,y=void 0===g?{schemaCode:"",fieldPath:""}:g,b=y.schemaCode,S=void 0===b?o.moduleName+"."+o.masterName:b,E=y.tenantId,w=y.fieldPath,C={url:"/"+Digit.Hooks.workbench.getMDMSContextPath()+"/v2/_search",params:{},body:{MdmsCriteria:{tenantId:E,schemaCode:S,limit:50,offset:0}},config:{enabled:S&&(null==S?void 0:S.length)>0,select:function(t){var n,r=null==t||null===(n=t.mdms)||void 0===n?void 0:n.map(function(e){return{label:null==e?void 0:e.uniqueIdentifier,value:null==e?void 0:e.uniqueIdentifier}}),o="registry.rootSchema.properties."+Digit.Utils.workbench.getUpdatedPath(w)+".enum";return _.has(e,o)&&_.set(e,o,null==r?void 0:r.map(function(e){return e.value})),r}},changeQueryName:"data-"+S},A=Digit.Hooks.useCustomAPIHook(C),D=A.isLoading,M=A.data,I=M||(null==a?void 0:a.enumOptions)||a||[],O=r.useMemo(function(){return I.map(function(e){return{label:n(Digit.Utils.locale.getTransformedLocale(S+"_"+(null==e?void 0:e.label))),value:e.value}})},[I,S,M]),T=null==O?void 0:O.filter(function(e){return h?null==l?void 0:l.includes(e.value):e.value==l});return D?r.createElement(t.Loader,null):r.createElement(d,{className:"form-control form-select",classNamePrefix:"digit",options:O,isDisabled:u||c,placeholder:m,onBlur:f,onFocus:v,closeMenuOnScroll:!0,value:T,onChange:function(e){return s(null==e?void 0:e.value)},isSearchable:!0,isMulti:h,styles:le})},ce=function(e){var n=i.useTranslation().t;return r.createElement("div",{onClick:function(){return e.onChange(!e.value)},className:"custom-checkbox custom-checkbox-"+(e.disabled?"disabled":"")},e.value&&r.createElement(t.ToggleSwitch,v({value:!0},e)),!e.value&&r.createElement(t.ToggleSwitch,v({value:!1},e)),r.createElement("span",{className:"custom-checkbox-label"},n(e.value?"WBH_BOOLEAN_VALUE_TRUE":"WBH_BOOLEAN_VALUE_FALSE")))},se=(($={"ui:title":" ","ui:classNames":"my-class","ui:submitButtonOptions":{props:{disabled:!1,className:"btn btn-info"},norender:!0,submitText:"Submit"}})["ui:submitButtonOptions"]={props:{className:"object-jk"}},$);function de(e){var t=this.t;return console.log(e,"errors"),e.map(function(e){var n;return e.message=t(Digit.Utils.workbench.getMDMSLabel("WBH_ERROR_"+(null==e?void 0:e.name))),"pattern"===(null==e?void 0:e.name)&&(e.message+=" : "+(null==e||null===(n=e.params)||void 0===n?void 0:n.pattern)),e})}function fe(e){var n=i.useTranslation().t,o=e.children,a=e.className,l=e.index,u=e.onDropIndexClick,c=e.schema,s=e.disabled,d="object"==(null==c?void 0:c.type),f=function(e){switch(e){case"array":return"jk-array-of-array";case"object":return"jk-array-objects";default:return"jk-array-of-non-objects"}}(null==c?void 0:c.type);return r.createElement("div",{className:a+" "+f},r.createElement("span",{className:"array-children"},o),d?r.createElement("span",{className:"array-obj"},e.hasRemove&&r.createElement("div",{className:"array-remove-button-wrapper"},r.createElement(t.Button,{label:""+n("WBH_DELETE_ACTION"),variation:"secondary",className:"array-remove-button",icon:r.createElement(t.SVG.Delete,{width:"28",height:"28"}),onButtonClick:u(l),type:"button",isDisabled:s}))):e.hasRemove&&r.createElement("div",{className:"array-remove-button-wrapper"},r.createElement(t.Button,{label:""+n("WBH_DELETE_ACTION"),variation:"secondary",className:"array-remove-button",icon:r.createElement(t.SVG.Delete,{width:"28",height:"28"}),onButtonClick:u(l),type:"button",isDisabled:s})))}function ve(e){return r.createElement("header",{id:e.id},e.title,e.required&&r.createElement("mark",null,"*"))}function me(e){return s.titleId(e.idSchema),null}function pe(e){var n,o=i.useTranslation().t;return null==e||!e.required||null!=e&&null!==(n=e.schema)&&void 0!==n&&n.minItems||(e.schema.minItems=1),r.createElement("div",{className:"array-wrapper"},e.items.map(function(t,n){return r.createElement("span",{className:"array-element-wrapper"},r.createElement(fe,v({title:null==e?void 0:e.title,key:n,index:n},t)))}),e.canAdd&&r.createElement(t.Button,{label:o("WBH_ADD")+" "+o(null==e?void 0:e.title),variation:"secondary",icon:r.createElement(t.AddFilled,{style:{height:"20px",width:"20px"}}),onButtonClick:e.onAddClick,type:"button",isDisabled:e.disabled}))}function he(e){var n,o,i=e.properties.map(function(t){var n;return r.createElement("div",{className:"field-wrapper object-wrapper",id:(null==e||null===(n=e.idSchema)||void 0===n?void 0:n.$id)+"_"+t.name},t.content)}),a="digit_root"==(null==e||null===(n=e.idSchema)||void 0===n?void 0:n.$id);return r.createElement("div",{id:null==e||null===(o=e.idSchema)||void 0===o?void 0:o.$id},e.description,a?i:r.createElement(t.CollapseAndExpandGroups,{showHelper:!0,groupHeader:"",groupElements:!0,children:i}))}function ge(e){var t=i.useTranslation().t,n=Digit.Hooks.useQueryParams(),o=n.moduleName,a=n.masterName,l=e.id,u=e.classNames,c=e.style,s=e.label,d=e.help,f=e.required,v=e.description,m=e.errors,p=e.children,h=s,g="";return null!=s&&s.includes(Digit.Utils.locale.getTransformedLocale(o))||null!=s&&s.includes(Digit.Utils.locale.getTransformedLocale(a))||(h=Digit.Utils.locale.getTransformedLocale(o+"."+o+"_"+(null==s?void 0:s.slice(0,-2))),g=null==s?void 0:s.slice(-2)),r.createElement("span",null,r.createElement("div",{className:u,style:c},r.createElement("label",{htmlFor:l,className:"control-label",id:"label_"+l},r.createElement("span",{className:"tooltip"},t(h)," ",g,r.createElement("span",{className:"tooltiptext"},r.createElement("span",{className:"tooltiptextvalue"},t("TIP_"+h)))),f?"*":null),v,r.createElement("span",{class:"all-input-field-wrapper"},p,m,d)))}var _e=function(e){var n=e.errors;return n&&n.length>0&&null!=n&&n[0]?r.createElement(t.CardLabelError,null,null==n?void 0:n[0]):null},ye=function(e){var o=e.schema,a=e.onSubmit,l=e.uiSchema,s=e.showToast,d=e.showErrorToast,f=e.formData,m=void 0===f?{}:f,p=e.onFormChange,h=e.onFormError,g=e.screenType,_=void 0===g?"add":g,y=e.onViewActionsSelect,b=e.viewActions,S=e.disabled,E=void 0!==S&&S,w=e.setShowToast,C=i.useTranslation().t,A={SelectWidget:ue,CheckboxWidget:ce},D=n.useState(!1),M=D[0],I=D[1],O=n.useState(!1),T=O[0],L=O[1],N={t:C};return r.createElement(r.Fragment,null,r.createElement(t.Header,{className:"digit-form-composer-header"},C("add"===_?"WBH_ADD_MDMS":"view"===_?"WBH_VIEW_MDMS":"WBH_EDIT_MDMS")),r.createElement(t.Card,{className:"workbench-create-form"},r.createElement(t.Header,{className:"digit-form-composer-sub-header"},C(Digit.Utils.workbench.getMDMSLabel("SCHEMA_"+(null==o?void 0:o.code)))),r.createElement(u,{schema:null==o?void 0:o.definition,validator:c,showErrorList:!1,formData:m,noHtml5Validate:!0,onChange:p,onSubmit:function(e){a(e.formData)},idPrefix:"digit_root",templates:{FieldErrorTemplate:_e,ArrayFieldTemplate:pe,FieldTemplate:ge,ObjectFieldTemplate:he,TitleFieldTemplate:ve,ArrayFieldTitleTemplate:me,ArrayFieldItemTemplate:fe},experimental_defaultFormStateBehavior:{arrayMinItems:{populate:"requiredOnly"}},widgets:A,transformErrors:de.bind(N),uiSchema:v({},se,l),onError:function(e){L(!0),h(e)},disabled:E,liveValidate:T},("add"===_||"edit"===_)&&r.createElement(t.ActionBar,{style:{zIndex:"0"}},r.createElement(t.SubmitBar,{label:C("edit"===_?"WBH_ADD_MDMS_UPDATE_ACTION":"WBH_ADD_MDMS_ADD_ACTION"),submit:"submit"})),"view"===_&&r.createElement(t.ActionBar,null,M?r.createElement(t.Menu,{localeKeyPrefix:"",options:b,optionKey:"label",t:C,onSelect:y,textStyles:{margin:"0px"}}):null,r.createElement(t.SubmitBar,{label:C("WORKS_ACTIONS"),onSubmit:function(){return I(!M)}})))),s&&r.createElement(t.Toast,{label:C(s),error:d,onClose:function(){w(null)},isDleteBtn:!0}))},be={__proto__:null,parseXlsToJson:function(e,t){e.preventDefault();var n=e.target.files[0],r=new FileReader;r.onload=function(e){var n=new Uint8Array(e.target.result),r=f.read(n,{type:"array"}),o=f.utils.sheet_to_json(r.Sheets[r.SheetNames[0]]);t(function(){return o})},r.readAsArrayBuffer(n)},parseXlsToJsonMultipleSheets:function(e){try{var t=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"];return Promise.resolve(new Promise(function(n,r){if(t.includes(e.target.files[0].type)){var o=new FileReader;o.onload=function(e){var t=f.read(e.target.result,{type:"arraybuffer"}),r={};t.SheetNames.forEach(function(e){var n=f.utils.sheet_to_json(t.Sheets[e]);r[e]=n}),n(r)},o.onerror=function(e){r(e)},o.readAsArrayBuffer(e.target.files[0])}else r(new Error("WBH_LOC_INAVLID_FILY_TYPE"))}))}catch(e){return Promise.reject(e)}},parseXlsToJsonMultipleSheetsFile:function(e){try{var t=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"];return Promise.resolve(new Promise(function(n,r){if(t.includes(e.type)){var o=new FileReader;o.onload=function(e){var t=f.read(e.target.result,{type:"arraybuffer"}),r={};t.SheetNames.forEach(function(e){var n=f.utils.sheet_to_json(t.Sheets[e]);r[e]=n}),n(r)},o.onerror=function(e){r(e)},o.readAsArrayBuffer(e)}else r(new Error("WBH_LOC_INAVLID_FILY_TYPE"))}))}catch(e){return Promise.reject(e)}}},Se={WorkbenchModule:function(e){var n=e.stateCode,i=o.useRouteMatch().path,a=Digit.StoreData.getCurrentLanguage();return Digit.Services.useStore({stateCode:n,moduleCode:["workbench","mdms","schema"],language:a}).isLoading?r.createElement(t.Loader,null):r.createElement(Q,{path:i,stateCode:n})},WorkbenchCard:function(){var e,n;if(!Digit.Utils.didEmployeeHasAtleastOneRole(Object.values(ae).flatMap(function(e){return e})))return null;var o=i.useTranslation().t,a=(Digit.ULBService.getCurrentTenantId(),[{label:o("ACTION_TEST_MDMS"),link:"/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/workbench/manage-master-data",roles:ae.MDMS},{label:o("ACTION_TEST_LOCALISATION"),link:"/"+(null===(n=window)||void 0===n?void 0:n.contextPath)+"/employee/workbench/localisation-search",roles:ae.LOCALISATION}]);a=a.filter(function(e){var t;return!(null!=e&&e.roles&&(null==e||null===(t=e.roles)||void 0===t?void 0:t.length)>0)||Digit.Utils.didEmployeeHasAtleastOneRole(null==e?void 0:e.roles)});var l={Icon:r.createElement(t.WorksMgmtIcon,null),moduleName:o("ACTION_TEST_WORKBENCH"),kpis:[],links:a};return r.createElement(t.EmployeeModuleCard,l)},DigitJSONForm:ye,DSSCard:null},Ee=function(e,t,n,r){void 0===r&&(r=!0),window.Digit=window.Digit||{},window.Digit[r?"Hooks":"Utils"]=window.Digit[r?"Hooks":"Utils"]||{},window.Digit[r?"Hooks":"Utils"][e]=window.Digit[r?"Hooks":"Utils"][e]||{},window.Digit[r?"Hooks":"Utils"][e][t]=n},we=function(e,t,n){window.Digit=window.Digit||{},window.Digit[e]=window.Digit[e]||{},window.Digit[e][t]=n};exports.DigitJSONForm=ye,exports.initWorkbenchComponents=function(){var e,t,n,r,o,i;Object.keys(te).map(function(e){"Hooks"===e?Object.keys(te[e]).map(function(t){Object.keys(te[e][t]).map(function(n){Ee(t,n,te[e][t][n])})}):"Utils"===e?Object.keys(te[e]).map(function(t){Object.keys(te[e][t]).map(function(n){Ee(t,n,te[e][t][n],!1)})}):Object.keys(te[e]).map(function(t){we(e,t,te[e][t])})}),we("Customizations","commonUiConfig",v({},null===(e=window)||void 0===e||null===(t=e.Digit)||void 0===t||null===(n=t.Customizations)||void 0===n?void 0:n.commonUiConfig,ie)),we("Utils","parsingUtils",v({},null===(r=window)||void 0===r||null===(o=r.Digit)||void 0===o||null===(i=o.Utils)||void 0===i?void 0:i.parsingUtils,be)),Object.entries(Se).forEach(function(e){Digit.ComponentRegistryService.setComponent(e[0],e[1])})};
