"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("lodash/isPlainObject"),r=require("lodash/isEqualWith"),t=require("lodash/get"),n=require("lodash/isEmpty"),i=require("jsonpointer"),o=require("lodash/omit"),a=require("lodash/has"),u=require("lodash/isObject"),s=require("lodash/isString"),f=require("lodash/reduce"),d=require("lodash/times"),l=require("lodash/set"),c=require("json-schema-merge-allof"),p=require("lodash/union"),m=require("lodash/isEqual"),v=require("lodash"),h=require("lodash/cloneDeep"),y=require("react/jsx-runtime"),g=require("react"),x=require("react-is"),b=require("lodash/toPath"),S=require("lodash/forEach");function O(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var A=O(e),E=O(r),w=O(t),_=O(n),I=O(i),D=O(o),F=O(a),j=O(u),T=O(s),W=O(f),P=O(d),N=O(l),U=O(c),q=O(p),M=O(m),L=O(h),k=O(x),C=O(b),R=O(S);function B(e){return!("undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Date&&e instanceof Date||"object"!=typeof e||null===e||Array.isArray(e))}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Y.apply(this,arguments)}function V(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function K(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r.indexOf(t=o[n])>=0||(i[t]=e[t]);return i}var $="__additional_property",H="additionalProperties",J="allOf",z="anyOf",G="const",Q="default",X="dependencies",Z="enum",ee="__errors",re="$id",te="if",ne="items",ie="_$junk_option_schema_id$_",oe="$name",ae="oneOf",ue="properties",se="required",fe="submitButtonOptions",de="$ref",le="__rjsf_additionalProperties",ce="__rjsf_rootSchema",pe="ui:field",me="ui:widget",ve="ui:options";function he(e,r){return void 0===e&&(e={}),void 0===r&&(r={}),Object.keys(e).filter((function(e){return 0===e.indexOf("ui:")})).reduce((function(r,t){var n,i=e[t];return t===me&&B(i)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),r):t===ve&&B(i)?Y({},r,i):Y({},r,((n={})[t.substring(3)]=i,n))}),Y({},r))}function ye(e,r){return E.default(e,r,(function(e,r){if("function"==typeof e&&"function"==typeof r)return!0}))}function ge(e,r){var t=r[e];return[D.default(r,[e]),t]}function xe(e,r){void 0===r&&(r={});var t=e||"";if(!t.startsWith("#"))throw new Error("Could not find a definition for "+e+".");t=decodeURIComponent(t.substring(1));var n=I.default.get(r,t);if(void 0===n)throw new Error("Could not find a definition for "+e+".");if(n[de]){var i=ge(de,n),o=i[0],a=xe(i[1],r);return Object.keys(o).length>0?Y({},o,a):a}return n}function be(e,r,t,n,i){if(void 0===r)return 0;for(var o=0;o<t.length;o++){var a=t[o];if(i&&F.default(a,[ue,i])){var u=w.default(r,i),s=w.default(a,[ue,i],{});if(e.isValid(s,u,n))return o}else if(a[ue]){var f={anyOf:Object.keys(a[ue]).map((function(e){return{required:[e]}}))},d=void 0;if(a.anyOf){var l=Y({},(V(a),a));l.allOf=l.allOf?l.allOf.slice():[],l.allOf.push(f),d=l}else d=Object.assign({},a,f);if(delete d.required,e.isValid(d,r,n))return o}else if(e.isValid(a,r,n))return o}return 0}function Se(e,r,t,n,i){return be(e,r,t,n,i)}function Oe(e){var r,t=w.default(e,"discriminator.propertyName",void 0);return T.default(t)?r=t:void 0!==t&&console.warn('Expecting discriminator to be a string, got "'+typeof t+'" instead'),r}function Ae(e){return Array.isArray(e)?"array":"string"==typeof e?"string":null==e?"null":"boolean"==typeof e?"boolean":isNaN(e)?"object"==typeof e?"object":"string":"number"}function Ee(e){var r=e.type;return!r&&e.const?Ae(e.const):!r&&e.enum?"string":r||!e.properties&&!e.additionalProperties?(Array.isArray(r)&&2===r.length&&r.includes("null")&&(r=r.find((function(e){return"null"!==e}))),r):"object"}function we(e,r){var t=Object.assign({},e);return Object.keys(r).reduce((function(t,n){var i=e?e[n]:{},o=r[n];return t[n]=e&&n in e&&B(o)?we(i,o):e&&r&&("object"===Ee(e)||"object"===Ee(r))&&n===se&&Array.isArray(i)&&Array.isArray(o)?q.default(i,o):o,t}),t)}var _e=["if","then","else"],Ie=["$ref"],De=["allOf"],Fe=["oneOf","anyOf"],je=["dependencies"],Te=["oneOf"];function We(e,r,t,n){return void 0===t&&(t={}),Ue(e,r,t,n)[0]}function Pe(e){return e.reduce((function(e,r){return r.length>1?r.flatMap((function(r){return P.default(e.length,(function(t){return[].concat(e[t]).concat(r)}))})):(e.forEach((function(e){return e.push(r[0])})),e)}),[[]])}function Ne(e,r,t,n,i){var o=r.$ref,a=K(r,Ie);return Ue(e,Y({},xe(o,t),a),t,i,n)}function Ue(e,r,t,n,i){if(void 0===i&&(i=!1),!B(r))return[{}];var o=function(e,r,t,n,i){return de in r?Ne(e,r,t,n,i):X in r?Me(e,r,t,n,i).flatMap((function(r){return Ue(e,r,t,i,n)})):J in r&&Array.isArray(r.allOf)?Pe(r.allOf.map((function(r){return Ue(e,r,t,i,n)}))).map((function(e){return Y({},r,{allOf:e})})):[r]}(e,r,t,i,n);return o.flatMap((function(r){var o=r;if(te in o)return function(e,r,t,n,i){var o=r.if,a=r.then,u=r.else,s=K(r,_e),f=e.isValid(o,i||{},t),d=[s],l=[];if(n)a&&"boolean"!=typeof a&&(l=l.concat(Ue(e,a,t,i,n))),u&&"boolean"!=typeof u&&(l=l.concat(Ue(e,u,t,i,n)));else{var c=f?a:u;c&&"boolean"!=typeof c&&(l=l.concat(Ue(e,c,t,i,n)))}return l.length&&(d=l.map((function(e){return we(s,e)}))),d.flatMap((function(r){return Ue(e,r,t,i,n)}))}(e,o,t,i,n);if(J in o)try{o=U.default(o,{deep:!1})}catch(e){console.warn("could not merge subschemas in allOf:\n",e);var a=o.allOf,u=K(o,De);return i&&a?[u].concat(a):u}return H in o&&!1!==o.additionalProperties?function(e,r,t,n){var i=Y({},r,{properties:Y({},r.properties)}),o=n&&B(n)?n:{};return Object.keys(o).forEach((function(r){var n;r in i.properties||(n="boolean"!=typeof i.additionalProperties?de in i.additionalProperties?We(e,{$ref:w.default(i.additionalProperties,[de])},t,o):"type"in i.additionalProperties?Y({},i.additionalProperties):z in i.additionalProperties||ae in i.additionalProperties?Y({type:"object"},i.additionalProperties):{type:Ae(w.default(o,[r]))}:{type:Ae(w.default(o,[r]))},i.properties[r]=n,N.default(i.properties,[r,$],!0))})),i}(e,o,t,n):o}))}function qe(e,r,t,n,i){var o,a=r.oneOf,u=r.anyOf,s=K(r,Fe);if(Array.isArray(a)?o=a:Array.isArray(u)&&(o=u),o){var f=void 0===i&&n?{}:i,d=Oe(r);o=o.map((function(r){return de in r?Ne(e,r,t,!1,f)[0]:r}));var l=Se(e,f,o,t,d);if(n)return o.map((function(e){return Y({},s,e)}));r=Y({},s,o[l])}return[r]}function Me(e,r,t,n,i){var o=r.dependencies,a=K(r,je);return qe(e,a,t,n,i).flatMap((function(r){return Le(e,o,r,t,n,i)}))}function Le(e,r,t,n,i,o){var a=[t],u=function(){if(!i&&void 0===w.default(o,[s]))return"continue";if(t.properties&&!(s in t.properties))return"continue";var u,f,d=ge(s,r),l=d[0],c=d[1];return Array.isArray(c)?a[0]=(u=t,(f=c)?Y({},u,{required:Array.isArray(u.required)?Array.from(new Set([].concat(u.required,f))):f}):u):B(c)&&(a=function(e,r,t,n,i,o,a){return Ue(e,i,t,a,o).flatMap((function(i){var u=i.oneOf,s=K(i,Te);return r=we(r,s),void 0===u?r:Pe(u.map((function(r){return"boolean"!=typeof r&&de in r?Ne(e,r,t,o,a):[r]}))).flatMap((function(i){return function(e,r,t,n,i,o,a){var u=i.filter((function(r){if("boolean"==typeof r||!r||!r.properties)return!1;var i=r.properties[n];if(i){var u,s={type:"object",properties:(u={},u[n]=i,u)};return e.isValid(s,a,t)||o}return!1}));return o||1===u.length?u.flatMap((function(i){var u=Y({},i,{properties:ge(n,i.properties)[0]});return Ue(e,u,t,a,o).map((function(e){return we(r,e)}))})):(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[r])}(e,r,t,n,i,o,a)}))}))}(e,t,n,s,c,i,o)),{v:a.flatMap((function(r){return Le(e,l,r,n,i,o)}))}};for(var s in r){var f=u();if("continue"!==f&&"object"==typeof f)return f.v}return a}var ke={type:"object",$id:ie,properties:{__not_really_there__:{type:"number"}}};function Ce(e,r,t,n){void 0===n&&(n={});var i=0;return t&&(j.default(t.properties)?i+=W.default(t.properties,(function(t,i,o){var a=w.default(n,o);if("boolean"==typeof i)return t;if(F.default(i,de)){var u=We(e,i,r,a);return t+Ce(e,r,u,a||{})}if((F.default(i,ae)||F.default(i,z))&&a){var s=F.default(i,ae)?ae:z,f=Oe(i);return t+Re(e,r,a,w.default(i,s),-1,f)}if("object"===i.type)return t+Ce(e,r,i,a||{});if(i.type===Ae(a)){var d=t+1;return i.default?d+=a===i.default?1:-1:i.const&&(d+=a===i.const?1:-1),d}return t}),0):T.default(t.type)&&t.type===Ae(n)&&(i+=1)),i}function Re(e,r,t,n,i,o){void 0===i&&(i=-1);var a=n.map((function(n){return F.default(n,de)?We(e,n,r,t):n})),u=a.reduce((function(n,i,a){return 1===Se(e,t,[ke,i],r,o)&&n.push(a),n}),[]);if(1===u.length)return u[0];u.length||P.default(a.length,(function(e){return u.push(e)}));var s=new Set,f=u.reduce((function(n,i){var o=n.bestScore,u=Ce(e,r,a[i],t);return s.add(u),u>o?{bestIndex:i,bestScore:u}:n}),{bestIndex:i,bestScore:0});return 1===s.size&&i>=0?i:f.bestIndex}function Be(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every((function(e){return B(e)}))}function Ye(e,r,t){if(void 0===t&&(t=!1),Array.isArray(r)){var n=Array.isArray(e)?e:[],i=r.map((function(e,r){return n[r]?Ye(n[r],e,t):e}));return t&&i.length<n.length&&i.push.apply(i,n.slice(i.length)),i}if(B(r)){var o=Object.assign({},e);return Object.keys(r).reduce((function(n,i){return n[i]=Ye(e?w.default(e,i):{},w.default(r,i),t),n}),o)}return r}function Ve(e,r,t){return void 0===t&&(t=!1),Object.keys(r).reduce((function(n,i){var o=e?e[i]:{},a=r[i];if(e&&i in e&&B(a))n[i]=Ve(o,a,t);else if(t&&Array.isArray(o)&&Array.isArray(a)){var u=a;"preventDuplicates"===t&&(u=a.reduce((function(e,r){return o.includes(r)||e.push(r),e}),[])),n[i]=o.concat(u)}else n[i]=a;return n}),Object.assign({},e))}function Ke(e){return Array.isArray(e.enum)&&1===e.enum.length||G in e}function $e(e,r,t){void 0===t&&(t={});var n=We(e,r,t,void 0),i=n.oneOf||n.anyOf;return!!Array.isArray(n.enum)||!!Array.isArray(i)&&i.every((function(e){return"boolean"!=typeof e&&Ke(e)}))}function He(e,r,t){return!(!r.uniqueItems||!r.items||"boolean"==typeof r.items)&&$e(e,r.items,t)}var Je,ze=["oneOf"],Ge=["anyOf"];function Qe(e,r,t){if(void 0===r&&(r=Je.Ignore),void 0===t&&(t=-1),t>=0){if(Array.isArray(e.items)&&t<e.items.length){var n=e.items[t];if("boolean"!=typeof n)return n}}else if(e.items&&!Array.isArray(e.items)&&"boolean"!=typeof e.items)return e.items;return r!==Je.Ignore&&B(e.additionalItems)?e.additionalItems:{}}function Xe(e,r,t,n,i,o,a){void 0===o&&(o=[]),void 0===a&&(a={});var u=a.emptyObjectFields,s=void 0===u?"populateAllDefaults":u;if(n)e[r]=t;else if("skipDefaults"!==s)if(B(t)){var f=void 0===i?o.includes(r):i;_.default(t)&&!o.includes(r)||!f&&"populateRequiredDefaults"===s||(e[r]=t)}else void 0===t||"populateAllDefaults"!==s&&!o.includes(r)||(e[r]=t)}function Ze(e,r,t){var n=void 0===t?{}:t,i=n.parentDefaults,o=n.rawFormData,a=n.rootSchema,u=void 0===a?{}:a,s=n.includeUndefinedValues,f=void 0!==s&&s,d=n._recurseList,l=void 0===d?[]:d,c=n.experimental_defaultFormStateBehavior,p=void 0===c?void 0:c,m=n.required,v=B(o)?o:{},h=B(r)?r:{},y=i,g=null,x=l;if(B(y)&&B(h.default))y=Ve(y,h.default);else if(Q in h)y=h.default;else if(de in h){var b=h[de];l.includes(b)||(x=l.concat(b),g=xe(b,u))}else if(X in h)g=Me(e,h,u,!1,v)[0];else if(Be(h))y=h.items.map((function(r,t){return Ze(e,r,{rootSchema:u,includeUndefinedValues:f,_recurseList:l,experimental_defaultFormStateBehavior:p,parentDefaults:Array.isArray(i)?i[t]:void 0,rawFormData:v,required:m})}));else if(ae in h){var S=h.oneOf,O=K(h,ze);if(0===S.length)return;var A=Oe(h);g=Y({},O,g=S[Re(e,u,_.default(v)?void 0:v,S,0,A)])}else if(z in h){var E=h.anyOf,I=K(h,Ge);if(0===E.length)return;var D=Oe(h);g=Y({},I,g=E[Re(e,u,_.default(v)?void 0:v,E,0,D)])}if(g)return Ze(e,g,{rootSchema:u,includeUndefinedValues:f,_recurseList:x,experimental_defaultFormStateBehavior:p,parentDefaults:y,rawFormData:v,required:m});switch(void 0===y&&(y=h.default),Ee(h)){case"object":var F=Object.keys(h.properties||{}).reduce((function(r,t){var n;return Xe(r,t,Ze(e,w.default(h,[ue,t]),{rootSchema:u,_recurseList:l,experimental_defaultFormStateBehavior:p,includeUndefinedValues:!0===f,parentDefaults:w.default(y,[t]),rawFormData:w.default(v,[t]),required:null===(n=h.required)||void 0===n?void 0:n.includes(t)}),f,m,h.required,p),r}),{});if(h.additionalProperties){var j,T=B(h.additionalProperties)?h.additionalProperties:{},W=new Set;B(y)&&Object.keys(y).filter((function(e){return!h.properties||!h.properties[e]})).forEach((function(e){return W.add(e)})),B(v)&&(j=[],Object.keys(v).filter((function(e){return!h.properties||!h.properties[e]})).forEach((function(e){W.add(e),j.push(e)}))),W.forEach((function(r){var t,n=Ze(e,T,{rootSchema:u,_recurseList:l,experimental_defaultFormStateBehavior:p,includeUndefinedValues:!0===f,parentDefaults:w.default(y,[r]),rawFormData:w.default(v,[r]),required:null===(t=h.required)||void 0===t?void 0:t.includes(r)});Xe(F,r,n,f,m,j)}))}return F;case"array":var P;if(Array.isArray(y)&&(y=y.map((function(r,t){var n=Qe(h,Je.Fallback,t);return Ze(e,n,{rootSchema:u,_recurseList:l,experimental_defaultFormStateBehavior:p,parentDefaults:r,required:m})}))),Array.isArray(o)){var N=Qe(h);y=o.map((function(r,t){return Ze(e,N,{rootSchema:u,_recurseList:l,experimental_defaultFormStateBehavior:p,rawFormData:r,parentDefaults:w.default(y,[t]),required:m})}))}if("requiredOnly"===(null==p||null===(P=p.arrayMinItems)||void 0===P?void 0:P.populate)&&!m)return y||void 0;var U=Array.isArray(y)?y.length:0;if(!h.minItems||He(e,h,u)||h.minItems<=U)return y||[];var q=y||[],M=Qe(h,Je.Invert),L=M.default,k=new Array(h.minItems-U).fill(Ze(e,M,{parentDefaults:L,rootSchema:u,_recurseList:l,experimental_defaultFormStateBehavior:p,required:m}));return q.concat(k)}return y}function er(e,r,t,n,i,o){if(void 0===i&&(i=!1),!B(r))throw new Error("Invalid schema: "+r);var a=Ze(e,We(e,r,n,t),{rootSchema:n,includeUndefinedValues:i,experimental_defaultFormStateBehavior:o,rawFormData:t});if(null==t||"number"==typeof t&&isNaN(t))return a;var u=((null==o?void 0:o.arrayMinItems)||{}).mergeExtraDefaults;return B(t)||Array.isArray(t)?Ye(a,t,u):t}function rr(e){return void 0===e&&(e={}),"widget"in he(e)&&"hidden"!==he(e).widget}function tr(e,r,t,n){if(void 0===t&&(t={}),"files"===t[me])return!0;if(r.items){var i=We(e,r.items,n);return"string"===i.type&&"data-url"===i.format}return!1}function nr(e,r,t,n,i){void 0===t&&(t={});var o=he(t,i).label,a=!(void 0!==o&&!o),u=Ee(r);return"array"===u&&(a=He(e,r,n)||tr(e,r,t,n)||rr(t)),"object"===u&&(a=!1),"boolean"!==u||t[me]||(a=!1),t[pe]&&(a=!1),a}function ir(e,r,t){if(!t)return r;var n=r.errors,i=r.errorSchema,o=e.toErrorList(t),a=t;return _.default(i)||(a=Ve(i,t,!0),o=[].concat(n).concat(o)),{errorSchema:a,errors:o}}!function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"}(Je||(Je={}));var or=Symbol("no Value");function ar(e,r,t,n,i){var o;if(void 0===i&&(i={}),F.default(t,ue)){var a={};if(F.default(n,ue)){var u=w.default(n,ue,{});Object.keys(u).forEach((function(e){F.default(i,e)&&(a[e]=void 0)}))}var s=Object.keys(w.default(t,ue,{})),f={};s.forEach((function(o){var u=w.default(i,o),s=w.default(n,[ue,o],{}),d=w.default(t,[ue,o],{});F.default(s,de)&&(s=We(e,s,r,u)),F.default(d,de)&&(d=We(e,d,r,u));var l=w.default(s,"type"),c=w.default(d,"type");if(!l||l===c)if(F.default(a,o)&&delete a[o],"object"===c||"array"===c&&Array.isArray(u)){var p=ar(e,r,d,s,u);void 0===p&&"array"!==c||(f[o]=p)}else{var m=w.default(d,"default",or),v=w.default(s,"default",or);m!==or&&m!==u&&(v===u?a[o]=m:!0===w.default(d,"readOnly")&&(a[o]=void 0));var h=w.default(d,"const",or),y=w.default(s,"const",or);h!==or&&h!==u&&(a[o]=y===u?h:void 0)}})),o=Y({},i,a,f)}else if("array"===w.default(n,"type")&&"array"===w.default(t,"type")&&Array.isArray(i)){var d=w.default(n,"items"),l=w.default(t,"items");if("object"!=typeof d||"object"!=typeof l||Array.isArray(d)||Array.isArray(l))"boolean"==typeof d&&"boolean"==typeof l&&d===l&&(o=i);else{F.default(d,de)&&(d=We(e,d,r,i)),F.default(l,de)&&(l=We(e,l,r,i));var c=w.default(d,"type"),p=w.default(l,"type");if(!c||c===p){var m=w.default(t,"maxItems",-1);o="object"===p?i.reduce((function(t,n){var i=ar(e,r,l,d,n);return void 0!==i&&(m<0||t.length<m)&&t.push(i),t}),[]):m>0&&i.length>m?i.slice(0,m):i}}}return o}function ur(e,r,t,n,i,o,a,u){if(void 0===u&&(u=[]),de in r||X in r||J in r){var s=We(e,r,o,a);if(-1===u.findIndex((function(e){return M.default(e,s)})))return ur(e,s,t,n,i,o,a,u.concat(s))}if(ne in r&&!w.default(r,[ne,de]))return ur(e,w.default(r,ne),t,n,i,o,a,u);var f={$id:i||t};if("object"===Ee(r)&&ue in r)for(var d in r.properties){var l=w.default(r,[ue,d]),c=f[re]+n+d;f[d]=ur(e,B(l)?l:{},t,n,c,o,w.default(a,[d]),u)}return f}function sr(e,r,t,n,i,o,a){return void 0===o&&(o="root"),void 0===a&&(a="_"),ur(e,r,o,a,t,n,i)}function fr(e,r,t,n,i,o){var a;if(void 0===o&&(o=[]),de in r||X in r||J in r){var u=We(e,r,n,i);if(-1===o.findIndex((function(e){return M.default(e,u)})))return fr(e,u,t,n,i,o.concat(u))}var s=((a={})[oe]=t.replace(/^\./,""),a);if(ae in r||z in r){var f=ae in r?r.oneOf:r.anyOf,d=Oe(r),l=Re(e,n,i,f,0,d);s=Y({},s,fr(e,f[l],t,n,i,o))}if(H in r&&!1!==r[H]&&N.default(s,le,!0),ne in r&&Array.isArray(i))i.forEach((function(i,a){s[a]=fr(e,r.items,t+"."+a,n,i,o)}));else if(ue in r)for(var c in r.properties){var p=w.default(r,[ue,c]);s[c]=fr(e,p,t+"."+c,n,w.default(i,[c]),o)}return s}function dr(e,r,t,n,i){return void 0===t&&(t=""),fr(e,r,t,n,i)}var lr=function(){function e(e,r,t){this.rootSchema=void 0,this.validator=void 0,this.experimental_defaultFormStateBehavior=void 0,this.rootSchema=r,this.validator=e,this.experimental_defaultFormStateBehavior=t}var r=e.prototype;return r.getValidator=function(){return this.validator},r.doesSchemaUtilsDiffer=function(e,r,t){return void 0===t&&(t={}),!(!e||!r||this.validator===e&&ye(this.rootSchema,r)&&ye(this.experimental_defaultFormStateBehavior,t))},r.getDefaultFormState=function(e,r,t){return void 0===t&&(t=!1),er(this.validator,e,r,this.rootSchema,t,this.experimental_defaultFormStateBehavior)},r.getDisplayLabel=function(e,r,t){return nr(this.validator,e,r,this.rootSchema,t)},r.getClosestMatchingOption=function(e,r,t,n){return Re(this.validator,this.rootSchema,e,r,t,n)},r.getFirstMatchingOption=function(e,r,t){return Se(this.validator,e,r,this.rootSchema,t)},r.getMatchingOption=function(e,r,t){return be(this.validator,e,r,this.rootSchema,t)},r.isFilesArray=function(e,r){return tr(this.validator,e,r,this.rootSchema)},r.isMultiSelect=function(e){return He(this.validator,e,this.rootSchema)},r.isSelect=function(e){return $e(this.validator,e,this.rootSchema)},r.mergeValidationData=function(e,r){return ir(this.validator,e,r)},r.retrieveSchema=function(e,r){return We(this.validator,e,this.rootSchema,r)},r.sanitizeDataForNewSchema=function(e,r,t){return ar(this.validator,this.rootSchema,e,r,t)},r.toIdSchema=function(e,r,t,n,i){return void 0===n&&(n="root"),void 0===i&&(i="_"),sr(this.validator,e,r,this.rootSchema,t,n,i)},r.toPathSchema=function(e,r,t){return dr(this.validator,e,r,this.rootSchema,t)},e}();function cr(e,r){var t=e;if(Array.isArray(r)){var n=t.split(/(%\d)/);r.forEach((function(e,r){var t=n.findIndex((function(e){return e==="%"+(r+1)}));t>=0&&(n[t]=e)})),t=n.join("")}return t}function pr(e,r,t){if(void 0===r&&(r=[]),Array.isArray(e))return e.map((function(e){return pr(e,r)})).filter((function(e){return e}));var n=""===e||null===e?-1:Number(e),i=r[n];return i?i.value:t}function mr(e,r){return Array.isArray(r)?r.some((function(r){return M.default(r,e)})):M.default(r,e)}var vr=function(){function e(e){this.errorSchema={},this.resetAllErrors(e)}var r,t,n=e.prototype;return n.getOrCreateErrorBlock=function(e){var r=Array.isArray(e)&&e.length>0||"string"==typeof e?w.default(this.errorSchema,e):this.errorSchema;return!r&&e&&N.default(this.errorSchema,e,r={}),r},n.resetAllErrors=function(e){return this.errorSchema=e?L.default(e):{},this},n.addErrors=function(e,r){var t,n=this.getOrCreateErrorBlock(r),i=w.default(n,ee);return Array.isArray(i)||(n[ee]=i=[]),Array.isArray(e)?(t=i).push.apply(t,e):i.push(e),this},n.setErrors=function(e,r){var t=this.getOrCreateErrorBlock(r),n=Array.isArray(e)?[].concat(e):[e];return N.default(t,ee,n),this},n.clearErrors=function(e){var r=this.getOrCreateErrorBlock(e);return N.default(r,ee,[]),this},r=e,(t=[{key:"ErrorSchema",get:function(){return this.errorSchema}}])&&function(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key))?i:String(i),n)}var i}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),e}();function hr(e){var r={};return e.multipleOf&&(r.step=e.multipleOf),(e.minimum||0===e.minimum)&&(r.min=e.minimum),(e.maximum||0===e.maximum)&&(r.max=e.maximum),r}var yr,gr={props:{disabled:!1},submitText:"Submit",norender:!1},xr=["options"],br={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Sr(e,r,t){void 0===t&&(t={});var n=Ee(e);if("function"==typeof r||r&&k.default.isForwardRef(g.createElement(r))||k.default.isMemo(r))return function(e){var r=w.default(e,"MergedWidget");if(!r){var t=e.defaultProps&&e.defaultProps.options||{};N.default(e,"MergedWidget",r=function(r){var n=r.options,i=K(r,xr);return y.jsx(e,Y({options:Y({},t,n)},i))})}return r}(r);if("string"!=typeof r)throw new Error("Unsupported widget definition: "+typeof r);if(r in t)return Sr(e,t[r],t);if("string"==typeof n){if(!(n in br))throw new Error("No widget for type '"+n+"'");if(r in br[n])return Sr(e,t[br[n][r]],t)}throw new Error("No widget '"+r+"' for type '"+n+"'")}function Or(e){var r=new Set;return JSON.stringify(e,(function(e,t){return r.add(e),t})),function(e){for(var r=0,t=0;t<e.length;t+=1)r=(r<<5)-r+e.charCodeAt(t),r&=r;return r.toString(16)}(JSON.stringify(e,Array.from(r).sort()))}function Ar(e,r){return(T.default(e)?e:e[re])+"__"+r}function Er(e){return Ar(e,"description")}function wr(e){return Ar(e,"error")}function _r(e){return Ar(e,"examples")}function Ir(e){return Ar(e,"help")}function Dr(e){if(Z in e&&Array.isArray(e.enum)&&1===e.enum.length)return e.enum[0];if(G in e)return e.const;throw new Error("schema cannot be inferred as a constant")}function Fr(e,r){for(var t=String(e);t.length<r;)t="0"+t;return t}function jr(e,r){if(void 0===r&&(r=[]),!e)return[];var t=[];return ee in e&&(t=t.concat(e[ee].map((function(e){var t="."+r.join(".");return{property:t,message:e,stack:t+" "+e}})))),Object.keys(e).reduce((function(t,n){if(n!==ee){var i=e[n];A.default(i)&&(t=t.concat(jr(i,[].concat(r,[n]))))}return t}),t)}exports.TranslatableString=void 0,(yr=exports.TranslatableString||(exports.TranslatableString={})).ArrayItemTitle="Item",yr.MissingItems="Missing items definition",yr.YesLabel="Yes",yr.NoLabel="No",yr.CloseLabel="Close",yr.ErrorsLabel="Errors",yr.NewStringDefault="New Value",yr.AddButton="Add",yr.AddItemButton="Add Item",yr.CopyButton="Copy",yr.MoveDownButton="Move down",yr.MoveUpButton="Move up",yr.RemoveButton="Remove",yr.NowLabel="Now",yr.ClearLabel="Clear",yr.AriaDateLabel="Select a date",yr.PreviewLabel="Preview",yr.DecrementAriaLabel="Decrease value by 1",yr.IncrementAriaLabel="Increase value by 1",yr.UnknownFieldType="Unknown field type %1",yr.OptionPrefix="Option %1",yr.TitleOptionPrefix="%1 option %2",yr.KeyLabel="%1 Key",yr.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',yr.UnsupportedField="Unsupported field schema.",yr.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",yr.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",yr.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",yr.FilesInfo="<strong>%1</strong> (%2, %3 bytes)";var Tr=function(){function e(e){this.rootSchema=void 0,this.schemaMap={},this.rootSchema=e,this.addSchema(e,Or(e))}var r=e.prototype;return r.addSchema=function(e,r){var t,n=w.default(e,re,r),i=Y({},e,((t={})[re]=n,t)),o=this.schemaMap[n];if(o){if(!M.default(o,i))throw console.error("existing schema:",JSON.stringify(o,null,2)),console.error("new schema:",JSON.stringify(i,null,2)),new Error("Two different schemas exist with the same key "+n+"! What a bad coincidence. If possible, try adding an $id to one of the schemas")}else this.schemaMap[n]=i},r.getSchemaMap=function(){return this.schemaMap},r.isValid=function(e,r,t){if(!M.default(t,this.rootSchema))throw new Error("Unexpectedly calling isValid() with a rootSchema that differs from the construction rootSchema");return this.addSchema(e,Or(e)),!1},r.rawValidation=function(e,r){throw new Error("Unexpectedly calling the `rawValidation()` method during schema parsing")},r.toErrorList=function(e,r){throw new Error("Unexpectedly calling the `toErrorList()` method during schema parsing")},r.validateFormData=function(e,r,t,n,i){throw new Error("Unexpectedly calling the `validateFormData()` method during schema parsing")},e}();function Wr(e,r,t,n){Ue(e,n,t,void 0,!0).forEach((function(n){-1===r.findIndex((function(e){return M.default(e,n)}))&&(r.push(n),qe(e,n,t,!0).forEach((function(i){ue in i&&i[ue]&&R.default(n[ue],(function(n){Wr(e,r,t,n)}))})),ne in n&&!Array.isArray(n.items)&&"boolean"!=typeof n.items&&Wr(e,r,t,n.items))}))}exports.ADDITIONAL_PROPERTIES_KEY=H,exports.ADDITIONAL_PROPERTY_FLAG=$,exports.ALL_OF_KEY=J,exports.ANY_OF_KEY=z,exports.CONST_KEY=G,exports.DEFAULT_KEY=Q,exports.DEFINITIONS_KEY="definitions",exports.DEPENDENCIES_KEY=X,exports.ENUM_KEY=Z,exports.ERRORS_KEY=ee,exports.ErrorSchemaBuilder=vr,exports.ID_KEY=re,exports.IF_KEY=te,exports.ITEMS_KEY=ne,exports.JUNK_OPTION_ID=ie,exports.NAME_KEY=oe,exports.ONE_OF_KEY=ae,exports.PROPERTIES_KEY=ue,exports.REF_KEY=de,exports.REQUIRED_KEY=se,exports.RJSF_ADDITONAL_PROPERTIES_FLAG=le,exports.ROOT_SCHEMA_PREFIX=ce,exports.SUBMIT_BTN_OPTIONS_KEY=fe,exports.UI_FIELD_KEY=pe,exports.UI_GLOBAL_OPTIONS_KEY="ui:globalOptions",exports.UI_OPTIONS_KEY=ve,exports.UI_WIDGET_KEY=me,exports.allowAdditionalItems=function(e){return!0===e.additionalItems&&console.warn("additionalItems=true is currently not supported"),B(e.additionalItems)},exports.ariaDescribedByIds=function(e,r){void 0===r&&(r=!1);var t=r?" "+_r(e):"";return wr(e)+" "+Er(e)+" "+Ir(e)+t},exports.asNumber=function(e){if(""!==e){if(null===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;if(/\.\d*0$/.test(e))return e;var r=Number(e);return"number"!=typeof r||Number.isNaN(r)?e:r}},exports.canExpand=function(e,r,t){if(void 0===r&&(r={}),!e.additionalProperties)return!1;var n=he(r).expandable,i=void 0===n||n;return!1===i?i:void 0===e.maxProperties||!t||Object.keys(t).length<e.maxProperties},exports.createErrorHandler=function e(r){var t,n=((t={})[ee]=[],t.addError=function(e){this[ee].push(e)},t);if(Array.isArray(r))return r.reduce((function(r,t,n){var i;return Y({},r,((i={})[n]=e(t),i))}),n);if(A.default(r)){var i=r;return Object.keys(i).reduce((function(r,t){var n;return Y({},r,((n={})[t]=e(i[t]),n))}),n)}return n},exports.createSchemaUtils=function(e,r,t){return void 0===t&&(t={}),new lr(e,r,t)},exports.dataURItoBlob=function(e){var r,t=e.split(","),n=t[0].split(";"),i=n[0].replace("data:",""),o=n.filter((function(e){return"name"===e.split("=")[0]}));r=1!==o.length?"unknown":decodeURI(o[0].split("=")[1]);try{for(var a=atob(t[1]),u=[],s=0;s<a.length;s++)u.push(a.charCodeAt(s));return{blob:new window.Blob([new Uint8Array(u)],{type:i}),name:r}}catch(r){return{blob:{size:0,type:r.message},name:e}}},exports.deepEquals=ye,exports.descriptionId=Er,exports.englishStringTranslator=function(e,r){return cr(e,r)},exports.enumOptionsDeselectValue=function(e,r,t){void 0===t&&(t=[]);var n=pr(e,t);return Array.isArray(r)?r.filter((function(e){return!M.default(e,n)})):M.default(n,r)?void 0:r},exports.enumOptionsIndexForValue=function(e,r,t){void 0===r&&(r=[]),void 0===t&&(t=!1);var n=r.map((function(r,t){return mr(r.value,e)?String(t):void 0})).filter((function(e){return void 0!==e}));return t?n:n[0]},exports.enumOptionsIsSelected=mr,exports.enumOptionsSelectValue=function(e,r,t){void 0===t&&(t=[]);var n=pr(e,t);if(!v.isNil(n)){var i=t.findIndex((function(e){return n===e.value})),o=t.map((function(e){return e.value}));return r.slice(0,i).concat(n,r.slice(i)).sort((function(e,r){return Number(o.indexOf(e)>o.indexOf(r))}))}return r},exports.enumOptionsValueForIndex=pr,exports.errorId=wr,exports.examplesId=_r,exports.findSchemaDefinition=xe,exports.getClosestMatchingOption=Re,exports.getDefaultFormState=er,exports.getDiscriminatorFieldFromSchema=Oe,exports.getDisplayLabel=nr,exports.getFirstMatchingOption=Se,exports.getInputProps=function(e,r,t,n){void 0===t&&(t={}),void 0===n&&(n=!0);var i=Y({type:r||"text"},hr(e));return t.inputType?i.type=t.inputType:r||("number"===e.type?(i.type="number",n&&void 0===i.step&&(i.step="any")):"integer"===e.type&&(i.type="number",void 0===i.step&&(i.step=1))),t.autocomplete&&(i.autoComplete=t.autocomplete),i},exports.getMatchingOption=be,exports.getSchemaType=Ee,exports.getSubmitButtonOptions=function(e){void 0===e&&(e={});var r=he(e);return r&&r[fe]?Y({},gr,r[fe]):gr},exports.getTemplate=function(e,r,t){void 0===t&&(t={});var n=r.templates;return"ButtonTemplates"===e?n[e]:t[e]||n[e]},exports.getUiOptions=he,exports.getWidget=Sr,exports.guessType=Ae,exports.hasWidget=function(e,r,t){void 0===t&&(t={});try{return Sr(e,r,t),!0}catch(e){var n=e;if(n.message&&(n.message.startsWith("No widget")||n.message.startsWith("Unsupported widget")))return!1;throw e}},exports.hashForSchema=Or,exports.helpId=Ir,exports.isConstant=Ke,exports.isCustomWidget=rr,exports.isFilesArray=tr,exports.isFixedItems=Be,exports.isMultiSelect=He,exports.isObject=B,exports.isSelect=$e,exports.labelValue=function(e,r,t){return r?t:e},exports.localToUTC=function(e){return e?new Date(e).toJSON():void 0},exports.mergeDefaultsWithFormData=Ye,exports.mergeObjects=Ve,exports.mergeSchemas=we,exports.mergeValidationData=ir,exports.optionId=function(e,r){return e+"-"+r},exports.optionsList=function(e){var r=e;if(e.enum)return e.enum.map((function(e,t){return{label:r.enumNames&&r.enumNames[t]||String(e),value:e}}));var t=e.oneOf||e.anyOf;return t&&t.map((function(e){var r=e,t=Dr(r);return{schema:r,label:r.title||String(t),value:t}}))},exports.orderProperties=function(e,r){if(!Array.isArray(r))return e;var t,n=function(e){return e.reduce((function(e,r){return e[r]=!0,e}),{})},i=n(e),o=r.filter((function(e){return"*"===e||i[e]})),a=n(o),u=e.filter((function(e){return!a[e]})),s=o.indexOf("*");if(-1===s){if(u.length)throw new Error("uiSchema order list does not contain "+((t=u).length>1?"properties '"+t.join("', '")+"'":"property '"+t[0]+"'"));return o}if(s!==o.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var f=[].concat(o);return f.splice.apply(f,[s,1].concat(u)),f},exports.pad=Fr,exports.parseDateString=function(e,r){if(void 0===r&&(r=!0),!e)return{year:-1,month:-1,day:-1,hour:r?-1:0,minute:r?-1:0,second:r?-1:0};var t=new Date(e);if(Number.isNaN(t.getTime()))throw new Error("Unable to parse date "+e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:r?t.getUTCHours():0,minute:r?t.getUTCMinutes():0,second:r?t.getUTCSeconds():0}},exports.rangeSpec=hr,exports.replaceStringParameters=cr,exports.retrieveSchema=We,exports.sanitizeDataForNewSchema=ar,exports.schemaParser=function(e){var r=new Tr(e);return Wr(r,[],e,e),r.getSchemaMap()},exports.schemaRequiresTrueValue=function e(r){return!!r.const||!(!r.enum||1!==r.enum.length||!0!==r.enum[0])||(r.anyOf&&1===r.anyOf.length?e(r.anyOf[0]):r.oneOf&&1===r.oneOf.length?e(r.oneOf[0]):!!r.allOf&&r.allOf.some((function(r){return e(r)})))},exports.shouldRender=function(e,r,t){var n=e.state;return!ye(e.props,r)||!ye(n,t)},exports.titleId=function(e){return Ar(e,"title")},exports.toConstant=Dr,exports.toDateString=function(e,r){void 0===r&&(r=!0);var t=e.hour,n=e.minute,i=e.second,o=Date.UTC(e.year,e.month-1,e.day,void 0===t?0:t,void 0===n?0:n,void 0===i?0:i),a=new Date(o).toJSON();return r?a:a.slice(0,10)},exports.toErrorList=jr,exports.toErrorSchema=function(e){var r=new vr;return e.length&&e.forEach((function(e){var t=e.property,n=e.message,i="."===t?[]:C.default(t);i.length>0&&""===i[0]&&i.splice(0,1),n&&r.addErrors(n,i)})),r.ErrorSchema},exports.toIdSchema=sr,exports.toPathSchema=dr,exports.unwrapErrorHandler=function e(r){return Object.keys(r).reduce((function(t,n){if("addError"===n)return t;var i,o,a=r[n];return A.default(a)?Y({},t,((o={})[n]=e(a),o)):Y({},t,((i={})[n]=a,i))}),{})},exports.utcToLocal=function(e){if(!e)return"";var r=new Date(e);return Fr(r.getFullYear(),4)+"-"+Fr(r.getMonth()+1,2)+"-"+Fr(r.getDate(),2)+"T"+Fr(r.getHours(),2)+":"+Fr(r.getMinutes(),2)+":"+Fr(r.getSeconds(),2)+"."+Fr(r.getMilliseconds(),3)},exports.validationDataMerge=function(e,r){if(!r)return e;var t=e.errors,n=e.errorSchema,i=jr(r),o=r;return _.default(n)||(o=Ve(n,r,!0),i=[].concat(t).concat(i)),{errorSchema:o,errors:i}},exports.withIdRefPrefix=function e(r){return r.constructor===Object?function(r){for(var t in r){var n=r[t];r[t]=t===de&&"string"==typeof n&&n.startsWith("#")?ce+n:e(n)}return r}(Y({},r)):Array.isArray(r)?function(r){for(var t=0;t<r.length;t++)r[t]=e(r[t]);return r}([].concat(r)):r};
//# sourceMappingURL=utils.cjs.production.min.js.map
