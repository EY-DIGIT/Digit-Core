function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t),l=require("react-i18next"),a=require("@egovernments/digit-ui-react-components"),i=require("react-router-dom"),r=require("react-date-range"),o=require("recharts"),u=e(require("react-tooltip")),s=require("react-simple-maps"),d=require("lodash");function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function v(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function m(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function f(e){m(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function g(e,t){m(2,arguments);var n=f(e),l=v(t);if(isNaN(l))return new Date(NaN);if(!l)return n;var a=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+l+1,0);var r=i.getDate();return a>=r?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function p(e,t){m(2,arguments);var n=f(e).getTime(),l=v(t);return new Date(n+l)}function h(e,t){m(1,arguments);var n=t||{},l=n.locale,a=l&&l.options&&l.options.weekStartsOn,i=null==a?0:v(a),r=null==n.weekStartsOn?i:v(n.weekStartsOn);if(!(r>=0&&r<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=f(e),u=o.getDay(),s=(u<r?7:0)+u-r;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function D(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function E(e){m(1,arguments);var t=f(e);return t.setHours(0,0,0,0),t}function y(e,t){m(2,arguments);var n=E(e),l=E(t),a=n.getTime()-D(n),i=l.getTime()-D(l);return Math.round((a-i)/864e5)}function S(e,t){m(2,arguments);var n=v(t);return p(e,1e3*n)}function w(e,t){m(2,arguments);var n=v(t);return g(e,12*n)}function b(e){return m(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function T(e){if(m(1,arguments),!b(e)&&"number"!=typeof e)return!1;var t=f(e);return!isNaN(Number(t))}function C(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function x(e,t){m(2,arguments);var n=f(e),l=f(t),a=C(n,l),i=Math.abs(y(n,l));n.setDate(n.getDate()-a*i);var r=Number(C(n,l)===-a),o=a*(i-r);return 0===o?0:o}function L(e){m(1,arguments);var t=f(e);return t.setHours(23,59,59,999),t}function k(e){m(1,arguments);var t=f(e),n=t.getMonth(),l=n-n%3;return t.setMonth(l,1),t.setHours(0,0,0,0),t}function N(e){m(1,arguments);var t=f(e);return t.setDate(1),t.setHours(0,0,0,0),t}function A(e){m(1,arguments);var t=f(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function M(e){m(1,arguments);var t=f(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function I(){return L(Date.now())}function U(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),l=e.getDate(),a=new Date(0);return a.setFullYear(t,n,l-1),a.setHours(23,59,59,999),a}var O={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function F(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,l=e.formats[n]||e.formats[e.defaultWidth];return l}}var R={date:F({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:F({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:F({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},B={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function P(e){return function(t,n){var l,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,r=a.width?String(a.width):i;l=e.formattingValues[r]||e.formattingValues[i]}else{var o=e.defaultWidth,u=a.width?String(a.width):e.defaultWidth;l=e.values[u]||e.values[o]}return l[e.argumentCallback?e.argumentCallback(t):t]}}function H(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=n.width,a=l&&e.matchPatterns[l]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var r,o=i[0],u=l&&e.parsePatterns[l]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(u)?W(u,function(e){return e.test(o)}):z(u,function(e){return e.test(o)});r=e.valueCallback?e.valueCallback(s):s,r=n.valueCallback?n.valueCallback(r):r;var d=t.slice(o.length);return{value:r,rest:d}}}function z(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function W(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var j,K={code:"en-US",formatDistance:function(e,t,n){var l,a=O[e];return l="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+l:l+" ago":l},formatLong:R,formatRelative:function(e,t,n,l){return B[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),l=n%100;if(l>20||l<10)switch(l%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:P({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:P({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:P({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:P({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:P({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(j={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(j.matchPattern);if(!n)return null;var l=n[0],a=e.match(j.parsePattern);if(!a)return null;var i=j.valueCallback?j.valueCallback(a[0]):a[0];i=t.valueCallback?t.valueCallback(i):i;var r=e.slice(l.length);return{value:i,rest:r}}),era:H({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:H({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:H({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:H({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:H({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function V(e,t){m(2,arguments);var n=v(t);return p(e,-n)}function q(e){m(1,arguments);var t=1,n=f(e),l=n.getUTCDay(),a=(l<t?7:0)+l-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function Y(e){m(1,arguments);var t=f(e),n=t.getUTCFullYear(),l=new Date(0);l.setUTCFullYear(n+1,0,4),l.setUTCHours(0,0,0,0);var a=q(l),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var r=q(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=r.getTime()?n:n-1}function G(e){m(1,arguments);var t=Y(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var l=q(n);return l}function X(e,t){m(1,arguments);var n=t||{},l=n.locale,a=l&&l.options&&l.options.weekStartsOn,i=null==a?0:v(a),r=null==n.weekStartsOn?i:v(n.weekStartsOn);if(!(r>=0&&r<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=f(e),u=o.getUTCDay(),s=(u<r?7:0)+u-r;return o.setUTCDate(o.getUTCDate()-s),o.setUTCHours(0,0,0,0),o}function Q(e,t){m(1,arguments);var n=f(e),l=n.getUTCFullYear(),a=t||{},i=a.locale,r=i&&i.options&&i.options.firstWeekContainsDate,o=null==r?1:v(r),u=null==a.firstWeekContainsDate?o:v(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var s=new Date(0);s.setUTCFullYear(l+1,0,u),s.setUTCHours(0,0,0,0);var d=X(s,t),c=new Date(0);c.setUTCFullYear(l,0,u),c.setUTCHours(0,0,0,0);var g=X(c,t);return n.getTime()>=d.getTime()?l+1:n.getTime()>=g.getTime()?l:l-1}function J(e,t){m(1,arguments);var n=t||{},l=n.locale,a=l&&l.options&&l.options.firstWeekContainsDate,i=null==a?1:v(a),r=null==n.firstWeekContainsDate?i:v(n.firstWeekContainsDate),o=Q(e,t),u=new Date(0);u.setUTCFullYear(o,0,r),u.setUTCHours(0,0,0,0);var s=X(u,t);return s}function Z(e,t){for(var n=e<0?"-":"",l=Math.abs(e).toString();l.length<t;)l="0"+l;return n+l}var $={G:function(e,t,n){var l=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(l,{width:"abbreviated"});case"GGGGG":return n.era(l,{width:"narrow"});case"GGGG":default:return n.era(l,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var l=e.getUTCFullYear();return n.ordinalNumber(l>0?l:1-l,{unit:"year"})}return function(e,t){var n=e.getUTCFullYear(),l=n>0?n:1-n;return Z("yy"===t?l%100:l,t.length)}(e,t)},Y:function(e,t,n,l){var a=Q(e,l),i=a>0?a:1-a;return"YY"===t?Z(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Z(i,t.length)},R:function(e,t){return Z(Y(e),t.length)},u:function(e,t){return Z(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var l=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(l);case"QQ":return Z(l,2);case"Qo":return n.ordinalNumber(l,{unit:"quarter"});case"QQQ":return n.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(l,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(l,{width:"wide",context:"formatting"})}},q:function(e,t,n){var l=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(l);case"qq":return Z(l,2);case"qo":return n.ordinalNumber(l,{unit:"quarter"});case"qqq":return n.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(l,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(l,{width:"wide",context:"standalone"})}},M:function(e,t,n){var l=e.getUTCMonth();switch(t){case"M":case"MM":return function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Z(n+1,2)}(e,t);case"Mo":return n.ordinalNumber(l+1,{unit:"month"});case"MMM":return n.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(l,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(l,{width:"wide",context:"formatting"})}},L:function(e,t,n){var l=e.getUTCMonth();switch(t){case"L":return String(l+1);case"LL":return Z(l+1,2);case"Lo":return n.ordinalNumber(l+1,{unit:"month"});case"LLL":return n.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(l,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(l,{width:"wide",context:"standalone"})}},w:function(e,t,n,l){var a=function(e,t){m(1,arguments);var n=f(e),l=X(n,t).getTime()-J(n,t).getTime();return Math.round(l/6048e5)+1}(e,l);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Z(a,t.length)},I:function(e,t,n){var l=function(e){m(1,arguments);var t=f(e),n=q(t).getTime()-G(t).getTime();return Math.round(n/6048e5)+1}(e);return"Io"===t?n.ordinalNumber(l,{unit:"week"}):Z(l,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):function(e,t){return Z(e.getUTCDate(),t.length)}(e,t)},D:function(e,t,n){var l=function(e){m(1,arguments);var t=f(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var l=t.getTime(),a=n-l;return Math.floor(a/864e5)+1}(e);return"Do"===t?n.ordinalNumber(l,{unit:"dayOfYear"}):Z(l,t.length)},E:function(e,t,n){var l=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(l,{width:"short",context:"formatting"});case"EEEE":default:return n.day(l,{width:"wide",context:"formatting"})}},e:function(e,t,n,l){var a=e.getUTCDay(),i=(a-l.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Z(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,l){var a=e.getUTCDay(),i=(a-l.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Z(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var l=e.getUTCDay(),a=0===l?7:l;switch(t){case"i":return String(a);case"ii":return Z(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(l,{width:"short",context:"formatting"});case"iiii":default:return n.day(l,{width:"wide",context:"formatting"})}},a:function(e,t,n){var l=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,n){var l,a=e.getUTCHours();switch(l=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){var l,a=e.getUTCHours();switch(l=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var l=e.getUTCHours()%12;return 0===l&&(l=12),n.ordinalNumber(l,{unit:"hour"})}return function(e,t){return Z(e.getUTCHours()%12||12,t.length)}(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):function(e,t){return Z(e.getUTCHours(),t.length)}(e,t)},K:function(e,t,n){var l=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(l,{unit:"hour"}):Z(l,t.length)},k:function(e,t,n){var l=e.getUTCHours();return 0===l&&(l=24),"ko"===t?n.ordinalNumber(l,{unit:"hour"}):Z(l,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):function(e,t){return Z(e.getUTCMinutes(),t.length)}(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):function(e,t){return Z(e.getUTCSeconds(),t.length)}(e,t)},S:function(e,t){return function(e,t){var n=t.length,l=e.getUTCMilliseconds();return Z(Math.floor(l*Math.pow(10,n-3)),t.length)}(e,t)},X:function(e,t,n,l){var a=(l._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return te(a);case"XXXX":case"XX":return ne(a);case"XXXXX":case"XXX":default:return ne(a,":")}},x:function(e,t,n,l){var a=(l._originalDate||e).getTimezoneOffset();switch(t){case"x":return te(a);case"xxxx":case"xx":return ne(a);case"xxxxx":case"xxx":default:return ne(a,":")}},O:function(e,t,n,l){var a=(l._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ee(a,":");case"OOOO":default:return"GMT"+ne(a,":")}},z:function(e,t,n,l){var a=(l._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ee(a,":");case"zzzz":default:return"GMT"+ne(a,":")}},t:function(e,t,n,l){return Z(Math.floor((l._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,l){return Z((l._originalDate||e).getTime(),t.length)}};function ee(e,t){var n=e>0?"-":"+",l=Math.abs(e),a=Math.floor(l/60),i=l%60;if(0===i)return n+String(a);var r=t||"";return n+String(a)+r+Z(i,2)}function te(e,t){return e%60==0?(e>0?"-":"+")+Z(Math.abs(e)/60,2):ne(e,t)}function ne(e,t){var n=t||"",l=e>0?"-":"+",a=Math.abs(e);return l+Z(Math.floor(a/60),2)+n+Z(a%60,2)}function le(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function ae(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var ie={p:ae,P:function(e,t){var n,l=e.match(/(P+)(p+)?/)||[],a=l[1],i=l[2];if(!i)return le(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",le(a,t)).replace("{{time}}",ae(i,t))}},re=["D","DD"],oe=["YY","YYYY"];function ue(e){return-1!==re.indexOf(e)}function se(e){return-1!==oe.indexOf(e)}function de(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var ce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,me=/^'([^]*?)'?$/,fe=/''/g,ge=/[a-zA-Z]/;function pe(e,t,n){m(2,arguments);var l=String(t),a=n||{},i=a.locale||K,r=i.options&&i.options.firstWeekContainsDate,o=null==r?1:v(r),u=null==a.firstWeekContainsDate?o:v(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var s=i.options&&i.options.weekStartsOn,d=null==s?0:v(s),c=null==a.weekStartsOn?d:v(a.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var g=f(e);if(!T(g))throw new RangeError("Invalid time value");var p=D(g),h=V(g,p),E={firstWeekContainsDate:u,weekStartsOn:c,locale:i,_originalDate:g},y=l.match(ve).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,ie[t])(e,i.formatLong,E):e}).join("").match(ce).map(function(n){if("''"===n)return"'";var l=n[0];if("'"===l)return he(n);var r=$[l];if(r)return!a.useAdditionalWeekYearTokens&&se(n)&&de(n,t,e),!a.useAdditionalDayOfYearTokens&&ue(n)&&de(n,t,e),r(h,n,i.localize,E);if(l.match(ge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return n}).join("");return y}function he(e){return e.match(me)[1].replace(fe,"'")}function De(e,t){m(2,arguments);var n=v(t);return S(e,-n)}function Ee(e,t){m(2,arguments);var n=v(t);return w(e,-n)}var ye,Se,we={overview:{key:"national-overview",stateKey:"overview",label:"NURT_OVERVIEW",active:!0,nActive:!0},propertytax:{key:"national-propertytax",stateKey:"propertytax",label:"NURT_PROPERTY_TAX",active:!0,nActive:!0},tradelicense:{key:"national-tradelicense",stateKey:"tradelicense",label:"NURT_TRADE_LICENCE",active:!0,nActive:!0},pgr:{key:"national-pgr",stateKey:"pgr",label:"NURT_COMPLAINS",active:!0,nActive:!0},fsm:{key:"fsm",stateKey:"fsm",label:"CS_HOME_FSM_SERVICES",active:!0,nActive:!1},mCollect:{key:"national-mcollect",stateKey:"mCollect",label:"NURT_MCOLLECT",active:!0,nActive:!0},ws:{key:"national-ws",stateKey:"ws",label:"NURT_WATER_SEWERAGE",active:!0,nActive:!0},obps:{key:"nss-obps",stateKey:"obps",label:"DSS_BUILDING_PERMISSION",active:!0,nActive:!0},noc:{key:"national-firenoc",stateKey:"noc",label:"NURT_FIRENOC",active:!0,nActive:!0},bnd:{key:"nss-birth-death",stateKey:"birth-death",label:"BIRTH_AND_DEATH",active:!0,nActive:!0},faqs:{key:"national-faqs",stateKey:"national-faqs",label:"DSS_FAQS",active:!1,nActive:!0,others:!0},finance:{key:"national-finance",stateKey:"finance",label:"DSS_FINANCE",active:!0,nActive:!1},about:{key:"national-about",stateKey:"national-about",label:"DSS_ABOUT_DASHBOARD",active:!1,nActive:!0,others:!0}},be=function(){var e=Digit.Utils.dss.getCurrentModuleName();return Object.keys(we).map(function(e){return we[e].key}).filter(function(e){return"fsm"!==e}).some(function(t){return null==e?void 0:e.includes(t)})},Te=n.createContext({}),Ce=function(e){var l=e.values,i=e.onFilterChange,o=e.t,u=t.useState(!1),s=u[0],d=u[1],v=t.useState([0,0]),m=v[0],f=v[1],p=t.useState(l),D=p[0],y=p[1],S=t.useRef(null);t.useEffect(function(){var e=function(e){S.current&&!S.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[S]),t.useEffect(function(){if(!s){var e=null==D?void 0:D.startDate,t=null==D?void 0:D.endDate,n=b(null==D?void 0:D.startDate,null==D?void 0:D.endDate),l=pe(null==D?void 0:D.startDate,"MMM d, yyyy")+" - "+pe(null==D?void 0:D.endDate,"MMM d, yyyy");i({range:{startDate:e,endDate:t,interval:n,title:l},requestDate:{startDate:e,endDate:t,interval:n,title:l}})}},[D,s]);var w=t.useMemo(function(){return r.createStaticRanges([{label:o("DSS_TODAY"),range:function(){return{startDate:E(Date.now()),endDate:I()}}},{label:o("DSS_YESTERDAY"),range:function(){return{startDate:(e=new Date,t=e.getFullYear(),n=e.getMonth(),l=e.getDate(),a=new Date(0),a.setFullYear(t,n,l-1),a.setHours(0,0,0,0),a),endDate:De(U(),1)};var e,t,n,l,a}},{label:o("DSS_THIS_WEEK"),range:function(){return{startDate:h(new Date),endDate:I()}}},{label:o("DSS_THIS_MONTH"),range:function(){return{startDate:N(new Date),endDate:I()}}},{label:o("DSS_THIS_QUARTER"),range:function(){return{startDate:k(new Date),endDate:De(I(),1)}}},{label:o("DSS_PREVIOUS_YEAR"),range:function(){return(new Date).getMonth()<3?{startDate:Ee(g(A(new Date),3),2),endDate:De(Ee(g(M(new Date),3),2),1)}:{startDate:Ee(g(A(new Date),3),1),endDate:De(Ee(g(M(new Date),3),1),1)}}},{label:o("DSS_THIS_YEAR"),range:function(){return{startDate:Digit.Utils.dss.getDefaultFinacialYear().startDate,endDate:Digit.Utils.dss.getDefaultFinacialYear().endDate}}}])},[]),b=function(e,t){var n=(new Date(t).getTime()-new Date(e).getTime())/864e5;return n>91?"month":n<90&&n>=14?"week":n<=14?"day":void 0};return n.createElement(t.Fragment,null,n.createElement("div",{className:"mbsm"},o("ES_DSS_DATE_RANGE")),n.createElement("div",{className:"employee-select-wrap",ref:S},n.createElement("div",{className:"select "+(s?"dss-input-active-border":"")},n.createElement("input",{className:"employee-select-wrap--elipses",type:"text",value:null!=l&&l.title?""+(null==l?void 0:l.title):"",readOnly:!0,onClick:function(){return d(function(e){return!e})}}),n.createElement(a.Calender,{className:"cursorPointer",onClick:function(){return d(function(e){return!e})}})),s&&n.createElement("div",{className:"options-card",style:{overflow:"visible",width:"unset",maxWidth:"unset"}},n.createElement(r.DateRangePicker,{className:"pickerShadow",focusedRange:m,ranges:[D],rangeColors:["#9E9E9E"],onChange:function(e,t){var n,l=e.range1,a=(l=c({},l,{endDate:L(null===(n=l)||void 0===n?void 0:n.endDate)})).startDate,i=l.endDate,r=l.title,o=l.interval;w.some(function(e){var t=e.range();return 0===x(t.startDate,a)&&0===x(t.endDate,i)})?(y(l),d(!1)):0===m[1]?y(l):function(e){return 1===e}(m[1])&&(y({title:r,interval:o,startDate:a,endDate:i}),d(!1))},onRangeFocusChange:f,retainEndDateOnFirstSelection:!0,showSelectionPreview:!0,staticRanges:w,inputRanges:[]}))))},_e=["Cr","Lac","Unit"],xe=function(e){var l=e.onSelect,a=e.t,i=t.useContext(Te).value;return n.createElement(t.Fragment,null,n.createElement("div",{className:"mbsm"},a("ES_DSS_DENOMINATION")),n.createElement("div",{className:"switch-wrapper"},_e.map(function(e,t){return n.createElement("div",{key:t},n.createElement("input",{type:"radio",id:e,className:"radio-switch",name:"unit",checked:e===(null==i?void 0:i.denomination),onClick:function(){return l({denomination:e})}}),n.createElement("label",{className:"cursorPointer",htmlFor:e},a(Digit.Utils.locale.getTransformedLocale("ES_DSS_"+e))))})))},Le=function(e){var l,i,r,o=e.t,u=e.ulbTenants,s=e.services,d=e.isOpen,v=e.closeFilters,m=e.showDateRange,f=void 0===m||m,g=e.showDDR,p=void 0===g||g,h=e.showUlb,D=void 0===h||h,E=e.showDenomination,y=void 0===E||E,S=e.showModuleFilter,w=void 0===S||S,b=e.isNational,T=void 0!==b&&b,C=t.useContext(Te),_=C.value,x=C.setValue,L=t.useState(function(){return null==u?void 0:u.ulb.filter(function(e){var t,n;return null==_||null===(t=_.filters)||void 0===t||null===(n=t.tenantId)||void 0===n?void 0:n.find(function(t){return t===(null==e?void 0:e.code)})})}),k=L[0],N=L[1];t.useEffect(function(){var e;N(null==u||null===(e=u.ulb)||void 0===e?void 0:e.filter(function(e){var t,n;return null==_||null===(t=_.filters)||void 0===t||null===(n=t.tenantId)||void 0===n?void 0:n.find(function(t){return t===(null==e?void 0:e.code)})}))},[null==_||null===(l=_.filters)||void 0===l?void 0:l.tenantId]);var A=t.useState(function(){return null==s?void 0:s.filter(function(e){return(null==_?void 0:_.moduleLevel)===(null==e?void 0:e.code)})}),M=A[0],I=A[1];t.useEffect(function(){I(null==s?void 0:s.filter(function(e){return(null==_?void 0:_.moduleLevel)===(null==e?void 0:e.code)}))},[null==_?void 0:_.moduleLevel]);var U=function(e){x(c({},_,e))},O=t.useMemo(function(){return k.map(function(e){return u.ulb.filter(function(t){return t.code===e.code})[0]}).filter(function(e,t,n){return t===n.findIndex(function(t){return t.ddrKey===e.ddrKey})})},[k,u]);return n.createElement("div",{className:"filters-wrapper "+(d?"filters-modal":""),style:{justifyContent:window.location.href.includes("dss/dashboard/finance")&&!d?"space-between":"unset",paddingRight:window.location.href.includes("dss/dashboard/finance")&&!d?"24px":"0px",paddingBottom:window.location.href.includes("dss/dashboard/finance")&&!d?"20px":"unset"}},n.createElement("span",{className:"filter-close",onClick:function(){return v()}},n.createElement(a.CloseSvg,null)),d&&n.createElement("div",{className:"filter-header"},n.createElement(a.FilterIcon,null),n.createElement("p",null,o("DSS_FILTERS")),n.createElement("span",{onClick:function(){x({denomination:"Unit",range:Digit.Utils.dss.getInitialRange()})}},n.createElement(a.RefreshIcon,null))),f&&n.createElement("div",{className:"filters-input"},n.createElement(Ce,{onFilterChange:U,values:null==_?void 0:_.range,t:o})),p&&n.createElement("div",{className:"filters-input"},n.createElement("div",{className:"mbsm"},o(T?"ES_DSS_STATE":"ES_DSS_DDR")),n.createElement(a.MultiSelectDropdown,{options:(null==u?void 0:u.ddr)&&(null===(i=u.ddr)||void 0===i?void 0:i.sort(function(e,t){var n;return null==e||null===(n=e.ddrKey)||void 0===n?void 0:n.localeCompare(null==t?void 0:t.ddrKey)})),optionsKey:"ddrKey",onSelect:function(e,t){var n=u.ulb.filter(function(t){return!!e.find(function(e){return t.ddrKey===(null==e?void 0:e[1].ddrKey)})});x(c({},_,{filters:{tenantId:n.map(function(e){return null==e?void 0:e.code})}}))},selected:O,defaultLabel:o(T?"ES_DSS_ALL_STATE_SELECTED":"ES_DSS_ALL_DDR_SELECTED"),defaultUnit:o(T?"ES_DSS_STATE_SELECTED":"ES_DSS_DDR_SELECTED")})),D&&n.createElement("div",{className:"filters-input"},n.createElement("div",{className:"mbsm"},o("ES_DSS_ULB")),n.createElement(a.MultiSelectDropdown,{options:null==u||null===(r=u.ulb)||void 0===r?void 0:r.sort(function(e,t){var n;return null==e||null===(n=e.ulbKey)||void 0===n?void 0:n.localeCompare(null==t?void 0:t.ulbKey)}),optionsKey:"ulbKey",onSelect:function(e,t){x(c({},_,{filters:{tenantId:e.map(function(e){var t;return null==e||null===(t=e[1])||void 0===t?void 0:t.code})}}))},selected:k,defaultLabel:o("ES_DSS_ALL_ULB_SELECTED"),defaultUnit:o("ES_DSS_DDR_SELECTED")})),!T&&w&&n.createElement("div",{className:"filters-input"},n.createElement("div",{className:"mbsm"},o("ES_DSS_SERVICES")),n.createElement(a.Dropdown,{option:s,optionKey:"name",select:function(e,t){x(c({},_,{moduleLevel:null==e?void 0:e.code}))},selected:M,placeholder:o("ES_DSS_ALL_SERVICES_SELECTED")})),y&&n.createElement("div",{className:"filters-input",style:{flexBasis:"16%"}},n.createElement(xe,{onSelect:U,t:o})))},ke=function(e){var l=e.t,i=e.filterConfig,r=e.isOpen,o=e.closeFilters,u=t.useContext(Te),s=u.value,d=u.setValue,v=t.useState({}),m=v[0],f=v[1],g=t.useState({}),p=g[0],h=g[1],D=function(e){var t=_.get(_.find(i,["type","DateRange"]),"props.maxNumberOfDays");t&&_.isNumber(t)&&Digit.Utils.dss.getDateDiffrenence(e.range.endDate,e.range.startDate)>t?(window.alert("Invalid date, please do not select date more then "+t+"."),d(c({},s,m))):(f(c({},e)),d(c({},s,e)))};t.useEffect(function(){A()},[]);var E=Digit.Hooks.dss.useGetCustomFilterRequestValues(i,{}),y=E.isLoading,S=Digit.Hooks.dss.useGetCustomFilterValues(E.data,{enabled:!y}),w=S.data,b=S.isLoading,T=t.useState([]),C=T[0],x=T[1];t.useEffect(function(){if(null!=i&&i.length){var e=[];i.forEach(function(t){var n=null==p?void 0:p[t.id];n&&(_.isArray(n)?_.forEach(n,function(n){e.push({id:t.id,label:t.name,value:n.value,name:n.key})}):e.push({id:t.id,label:t.name,value:n.value,name:n.key}))}),x(e)}else x([])},[p]);var L=function(e){return function(t,n){var l,a={};if("MultiSelectDropdown"==(null==e?void 0:e.type)&&t){var i=k(e,t);l=i.filterObj,a[e.id]=i.selectedFilter}else if("Dropdown"==(null==e?void 0:e.type)&&t){var r=N(e,t);l=r.filterObj,a[e.id]=r.selectedFilter}d(c({},s,l)),h(c({},p,a))}},k=function(e,t){var n=c({},s),l=[];if(t&&t.length){var a=t.map(function(e){var t;return null==e||null===(t=e[1])||void 0===t?void 0:t.value});_.set(n,e.appliedFilterPath,a),l=t.map(function(e){return null==e?void 0:e[1]})}else _.set(n,e.appliedFilterPath,[]);return{filterObj:n,selectedFilter:l}},N=function(e,t){var n=c({},s);return t&&t.value&&e.appliedFilterPath?_.set(n,e.appliedFilterPath,t.value):_.set(n,e.appliedFilterPath,null),{filterObj:n,selectedFilter:t}},A=function(){d({denomination:"Unit",range:M()}),h({})},M=function(){var e=_.get(_.find(i,["type","DateRange"]),"props.maxNumberOfDays");return e&&_.isNumber(e)?Digit.Utils.dss.getDatesBackFromToday(e):Digit.Utils.dss.getInitialRange()};return b||y?n.createElement(a.Loader,null):n.createElement("div",null,n.createElement("div",{className:"filters-wrapper "+(r?"filters-modal":""),style:{justifyContent:window.location.href.includes("dss/dashboard/finance")&&!r?"space-between":"unset",paddingRight:window.location.href.includes("dss/dashboard/finance")&&!r?"24px":"0px",paddingBottom:window.location.href.includes("dss/dashboard/finance")&&!r?"20px":"unset"}},n.createElement("span",{className:"filter-close",onClick:function(){return o()}},n.createElement(a.CloseSvg,null)),r&&n.createElement("div",{className:"filter-header"},n.createElement(a.FilterIcon,null),n.createElement("p",null,l("DSS_FILTERS")),n.createElement("span",{onClick:A},n.createElement(a.RefreshIcon,null))),null==i?void 0:i.map(function(e){return n.createElement("div",{className:"filters-input"},function(e){switch(e.type){case"DateRange":return n.createElement(Ce,{onFilterChange:D,values:null==s?void 0:s.range,t:l});case"Dropdown":return function(e){var t=w[null==e?void 0:e.id]||[];return n.createElement(n.Fragment,null,n.createElement("div",{className:"mbsm"},l(null==e?void 0:e.name)),n.createElement(a.Dropdown,{option:t,optionKey:"key",select:L(e),selected:p[e.id],placeholder:l("ES_DSS_ALL_"+e.id+"_SELECTED")}))}(e);case"MultiSelectDropdown":return function(e){var t=w[null==e?void 0:e.id]||[];return n.createElement(n.Fragment,null,n.createElement("div",{className:"mbsm"},l(null==e?void 0:e.name)),n.createElement(a.MultiSelectDropdown,{options:t,optionsKey:"key",onSelect:L(e),selected:p[e.id],defaultLabel:l("ES_DSS_ALL_"+e.id+"_SELECTED"),defaultUnit:l("ES_DSS_"+e.id+"_SELECTED")}))}(e);default:return""}}(e))})),n.createElement("div",null,(null==C?void 0:C.length)>0&&n.createElement("div",{className:"tag-container"},C.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:l(null==e?void 0:e.label)+": "+l(null==e?void 0:e.name),onClick:function(){return function(e){var t=C[e],n=_.find(i,["id",t.id]),l=p[n.id],a=_.get(s,n.appliedFilterPath);if(l){var r;_.isArray(l)?(l=_.filter(l,function(e){return e.value!=t.value}),a=_.filter(a,function(e){return e!=t.value})):(l=null,a=null);var o=((r={})[n.id]=l,r),u=c({},s);null==a||_.isEmpty(a)?u=_.omit(u,n.appliedFilterPath):_.set(u,n.appliedFilterPath,a),h(c({},p,o)),d(u)}}(t)}})}),n.createElement("p",{className:"clearText cursorPointer",onClick:A},l("DSS_FILTER_CLEAR")))))},Ne=function(e){var l,i,r,o,u=e.t,s=e.ulbTenants,d=e.isOpen,v=e.closeFilters,m=e.showDateRange,f=void 0===m||m,g=e.showDenomination,p=void 0===g||g,h=e.isNational,D=void 0!==h&&h,E=t.useContext(Te),y=E.value,S=E.setValue,w=t.useState(function(){var e;return null==s||null===(e=s.ulb)||void 0===e?void 0:e.filter(function(e){var t,n;return null==y||null===(t=y.filters)||void 0===t||null===(n=t.ulb)||void 0===n?void 0:n.find(function(t){return t===(null==e?void 0:e.code)})})}),b=w[0],T=w[1],C=t.useState(function(){var e;return null==s||null===(e=s.ddr)||void 0===e?void 0:e.filter(function(e){var t,n;return null==y||null===(t=y.filters)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.find(function(t){return t===(null==e?void 0:e.code)})})}),_=C[0],x=C[1];t.useEffect(function(){var e,t;T(null==s||null===(e=s.ulb)||void 0===e?void 0:e.filter(function(e){var t,n;return null==y||null===(t=y.filters)||void 0===t||null===(n=t.ulb)||void 0===n?void 0:n.find(function(t){return t===(null==e?void 0:e.code)})})),x(null==s||null===(t=s.ddr)||void 0===t?void 0:t.filter(function(e){var t,n;return null==y||null===(t=y.filters)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.find(function(t){return t===(null==e?void 0:e.code)})}))},[y]);var L=function(e){S(c({},y,e))};return n.createElement("div",{className:"filters-wrapper "+(d?"filters-modal":"")},n.createElement("span",{className:"filter-close",onClick:function(){return v()}},n.createElement(a.CloseSvg,null)),d&&n.createElement("div",{className:"filter-header"},n.createElement(a.FilterIcon,null),n.createElement("p",null,u("DSS_FILTERS")),n.createElement("span",{onClick:function(){S({denomination:"Unit",range:Digit.Utils.dss.getInitialRange()})}},n.createElement(a.RefreshIcon,null))),f&&n.createElement("div",{className:"filters-input"},n.createElement(Ce,{onFilterChange:L,values:null==y?void 0:y.range,t:u})),n.createElement("div",{className:"filters-input"},n.createElement("div",{className:"mbsm"},u(D?"ES_DSS_STATE":"ES_DSS_DDR")),n.createElement(a.MultiSelectDropdown,{options:(null==s?void 0:s.ddr)&&(null===(l=s.ddr)||void 0===l||null===(i=l.sort(function(e,t){var n;return null==e||null===(n=e.ddrKey)||void 0===n?void 0:n.localeCompare(null==t?void 0:t.ddrKey)}))||void 0===i?void 0:i.map(function(e){return c({},e,{i18Key:"DSS_TB_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.ddrKey)})})),optionsKey:"i18Key",onSelect:function(e,t){S(c({},y,{filters:c({},y.filters,{state:e.map(function(e){var t;return null==e||null===(t=e[1])||void 0===t?void 0:t.code})})}))},selected:null==_?void 0:_.map(function(e){return c({},e,{i18Key:"DSS_TB_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.ddrKey)})}),defaultLabel:u(D?"ES_DSS_ALL_STATE_SELECTED":"ES_DSS_ALL_DDR_SELECTED"),defaultUnit:u(D?"ES_DSS_STATE_SELECTED":"ES_DSS_DDR_SELECTED")})),n.createElement("div",{className:"filters-input"},n.createElement("div",{className:"mbsm"},u("ES_DSS_ULB")),n.createElement(a.MultiSelectDropdown,{options:null==s||null===(r=s.ulb)||void 0===r||null===(o=r.filter(function(e){return Digit.Utils.dss.checkSelected(e,_)}).sort(function(e,t){var n;return null==e||null===(n=e.ulbKey)||void 0===n?void 0:n.localeCompare(null==t?void 0:t.ulbKey)}))||void 0===o?void 0:o.map(function(e){return c({},e,{i18Key:"DSS_TB_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.ulbKey)})}),optionsKey:"i18Key",onSelect:function(e,t){var n,l,a,i=e.map(function(e){var t;return null==e||null===(t=e[1])||void 0===t?void 0:t.code}),r=null==s?void 0:s.ulb.filter(function(e){return i.includes(e.code)}).map(function(e){return e.ddrKey}),o=null==s?void 0:s.ddr.filter(function(e){return r.includes(e.ddrKey)}).map(function(e){return e.code});(null==y||null===(n=y.filters)||void 0===n||null===(l=n.state)||void 0===l?void 0:l.length)>0&&(null==y||null===(a=y.filters)||void 0===a||a.state.map(function(e){o.includes(e)||o.push(e)})),S(c({},y,{filters:c({},y.filters,{ulb:i,state:o})}))},selected:null==b?void 0:b.map(function(e){return c({},e,{i18Key:"DSS_TB_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.ulbKey)})}),defaultLabel:u("ES_DSS_ALL_ULB_SELECTED"),defaultUnit:u("ES_DSS_DDR_SELECTED")})),p&&n.createElement("div",{className:"filters-input",style:{flexBasis:"16%"}},n.createElement(xe,{onSelect:L,t:u})))},Ae=function(e){return n.createElement("div",{className:"no-data"},n.createElement("p",null,(0,e.t)("DSS_NO_DATA")))},Me=["#048BD0","#FBC02D","#8E29BF","#EA8A3B","#0BABDE","#6E8459","#D4351C","#0CF7E4","#F80BF4","#22F80B"],Ie=["nssOBPSTotalPermitsVsTotalOCSubmittedVsTotalOCIssued","nssNOCApplicationVsProvisionalVsActual","nocApplicationVsProvisionalVsActual","permitsandOCissued"],Ue=function(e){return void 0===e&&(e=0),Me[e=Me.length>e?e:0]},Oe=function(e,t){switch(e){case"Unit":return t;case"Lac":return Number((t/1e5).toFixed(2));case"Cr":return Number((t/1e7).toFixed(2));default:return""}},Fe=function(e){var i,r,u,s,d=e.xDataKey,v=void 0===d?"name":d,g=e.data,p=e.setChartDenomination,h=l.useTranslation().t,D=g.id,E=g.variant,y=Digit.ULBService.getCurrentTenantId(),S=t.useContext(Te).value,w=t.useState(0),b=w[0],T=w[1],C=t.useState(0),_=C[0],x=C[1],L=t.useState([]),k=L[0],N=L[1],A=t.useState("Area"),M=A[0],I=A[1],U=Digit.ULBService.getStateId(),O=Digit.Hooks.useCommonMDMS(U,"FSM","FSTPPlantInfo",{enabled:"fsmCapacityUtilization"===D}).data,F=Digit.Hooks.dss.useGetChart({key:D,type:"metric",tenantId:y,requestDate:c({},null==S?void 0:S.requestDate,{startDate:null==S||null===(i=S.range)||void 0===i||null===(r=i.startDate)||void 0===r?void 0:r.getTime(),endDate:null==S||null===(u=S.range)||void 0===u||null===(s=u.endDate)||void 0===s?void 0:s.getTime()}),filters:null==S?void 0:S.filters,moduleLevel:null==S?void 0:S.moduleLevel}),R=F.isLoading,B=F.data;t.useEffect(function(){if(O){var e,t,n=O;(null==S||null===(e=S.filters)||void 0===e||null===(t=e.tenantId)||void 0===t?void 0:t.length)>0&&(n=O.filter(function(e){var t,n;return null==S||null===(t=S.filters)||void 0===t||null===(n=t.tenantId)||void 0===n?void 0:n.some(function(t){return null==e?void 0:e.ULBS.includes(t)})}));var l=n.reduce(function(e,t){return e+Number(null==t?void 0:t.PlantOperationalCapacityKLD)},0);T(l)}},[O,S]),t.useEffect(function(){if(B){var e,t,n,l,a,i,r,o,u,s,d=Digit.Utils.dss.formatter(Math.round(null==B||null===(e=B.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n||null===(l=n.plots[(null==B||null===(a=B.responseData)||void 0===a||null===(i=a.data)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.plots.length)-1])||void 0===l?void 0:l.value),"number",null==S?void 0:S.denomination,!0,h);x(d),p(null==B||null===(o=B.responseData)||void 0===o||null===(u=o.data)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.headerSymbol)}},[B]);var P=t.useMemo(function(){var e,t,n,l,a,i,r,o,u,s;if(1==(null==B||null===(e=B.responseData)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length))return I("Area"),"fsmCapacityUtilization"!==D?null==B||null===(o=B.responseData)||void 0===o||null===(u=o.data)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.plots:null==B||null===(a=B.responseData)||void 0===a||null===(i=a.data)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.plots.map(function(e){var t=null==e?void 0:e.name.split("-"),n=function(e){m(1,arguments);var t=f(e),n=t.getFullYear(),l=t.getMonth(),a=new Date(0);return a.setFullYear(n,l+1,0),a.setHours(0,0,0,0),a.getDate()}(Date.parse(t[0]+" 1, "+t[1]));return c({},e,{value:Math.round((null==e?void 0:e.value)/(b*n)*100)})});if((null==B||null===(n=B.responseData)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.length)>1){var d,v,g;I("Line");var p={},E=null==B||null===(d=B.responseData)||void 0===d||null===(v=d.data)||void 0===v||null===(g=v[0])||void 0===g?void 0:g.plots.map(function(e,t){var n,l,a,i,r,o,u,s={};return null==B||null===(n=B.responseData)||void 0===n||n.data.map(function(e){p[h(Digit.Utils.locale.getTransformedLocale(e.headerName))]=h(Digit.Utils.locale.getTransformedLocale(e.headerName)),s[h(Digit.Utils.locale.getTransformedLocale(e.headerName))]=null==e?void 0:e.plots[t].value}),c({label:null,name:null==B||null===(l=B.responseData)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.plots[t].name,strValue:null,symbol:null==B||null===(r=B.responseData)||void 0===r||null===(o=r.data)||void 0===o||null===(u=o[0])||void 0===u?void 0:u.plots[t].symbol},s)});return N(Object.values(p)),E}},[B,b]),H=function(e,t){var n,l,a=t?null==e?void 0:e[t]:(null==e?void 0:e.value)||0;return"fsmCapacityUtilization"===D?Number(a.toFixed(1)):"amount"===(null==e||null===(n=e.symbol)||void 0===n?void 0:n.toLowerCase())?Oe(S.denomination,a):"number"===(null==e||null===(l=e.symbol)||void 0===l?void 0:l.toLowerCase())?Number(a.toFixed(1)):a},z=function(e){return"string"==typeof e?e.replace("-",", "):e},W=function(e){return"string"==typeof e?e.replace("-",", "):"number"==typeof e?"fsmAreaPercentage"===E?Digit.Utils.dss.formatter(e,"percentage",null==e?void 0:e.denomination,!0,h):Digit.Utils.dss.formatter(e,"number",null==e?void 0:e.denomination,!0,h):e};return R?n.createElement(a.Loader,null):n.createElement("div",{style:"fsmAreaPercentage"===E?{display:"flex",flexDirection:"column",height:"100%"}:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}},"fsmCapacityUtilization"===D&&n.createElement("p",null,h("DSS_FSM_TOTAL_SLUDGE_TREATED")," - ",_," ",h("DSS_KL")),n.createElement(o.ResponsiveContainer,{width:"94%",height:Ie.includes(D)?700:450},P&&0!==(null==P?void 0:P.length)?"Area"==M?n.createElement(o.AreaChart,{width:"100%",height:"100%",data:P,margin:{left:30,top:10}},n.createElement("defs",null,n.createElement("linearGradient",{id:"colorUv",x1:".5",x2:".5",y2:"1"},n.createElement("stop",{stopColor:"#048BD0",stopOpacity:.5}),n.createElement("stop",{offset:"1",stopColor:"#048BD0",stopOpacity:0}))),n.createElement(o.CartesianGrid,{strokeDasharray:"3 3"}),n.createElement(o.Tooltip,{content:function(e){var t,l,a,i,r,o,u,s=e.payload,d=z(e.label),c=(null==s?void 0:s[0])||{};return n.createElement("div",{style:{margin:"0px",padding:"10px",backgroundColor:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",whiteSpace:"nowrap"}},"amount"===(null==c||null===(t=c.payload)||void 0===t||null===(l=t.symbol)||void 0===l?void 0:l.toLowerCase())&&n.createElement("p",null,d+" : "+("Unit"===(null==S?void 0:S.denomination)?" ₹":"")+Digit.Utils.dss.formatter(null==c?void 0:c.value,"number",null==S?void 0:S.denomination,!0,h)+" "+("Unit"!==(null==S?void 0:S.denomination)?h(Digit.Utils.locale.getTransformedLocale("ES_DSS_"+(null==S?void 0:S.denomination))):"")),"percentage"===(null==c||null===(a=c.payload)||void 0===a||null===(i=a.symbol)||void 0===i?void 0:i.toLowerCase())&&n.createElement("p",null,d+" : "+Digit.Utils.dss.formatter(null==c?void 0:c.value,"number",null==S?void 0:S.denomination,!0,h)+" %"),"number"===(null==c||null===(r=c.payload)||void 0===r||null===(o=r.symbol)||void 0===o?void 0:o.toLowerCase())&&n.createElement("p",null,d+" : "+Digit.Utils.dss.formatter(null==c?void 0:c.value,"number",null==S?void 0:S.denomination,!0,h)+" "),!(null!=c&&null!==(u=c.payload)&&void 0!==u&&u.symbol)&&n.createElement("p",null,d+" : "+(null==c?void 0:c.value)+" "))}}),n.createElement(o.XAxis,{dataKey:v,tick:{fontSize:"14px",fill:"#505A5F"},tickFormatter:z}),n.createElement(o.YAxis,{tick:{fontSize:"14px",fill:"#505A5F"},tickFormatter:W}),n.createElement(o.Legend,{formatter:function(){return n.createElement("span",{style:{fontSize:"14px",color:"#505A5F"}},h("DSS_"+Digit.Utils.locale.getTransformedLocale(D)))},iconType:"circle"}),n.createElement(o.Area,{type:"monotone",dataKey:H,stroke:"#048BD0",fill:"url(#colorUv)",dot:!0})):n.createElement(o.LineChart,{width:500,height:300,data:P,margin:{top:15,right:5,left:5,bottom:5}},n.createElement(o.CartesianGrid,{strokeDasharray:"3 3"}),n.createElement(o.XAxis,{dataKey:"name",tick:{fontSize:"14px"}}),n.createElement(o.YAxis,{tickFormatter:W}),n.createElement(o.Tooltip,{content:function(e){var t,l,a,i,r,o,u=e.payload,s=(null==u?void 0:u[0])||{},d="amount"===(null==s||null===(t=s.payload)||void 0===t||null===(l=t.symbol)||void 0===l?void 0:l.toLowerCase())&&"Unit"===(null==S?void 0:S.denomination)?" ₹":" ",v="percentage"===(null==s||null===(a=s.payload)||void 0===a||null===(i=a.symbol)||void 0===i?void 0:i.toLowerCase())?" %":"amount"===(null==s||null===(r=s.payload)||void 0===r||null===(o=r.symbol)||void 0===o?void 0:o.toLowerCase())&&"Unit"!==(null==S?void 0:S.denomination)?h(Digit.Utils.locale.getTransformedLocale("ES_DSS_"+(null==S?void 0:S.denomination))):"",m=c({},null==s?void 0:s.payload);null==m||delete m.label,null==m||delete m.strValue,null==m||delete m.symbol;var f=[null==m?void 0:m.name];return null==m||delete m.name,Object.keys(m).map(function(e){var t,n;f.push(e+" -"+d+("amount"===(null==s||null===(t=s.payload)||void 0===t||null===(n=t.symbol)||void 0===n?void 0:n.toLowerCase())?Digit.Utils.dss.formatter(Oe(null==S?void 0:S.denomination,null==m?void 0:m[e]),"number",null==S?void 0:S.denomination,!0,h):Digit.Utils.dss.formatter(null==m?void 0:m[e],"number",null==S?void 0:S.denomination,!0,h))+" "+v)}),n.createElement("div",{style:{margin:"0px",padding:"10px",backgroundColor:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",whiteSpace:"nowrap"}},f.map(function(e,t){return n.createElement("p",{key:t},e)}))}}),n.createElement(o.Legend,{layout:"horizontal",formatter:function(e,t,l){return n.createElement("span",{style:{fontSize:"14px",color:"#505A5F"}},null==k?void 0:k[l])},verticalAlign:"bottom",align:"center",iconType:"circle",className:{margin:"10px"}}),null==k?void 0:k.map(function(e,t){return n.createElement(o.Line,{type:"monotone",dataKey:function(t){return H(t,e)},stroke:Ue(t),activeDot:{r:8},strokeWidth:2,key:t,dot:{stroke:Ue(t),strokeWidth:1,r:2,fill:Ue(t)}})})):n.createElement(Ae,{t:h})))},Re=function(e,t){return"percentage"===(null==t?void 0:t.toLowerCase())?""+Number(e).toFixed():e},Be=function(e){var a=e.x,i=e.y,r=e.name,o=e.stroke,u=e.maxValue,s=l.useTranslation().t;return n.createElement(t.Fragment,null,n.createElement("text",{x:a,y:i,dx:-55,dy:10,fill:o,width:"35",style:{fontSize:"medium",textAlign:"right",fontVariantNumeric:"proportional-nums"}},(null==u?void 0:u[s(r)])+"%"),n.createElement("text",{x:a,y:i,dx:-200,dy:10},s("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(r))))},Pe={RED:"#00703C",GREEN:"#D4351C",default:"#00703C"},He=function(e){var r,u,s,d,v=e.xDataKey,m=void 0===v?"value":v,f=e.xAxisType,g=void 0===f?"number":f,p=e.yAxisType,h=void 0===p?"category":p,D=e.yDataKey,E=void 0===D?"name":D,y=e.hideAxis,S=void 0===y||y,w=e.layout,b=void 0===w?"vertical":w,T=e.fillColor,C=void 0===T?"default":T,_=e.showGrid,x=void 0!==_&&_,L=e.showDrillDown,k=void 0!==L&&L,N=e.title,A=e.setChartDenomination,M=e.data.id,I=l.useTranslation().t,U=i.useHistory(),O=t.useContext(Te).value,F=t.useState({}),R=F[0],B=F[1],P=Digit.ULBService.getCurrentTenantId(),H=Digit.Hooks.dss.useGetChart({key:M,type:"metric",tenantId:P,requestDate:c({},null==O?void 0:O.requestDate,{startDate:null==O||null===(r=O.range)||void 0===r||null===(u=r.startDate)||void 0===u?void 0:u.getTime(),endDate:null==O||null===(s=O.range)||void 0===s||null===(d=s.endDate)||void 0===d?void 0:d.getTime()}),filters:null==O?void 0:O.filters,moduleLevel:null==O?void 0:O.moduleLevel}),z=H.isLoading,W=H.data,j=t.useMemo(function(){var e,t,n,l,a;if(!W)return null;A(null==W||null===(e=W.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.headerSymbol);var i=null==W||null===(l=W.responseData)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.map(function(e){var t,n,l,a=(null==e||null===(t=e.plots)||void 0===t?void 0:t[0].value)||0;return{name:I(null==e||null===(n=e.plots)||void 0===n?void 0:n[0].name),value:Re(a,null==e||null===(l=e.plots)||void 0===l?void 0:l[0].symbol)}}),r=Math.max.apply(Math,i.map(function(e){return Number(e.value)})),o={},u=i.map(function(e){return o[e.name]=e.value,c({},e,{value:Number(e.value)/r*100})});return B(o),u},[W]);return z?n.createElement(a.Loader,null):0!==(null==j?void 0:j.length)&&j?n.createElement(t.Fragment,null,n.createElement(o.ResponsiveContainer,{width:"98%",height:320},n.createElement(o.BarChart,{width:"70%",height:"100%",data:k?null==j?void 0:j.slice(0,3):j,layout:b,maxBarSize:8,margin:{left:200},barGap:50},x&&n.createElement(o.CartesianGrid,null),n.createElement(o.XAxis,{hide:S,dataKey:m,type:g,domain:[0,90]}),n.createElement(o.YAxis,{dataKey:E,hide:S,type:h,padding:{right:60}}),n.createElement(o.Bar,{dataKey:m,fill:Pe[C],background:{fill:"#D6D5D4",radius:8},label:n.createElement(Be,{stroke:Pe[C],maxValue:R}),radius:[8,8,8,8],isAnimationActive:!1}))),(null==j?void 0:j.length)>3&&k&&n.createElement("p",{className:"showMore",onClick:function(){var e,t,n;U.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/dss/drilldown?chart="+(null==W||null===(t=W.responseData)||void 0===t?void 0:t.visualizationCode)+"&ulb="+(null==O||null===(n=O.filters)||void 0===n?void 0:n.tenantId)+"&title="+N+"&fromModule="+Digit.Utils.dss.getCurrentModuleName()+"&type=performing-metric&fillColor="+C+"&isNational="+(be()?"YES":"NO"))}},I("DSS_SHOW_MORE"))):n.createElement(Ae,{t:I})},ze=["#048BD0","#FBC02D","#8E29BF","#EA8A3B","#0BABDE","#6E8459","#D4351C","#0CF7E4","#F80BF4","#22F80B"],We=["#048BD0","#5AD8A6","#F47738","#FBC02D","#2DD6FB"],je=function(e,t,n){var l,a,i=t?null==e?void 0:e[t]:(null==e?void 0:e.value)||0;if("amount"!==(null==e||null===(l=e.symbol)||void 0===l?void 0:l.toLowerCase()))return"number"===(null==e||null===(a=e.symbol)||void 0===a?void 0:a.toLowerCase())?Number(i.toFixed(1)):i;switch(n){case"Unit":return i;case"Lac":return Number((i/1e5).toFixed(2));case"Cr":return Number((i/1e7).toFixed(2));default:return""}},Ke=function(e){var r,u,s,d,v,m,f,g,p,h,D,E=e.xAxisType,y=void 0===E?"category":E,S=e.yAxisType,w=void 0===S?"number":S,b=e.xDataKey,T=void 0===b?"name":b,C=e.yDataKey,_=void 0===C?"":C,x=e.yAxisLabel,L=void 0===x?"":x,k=e.layout,N=void 0===k?"horizontal":k,A=e.title,M=e.showDrillDown,I=void 0!==M&&M,U=e.setChartDenomination,O=e.horizontalBarv2,F=void 0!==O&&O,R=e.data.id,B=l.useTranslation().t,P=i.useHistory(),H=t.useContext(Te).value,z=Digit.ULBService.getCurrentTenantId(),W=Digit.Hooks.dss.useGetChart({key:R,type:"metric",tenantId:z,requestDate:c({},null==H?void 0:H.requestDate,{startDate:null==H||null===(r=H.range)||void 0===r||null===(u=r.startDate)||void 0===u?void 0:u.getTime(),endDate:null==H||null===(s=H.range)||void 0===s||null===(d=s.endDate)||void 0===d?void 0:d.getTime()}),filters:null==H?void 0:H.filters,moduleLevel:null==H?void 0:H.moduleLevel}),j=W.isLoading,K=W.data,V=function(e,t){return"fsmMonthlyWasteCal"===R?[Digit.Utils.dss.formatter(Math.round(100*(e+Number.EPSILON))/100,"number",null==e?void 0:e.denomination,!0,B)+" "+B("DSS_KL"),t]:[Digit.Utils.dss.formatter(Math.round(100*(e+Number.EPSILON))/100,"number",null==e?void 0:e.denomination,!0,B),t]};t.useEffect(function(){var e,t,n;K&&U(null==K||null===(e=K.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.headerSymbol)},[K]);var q=t.useMemo(function(){var e;return function(e,t){for(var n={},l=0;l<(null==e?void 0:e.length);l++)for(var a=e[l],i=0;i<a.plots.length;i++){var r,o=a.plots[i];n[o.name]=c({},n[o.name],((r={})[B(a.headerName)]=je(o,"value",t),r.name=B(o.name),r))}return Object.keys(n).map(function(e){return c({name:e},n[e])})}(null==K||null===(e=K.responseData)||void 0===e?void 0:e.data,null==H?void 0:H.denomination)},[K,null==H?void 0:H.denomination]),Y=function(e){return"string"==typeof e?e:"number"==typeof e?Digit.Utils.dss.formatter(e,"number",null==e?void 0:e.denomination,!0,B):e};if(j)return n.createElement(a.Loader,null);var G=null==K||null===(v=K.responseData)||void 0===v||null===(m=v.data)||void 0===m?void 0:m.map(function(e){return null==e?void 0:e.headerName});return F&&(q=q.map(function(e,t){return e.fill=We[t],e})),n.createElement(t.Fragment,null,F?n.createElement(o.ResponsiveContainer,{width:"90%",height:0===(null===(f=q)||void 0===f?void 0:f.length)?250:1===(null===(g=q)||void 0===g?void 0:g.length)?40:48*(null===(p=q)||void 0===p?void 0:p.length)+10,margin:{top:5,right:5,left:0,bottom:0}},0!==(null===(h=q)||void 0===h?void 0:h.length)&&q?n.createElement(o.BarChart,{width:"110%",height:"90%",margin:{top:0,right:60,left:0,bottom:-32},layout:N,data:q,barCategoryGap:10,barGap:0},n.createElement(o.CartesianGrid,{display:"none",strokeDasharray:"2 2"}),n.createElement(o.YAxis,{dataKey:_,type:w,axisLine:!0,tickLine:!1,tick:{fontSize:"14px"},label:{value:L,angle:90,position:"left",fontSize:"14px",fill:"#505A5F"},tickCount:10,tickFormatter:Y,unit:"fsmCapacityUtilization"===R?"%":"",width:"vertical"===N?78:60}),n.createElement(o.XAxis,{display:"none",dataKey:T,type:y,tick:{fontSize:"14px",fill:"#505A5F"},tickCount:10,tickFormatter:Y}),null==G?void 0:G.map(function(e,t){return n.createElement(o.Bar,{key:t,dataKey:B(e),fill:ze[t],stackId:(null==G?void 0:G.length)>2?1:t,barSize:22},n.createElement(o.LabelList,{dataKey:B(e),position:"right",offset:"3",fill:"#828282"}))}),n.createElement(o.Tooltip,{cursor:!1,formatter:V})):n.createElement(Ae,{t:B})):n.createElement(o.ResponsiveContainer,{width:"94%",height:450,margin:{top:5,right:5,left:5,bottom:5}},0!==(null===(D=q)||void 0===D?void 0:D.length)&&q?n.createElement(o.BarChart,{width:"100%",height:"100%",margin:{top:40,right:5,left:5,bottom:5},layout:N,data:q,barGap:12,barSize:12},n.createElement(o.CartesianGrid,{strokeDasharray:"2 2"}),n.createElement(o.YAxis,{dataKey:_,type:w,tick:{fontSize:"12px",fill:"#505A5F"},label:{value:L,angle:-90,position:"insideLeft",dy:50,fontSize:"12px",fill:"#505A5F"},tickCount:10,tickFormatter:Y,unit:"fsmCapacityUtilization"===R?"%":"",width:"vertical"===N?120:60}),n.createElement(o.XAxis,{dataKey:T,type:y,tick:{fontSize:"14px",fill:"#505A5F"},tickCount:10,tickFormatter:Y}),null==G?void 0:G.map(function(e,t){return n.createElement(o.Bar,{key:t,dataKey:B(e),fill:ze[t],stackId:(null==G?void 0:G.length)>2?1:t})}),n.createElement(o.Legend,{formatter:function(e){return n.createElement("span",{style:{fontSize:"14px",color:"#505A5F"}},e)},iconType:"circle",wrapperStyle:{marginBottom:"-1rem"}}),n.createElement(o.Tooltip,{cursor:!1,formatter:V})):n.createElement(Ae,{t:B})),I&&n.createElement("p",{className:"showMore",onClick:function(){var e,t,n;P.push("/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/dss/drilldown?chart="+(null==K||null===(t=K.responseData)||void 0===t?void 0:t.drillDownChartId)+"&ulb="+(null==H||null===(n=H.filters)||void 0===n?void 0:n.tenantId)+"&title="+A)}},B("DSS_SHOW_MORE")))},Ve=["#048BD0","#FBC02D","#8E29BF","#EA8A3B","#0BABDE","#6E8459","#D4351C","#0CF7E4","#F80BF4","#22F80B"],qe=innerWidth<=640,Ye=function(e){var i,r,u,s,d,v,m,f,g,p,h,D,E,y,S,w,b,T,C=e.dataKey,_=void 0===C?"value":C,x=e.setChartDenomination,L=e.variant,k=void 0===L?void 0:L,N=e.data.id,A=Digit.ULBService.getCurrentTenantId(),M=l.useTranslation().t,I=t.useContext(Te).value,U=t.useState(!1),O=U[0],F=U[1],R=t.useState(null),B=R[0],P=R[1],H=t.useState(null),z=H[0],W=H[1],j=Digit.Hooks.dss.useGetChart({key:O?z:N,type:"metric",tenantId:A,requestDate:c({},null==I?void 0:I.requestDate,{startDate:null==I||null===(i=I.range)||void 0===i||null===(r=i.startDate)||void 0===r?void 0:r.getTime(),endDate:null==I||null===(u=I.range)||void 0===u||null===(s=u.endDate)||void 0===s?void 0:s.getTime()}),filters:O?c({},null==I?void 0:I.filters,{selectedType:B}):null==I?void 0:I.filters,moduleLevel:null==I?void 0:I.moduleLevel}),K=j.isLoading,V=j.data,q=t.useMemo(function(){var e,t,n,l,a,i,r,o,u,s;return V?(x(null==V||null===(e=V.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.headerSymbol),"deathByCategoryDrilldownAge"===z||"nssNumberOfDeathsByAge"===(null==V||null===(l=V.responseData)||void 0===l?void 0:l.visualizationCode)?null==V||null===(a=V.responseData)||void 0===a||null===(i=a.data)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.plots.reduce(function(e,t,n){return e.concat(t)},[]):null==V||null===(o=V.responseData)||void 0===o||null===(u=o.data)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.plots.sort(function(e,t){return t.value-e.value}).reduce(function(e,t,n){return"pieChartv2"===k?(n<4?e=e.concat(t):4===n?e=e.concat({label:null,name:"DSS.OTHERS",value:null==t?void 0:t.value,symbol:null==t?void 0:t.symbol}):e[4].value+=null==t?void 0:t.value,e):e=e.concat(t)},[])):null},[V]),Y=Digit.Utils.dss.formatter(null==q?void 0:q.reduce(function(e,t){return e+(null==t?void 0:t.value)},0),q?null===(d=q[0])||void 0===d?void 0:d.symbol:"number",null==I?void 0:I.denomination,!0,M),G=function(e,t){var l,a;return"pieChartv2"===k&&t?n.createElement("div",{style:{display:"inline-flex",justifyContent:"space-between",fontSize:"16px",width:"95%",color:"black",height:"5px",alignItems:"center"}},n.createElement("p",{style:{display:"inline-block",maxWidth:"20rem",alignItems:"flex-start",paddingLeft:"0.5rem",whiteSpace:"nowrap",textOverflow:"ellipsis",height:"fit-content",overflow:"hidden"}},M("COMMON_MASTERS_"+(e&&Digit.Utils.locale.getTransformedLocale(e)))),n.createElement("p",{style:{display:"inline-block",alignItems:"flex-end",fontWeight:"bold",fontSize:"20px"}},Digit.Utils.dss.formatter(null==t||null===(l=t.payload)||void 0===l?void 0:l.value,null==t||null===(a=t.payload)||void 0===a?void 0:a.symbol,null==I?void 0:I.denomination,!0,M))):n.createElement("span",{style:{fontSize:"14px",color:"#505A5F"}},M("COMMON_MASTERS_"+(I&&Digit.Utils.locale.getTransformedLocale(I))))},X=function(e){var t,l,a,i,r,o,u,s,d,c,v=e.payload;return n.createElement("div",{style:{margin:"0px",padding:"10px",backgroundColor:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",whiteSpace:"nowrap"}},n.createElement("p",{className:"recharts-tooltip-label"},M("COMMON_MASTERS_"+((null==v||null===(t=v[0])||void 0===t?void 0:t.name)&&Digit.Utils.locale.getTransformedLocale(null==v||null===(l=v[0])||void 0===l?void 0:l.name)))+": "+Digit.Utils.dss.formatter(null==v||null===(a=v[0])||void 0===a?void 0:a.value,null==v||null===(i=v[0])||void 0===i||null===(r=i.payload)||void 0===r||null===(o=r.payload)||void 0===o?void 0:o.symbol,null==I?void 0:I.denomination,!0,M)),n.createElement("p",null,"("+Number((null==v||null===(u=v[0])||void 0===u?void 0:u.value)/(null==V||null===(s=V.responseData)||void 0===s||null===(d=s.data)||void 0===d||null===(c=d[0])||void 0===c?void 0:c.headerValue)*100).toFixed(1)+"%)"))},Q=["mcCollectionByPaymentModev2","mcRceiptsByPaymentModev2","nssWsCollectionByChannel","nssWsCollectionByUsage","nssOBPSPermitIssuedByOccupancyType","nssOBPSPermitIssuedByRiskType","mcCollectionByPaymentType","mcReceiptsByPaymentMode","wscollectionByUsage","wscollectionByChannel","permitIssuedByOccupancyType","permitIssuedByRiskType"],J=function(e){return Q.includes(e)},Z=function(e){var t,n=e.payload;F(!0),W(null==V||null===(t=V.responseData)||void 0===t?void 0:t.drillDownChartId),P(n.name)};return t.useEffect(function(){F(!1),W(null),P(null)},[N]),K?n.createElement(a.Loader,null):n.createElement(t.Fragment,null,"deathByCategory"===N&&n.createElement("span",{className:"dss-pie-subheader",style:{position:"sticky",left:0}},M("DSS_CMN_PIE_INFO")),O&&n.createElement("div",null,n.createElement("div",{className:"tag-container",style:{marginBottom:"unset"}},n.createElement("span",{style:{marginTop:"20px"}},M("DSS_FILTERS_APPLIED"),": "),n.createElement(a.RemoveableTag,{key:N,text:""+M("COMMON_MASTERS_"+Digit.Utils.locale.getTransformedLocale(B)),onClick:function(){F(!1)}}))),0!==(null==q?void 0:q.length)&&q?"pieChartv2"===k?n.createElement(o.ResponsiveContainer,{width:"94%",maxHeight:500},n.createElement(o.PieChart,{cy:100,width:"100%"},n.createElement(o.Pie,{data:q,dataKey:_,cy:125,style:{cursor:"none"!==(null==V||null===(v=V.responseData)||void 0===v?void 0:v.drillDownChartId)?"pointer":"default"},innerRadius:J(N)&&!qe?60:80,outerRadius:J(N)&&!qe?90:100,margin:{top:O?0:5},fill:"#8884d8",label:"pieChartv2"===k?function(e){var t=e.x,l=e.cx,a=e.y,i=e.cy,r=e.percent,o=e.name,u=e.endAngle-e.startAngle;return u>1.5&&u<7?n.createElement("text",{x:t,cx:l,y:a,cy:i,percent:r,name:o,fill:"#505A5F",alignmentBaseline:"middle",className:"recharts-pie-label-text",fontSize:"14px",textAnchor:t>l?"start":"end"},(100*r).toFixed(0)+"%"):u<1.5?null:n.createElement("text",{x:t,cx:l,y:a,cy:i,percent:r,name:o,fill:"#505A5F",alignmentBaseline:"middle",className:"recharts-pie-label-text",fontSize:"14px",textAnchor:t>l?"start":"end"},(100*r).toFixed(0)+"%")}:null,labelLine:!1,isAnimationActive:!1,onClick:"none"!==(null==V||null===(m=V.responseData)||void 0===m?void 0:m.drillDownChartId)?Z:null},null==V||null===(f=V.responseData)||void 0===f||null===(g=f.data)||void 0===g||null===(p=g[0])||void 0===p?void 0:p.plots.map(function(e,t){return n.createElement(o.Cell,{key:"cell-",fill:Ve[t%Ve.length]})}),Y&&n.createElement(o.Label,{value:M("RT_TOTAL")+" : "+Y,position:"center",fontSize:18,fontWeight:"bold"})),n.createElement(o.Tooltip,{content:X}),n.createElement(o.Legend,{layout:"vertical",verticalAlign:"bottom",align:"center",iconType:"circle",formatter:G,iconSize:13,wrapperStyle:(null==q?void 0:q.length)>6?{paddingRight:J(N)&&!qe?30:0,overflowY:"scroll",height:250,width:"35%",overflowX:"auto",paddingTop:-20,paddingBottom:-20}:{paddingRight:J(N)&&!qe?30:0,paddingLeft:J(N)&&!qe?30:0,width:"100%",overflowX:"auto",marginTop:"0px",marginLeft:"1.5rem"}}))):n.createElement(o.ResponsiveContainer,{width:"99%",height:340},n.createElement(o.PieChart,{cy:100},n.createElement(o.Pie,{data:q,dataKey:_,cy:150,style:{cursor:"none"!==(null==V||null===(h=V.responseData)||void 0===h?void 0:h.drillDownChartId)?"pointer":"default"},innerRadius:J(N)&&!qe?90:70,outerRadius:J(N)&&!qe?110:90,margin:{top:O?0:5},fill:"#8884d8",labelLine:!1,isAnimationActive:!1,onClick:"none"!==(null==V||null===(D=V.responseData)||void 0===D?void 0:D.drillDownChartId)?Z:null},null==V||null===(E=V.responseData)||void 0===E||null===(y=E.data)||void 0===y||null===(S=y[0])||void 0===S?void 0:S.plots.map(function(e,t){return n.createElement(o.Cell,{key:"cell-",fill:Ve[t%Ve.length]})})),n.createElement(o.Tooltip,{content:X}),n.createElement(o.Legend,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",formatter:G,iconSize:10,wrapperStyle:(null==q?void 0:q.length)>6?{paddingRight:J(N)&&!qe?60:0,overflowY:"scroll",height:250,width:"35%",overflowX:"auto",paddingTop:-20}:{paddingRight:J(N)&&!qe?60:0,width:"27%",overflowX:"auto",paddingTop:-20}}))):n.createElement(Ae,{t:M}),O&&n.createElement("div",{style:{marginTop:"-4%",position:"absolute",width:"30%",textAlign:"center"}},M(Digit.Utils.locale.getTransformedLocale((null==V||null===(w=V.responseData)||void 0===w||null===(b=w.data)||void 0===b||null===(T=b[0])||void 0===T?void 0:T.headerName)+"_"+B))))};function Ge(){return(Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Xe(e){return t.createElement("svg",Ge({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),ye||(ye=t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("path",{d:"M20 20H-4V-4h24z"}),t.createElement("path",{fill:"#E54D42",fillRule:"nonzero",d:"M16 8l-1.41-1.41L9 12.17V0H7v12.17L1.42 6.58 0 8l8 8z"}))))}function Qe(e,t){return n.createElement(Xe,{style:{display:"inline-block",verticalAlign:"baseline",marginRight:e||"0px",marginLeft:t||"0px"}})}function Je(){return(Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Ze(e){return t.createElement("svg",Je({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),Se||(Se=t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("path",{d:"M-4-4h24v24H-4z"}),t.createElement("path",{fill:"#259B24",fillRule:"nonzero",d:"M0 8l1.41 1.41L7 3.83V16h2V3.83l5.58 5.59L16 8 8 0z"}))))}function $e(e,t){return n.createElement(Ze,{style:{display:"inline-block",verticalAlign:"baseline",marginRight:e||"0px",marginLeft:t||"0px"}})}var et,tt,nt,lt,at,it,rt,ot,ut,st,dt,ct,vt,mt,ft=["Department","","Usage Type","Ward","Wards","City Name"],gt=function(e){var t=e.rowValue,l=e.insight,a=e.t,i=e.disableInsights;return void 0!==i&&i?n.createElement("span",null,t):n.createElement("span",null,t," ",l>=0?$e():Qe()," ",isNaN(l)?"0%":Digit.Utils.dss.formatter(Math.abs(l),"number","Lac",!0,a)+"%")},pt=function(e,t,n){return void 0===n&&(n=1),void 0===e?e:Math.round(e/(t*n)*100)},ht=function(e){var i,r,o,s,d,v,m,f,g,p,h,D,E,S,w,b=e.data,T=void 0===b?{}:b,C=e.onSearch,_=e.setChartData,x=e.setChartDenomination,L=T.id,k=T.disableInsights,N=void 0!==k&&k,A=t.useState(L),M=A[0],I=A[1],U=t.useState([{id:M}]),O=U[0],F=U[1],R=l.useTranslation().t,B=t.useContext(Te),P=B.value,H=B.fstpMdmsData,z=Digit.ULBService.getCurrentTenantId(),W=Digit.SessionStorage.get("DSS_TENANTS"),j={startDate:Ee(null==P||null===(i=P.range)||void 0===i?void 0:i.startDate,1).getTime(),endDate:Ee(null==P||null===(r=P.range)||void 0===r?void 0:r.endDate,1).getTime(),interval:"month",title:""},K=Digit.Hooks.dss.useGetChart({key:M,type:"metric",tenantId:z,requestDate:c({},j),filters:L===M?null==P?void 0:P.filters:c({},null==P?void 0:P.filters,(d={},d[null===(o=O[O.length-1])||void 0===o?void 0:o.filterKey]=null===(s=O[O.length-1])||void 0===s?void 0:s.filterValue,d)),addlFilter:null===(v=O[O.length-1])||void 0===v?void 0:v.addlFilter,moduleLevel:null==P?void 0:P.moduleLevel}),V=K.isLoading,q=K.data,Y=Digit.Hooks.dss.useGetChart({key:M,type:"metric",tenantId:z,requestDate:c({},null==P?void 0:P.requestDate,{startDate:null==P||null===(m=P.range)||void 0===m||null===(f=m.startDate)||void 0===f?void 0:f.getTime(),endDate:null==P||null===(g=P.range)||void 0===g||null===(p=g.endDate)||void 0===p?void 0:p.getTime()}),filters:L===M?null==P?void 0:P.filters:c({},null==P?void 0:P.filters,(E={},E[null===(h=O[O.length-1])||void 0===h?void 0:h.filterKey]=null===(D=O[O.length-1])||void 0===D?void 0:D.filterValue,E)),addlFilter:null===(S=O[O.length-1])||void 0===S?void 0:S.addlFilter,moduleLevel:null==P?void 0:P.moduleLevel}),G=Y.isLoading,X=Y.data;t.useEffect(function(){var e=T.id;I(e),F([{id:e}])},[T,P]);var Q=t.useMemo(function(){var e,t,n,l,a;if(X&&q)return x(null==X||null===(e=X.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.headerSymbol),null==X||null===(l=X.responseData)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.map(function(e,t){var n,l,a,i=null==q||null===(n=q.responseData)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.find(function(t){return(null==t?void 0:t.headerName)===(null==e?void 0:e.headerName)});return null==e||null===(a=e.plots)||void 0===a?void 0:a.reduce(function(n,l,a){var r,o,u=null!==(null==l?void 0:l.value)?null==l?void 0:l.value:(null==l?void 0:l.label)||"";null==l||!l.strValue||"string"!==(null==l?void 0:l.symbol)||null!=l&&l.label||(u=null==l?void 0:l.strValue);var s=null==i||null===(r=i.plots)||void 0===r||null===(o=r[a])||void 0===o?void 0:o.value,d=null;if("CapacityUtilization"===(null==l?void 0:l.name)&&"fsmVehicleLogReportByVehicleNo"!==M){var c=P.range,v=y(c.endDate,c.startDate)+1,m=W.filter(function(t){var n;return(null==t||null===(n=t.city)||void 0===n?void 0:n.ddrName)===(null==e?void 0:e.headerName)||(null==t?void 0:t.code)===(null==e?void 0:e.headerName)}).map(function(e){return null==e?void 0:e.code}),f=null==H?void 0:H.filter(function(e){return m.find(function(t){var n;return null==e||null===(n=e.ULBS)||void 0===n?void 0:n.includes(t)})}).reduce(function(e,t){return e+Number(null==t?void 0:t.PlantOperationalCapacityKLD)},0);u=pt(u,f,v),s=pt(s,f,v)}if("CapacityUtilization"===(null==l?void 0:l.name)&&"fsmVehicleLogReportByVehicleNo"===M){var g=null==e?void 0:e.plots.find(function(e){return"TankCapacity"===(null==e?void 0:e.name)});u=pt(u,null==g?void 0:g.value),s=pt(s,null==g?void 0:g.value)}return"number"!==(null==l?void 0:l.symbol)&&"percentage"!==(null==l?void 0:l.symbol)&&"amount"!==(null==l?void 0:l.symbol)||"CitizenAverageRating"===(null==l?void 0:l.name)||"TankCapacity"===(null==l?void 0:l.name)||void 0===i||(d=s===u?0:0===s?100:Math.round((u-s)/s*100)),"number"!=typeof u||Number.isInteger(u)||(u=Math.round(100*(u+Number.EPSILON))/100),"string"==typeof u&&null!=ft&&ft.includes(l.name)&&(u=R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(u))),n[R("DSS_HEADER_"+Digit.Utils.locale.getTransformedLocale(null==l?void 0:l.name))]=null!==d?{value:u,insight:d}:"S.N."===(null==l?void 0:l.name)?t+1:u,n.key=null==e?void 0:e.headerName,n},{})})},[X,q]);t.useEffect(function(){if(Q){var e=null==Q?void 0:Q.map(function(e){return Object.keys(e).reduce(function(t,n){var l;return"key"===n||(t[n]="object"==typeof(null==e?void 0:e[n])?null==e||null===(l=e[n])||void 0===l?void 0:l.value:null==e?void 0:e[n]),t},{})});_(e)}else _([])},[Q]);var J=t.useCallback(function(e,t,n){return void 0===n&&(n=""),e.filter(function(e){return Object.keys(null==e?void 0:e.values).find(function(t){var l,a,i,r,o,u,s,d;return"object"==typeof(null==e||null===(l=e.values)||void 0===l?void 0:l[t])?Object.keys(null==e||null===(d=e.values)||void 0===d?void 0:d[t]).find(function(l){var a,i,r,o,u,s,d;return"insight"===l?String(Math.abs(null==e||null===(u=e.values)||void 0===u||null===(s=u[t])||void 0===s?void 0:s[l])+"%").toLowerCase().startsWith(null===(d=n)||void 0===d?void 0:d.toLowerCase()):null===(a=String(null==e||null===(i=e.values)||void 0===i||null===(r=i[t])||void 0===r?void 0:r[l]))||void 0===a?void 0:a.toLowerCase().includes(null===(o=n)||void 0===o?void 0:o.toLowerCase())}):(null===(a=String(null==e||null===(i=e.values)||void 0===i?void 0:i[t]).toLowerCase())||void 0===a?void 0:a.includes(null===(r=n)||void 0===r?void 0:r.toLowerCase()))||(null===(o=String(R(null==e||null===(u=e.values)||void 0===u?void 0:u[t])).toLowerCase())||void 0===o?void 0:o.includes(null===(s=n)||void 0===s?void 0:s.toLowerCase()))})})},[]),Z=function(e){var t="DSS_HEADER_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.name);return"amount"===(null==e?void 0:e.symbol)?R(t)+" "+function(e){switch(e){case"Unit":case"Lac":case"Cr":return"("+R("DSS_"+Digit.Utils.locale.getTransformedLocale(e))+")";default:return""}}(null==P?void 0:P.denomination):R(t)},$=t.useCallback(function(e,t,n){var l,a,i,r=null==e||null===(l=e.values)||void 0===l?void 0:l[n],o=null==t||null===(a=t.values)||void 0===a?void 0:a[n];return i="object"==typeof o?null==o?void 0:o.value:o,String("object"==typeof r?null==r?void 0:r.value:r).localeCompare(String(i),void 0,{numeric:!0})},[]),ee=function(e){var t=R("DSS_HEADER_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.name));return function(n,l,a){var i=null==n?void 0:n[t];return"amount"===(null==e?void 0:e.symbol)?"object"==typeof i?{value:Digit.Utils.dss.formatter(ne(null==i?void 0:i.value),"number","Lac",!0,R),insight:null==i?void 0:i.insight}:String(Digit.Utils.dss.formatter(ne(i),"number","Lac",!0,R)):"number"===(null==e?void 0:e.symbol)||"percentage"===(null==e?void 0:e.symbol)?"object"==typeof i?{value:Digit.Utils.dss.formatter(null==i?void 0:i.value,"number","Lac",!0,R),insight:null==i?void 0:i.insight}:String(Digit.Utils.dss.formatter(i,"number","Lac",!0,R)):n[t]}},te=(window.Digit.Utils.browser.isMobile(),t.useMemo(function(){var e,t,l,i,r=null==X||null===(e=X.responseData)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.find(function(e){return!!e}),o=null==X||null===(l=X.responseData)||void 0===l?void 0:l.visualizationCode;return null==r||null===(i=r.plots)||void 0===i?void 0:i.filter(function(e){return"TankCapacity"!==(null==e?void 0:e.name)}).map(function(e,t){var l;return{Header:n.createElement("span",{className:"tooltip","data-tip":"React-tooltip","data-for":"jk-table-"+o+"-"+t},Z(e),n.createElement(u,{textColor:"#fff",backgroundColor:"#555",place:"bottom",type:"info",effect:"solid",id:"jk-table-"+o+"-"+t},R("TIP_DSS_HEADER_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.name)))),accessor:ee(e),id:null==e||null===(l=e.name)||void 0===l?void 0:l.replaceAll("."," "),symbol:null==e?void 0:e.symbol,sortType:$,Cell:function(t){var l,i,r,o=t.value,u=t.column,s=t.row;if("object"==typeof o)return n.createElement(gt,{insight:null==o?void 0:o.insight,rowValue:null==o?void 0:o.value,disableInsights:N,t:R});var d=null==X||null===(l=X.responseData)||void 0===l||null===(i=l.filter)||void 0===i?void 0:i.find(function(e){return(null==e?void 0:e.column)===(null==u?void 0:u.id)});return"none"!==(null==X||null===(r=X.responseData)||void 0===r?void 0:r.drillDownChartId)&&void 0!==d?n.createElement("span",{style:{color:"#F47738",cursor:"pointer"},onClick:function(){var t,n;return function(e,t,n,l){var a,i;if(void 0===l&&(l=[]),null!=X&&null!==(a=X.responseData)&&void 0!==a&&a.drillDownChartId&&"none"!==(null==X||null===(i=X.responseData)||void 0===i?void 0:i.drillDownChartId)){var r,o,u,s=e;if("tenantId"===t&&(0==(null===(u=s=null==W?void 0:W.filter(function(t){var n;return(null==t||null===(n=t.city)||void 0===n?void 0:n.ddrName)===e||(null==t?void 0:t.code)===e||(null==t?void 0:t.description)===e}).map(function(e){return null==e?void 0:e.code}))||void 0===u?void 0:u.length)&&e&&(s=[e]),void 0===s))return;var d={id:null==X||null===(r=X.responseData)||void 0===r?void 0:r.drillDownChartId,name:e,filterKey:t,filterValue:s,label:n};if(l.length>1){var c,v,m,f=l.filter(function(e){return e.key!=t});d.addlFilter=((m={})[null==f||null===(c=f[0])||void 0===c?void 0:c.key]=null==O||null===(v=O[(null==O?void 0:O.length)-1])||void 0===v?void 0:v.filterValue,m),f.map(function(e){var t,n,l,a;d.addlFilter[null==e?void 0:e.key]=(null==O||null===(t=O.filter(function(t){return t.filterKey==(null==e?void 0:e.key)}))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.filterValue)||(null==O||null===(l=O.filter(function(e){return"tenantId"==e.filterKey}))||void 0===l||null===(a=l[0])||void 0===a?void 0:a.filterValue)})}F([].concat(O,[d])),I(null==X||null===(o=X.responseData)||void 0===o?void 0:o.drillDownChartId)}}(null!=o&&o.includes("DSS_TB_")?null==s||null===(t=s.original)||void 0===t?void 0:t.key:o,null==d?void 0:d.key,R("DSS_HEADER_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.name)),null==X||null===(n=X.responseData)||void 0===n?void 0:n.filter)}},R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(o))):"CitizenAverageRating"===(null==u?void 0:u.id)?n.createElement(a.Rating,{id:null==s?void 0:s.id,currentRating:Math.round(10*o)/10,styles:{width:"unset",marginBottom:0},starStyles:{width:"25px"}}):String(R(o))}}})},[X,null==P?void 0:P.denomination,null==P?void 0:P.range])),ne=function(e){switch(P.denomination){case"Unit":return e;case"Lac":return Number((e/1e5).toFixed(2));case"Cr":return Number((e/1e7).toFixed(2));default:return e}};return G||V?n.createElement(a.Loader,null):n.createElement("div",{style:{width:"100%"}},n.createElement("span",{className:"dss-table-subheader",style:{position:"sticky",left:0}},R("DSS_CMN_TABLE_INFO")),(null==O?void 0:O.length)>1&&n.createElement("div",{className:"tag-container"},n.createElement("span",{style:{marginTop:"20px"}},R("DSS_FILTERS_APPLIED"),": "),O.map(function(e,t){return t>0?n.createElement(a.RemoveableTag,{key:t,text:(null==e?void 0:e.label)+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(null==e?void 0:e.name)),onClick:function(){return function(e){var t,n=null==O?void 0:O.filter(function(t,n){return n<e});F(n),I(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.id)}(t)}}):null})),te&&Q?n.createElement(a.Table,{className:"customTable ",t:R,customTableWrapperClassName:"dss-table-wrapper",disableSort:!1,autoSort:!0,manualPagination:!1,isPaginationRequired:(null==Q?void 0:Q.length)>5,globalSearch:J,initSortId:"S N ",onSearch:C,data:(null==Q?void 0:Q.filter(function(e){return e}))||[],totalRecords:null==Q?void 0:Q.length,columns:null==te||null===(w=te.filter(function(e){return e}))||void 0===w?void 0:w.slice(1),showAutoSerialNo:"DSS_HEADER_S_N_",styles:{overflow:"hidden"},getCellProps:function(e){return{style:{}}}}):n.createElement(Ae,{t:R}))},Dt=function(){return n.createElement(a.SearchIconSvg,{className:"signature-img"})},Et=function(e){var i,r=e.header,o=e.subHeader,u=e.className,s=e.caption,d=e.children,c=e.showHeader,v=void 0===c||c,m=e.showSearch,f=void 0!==m&&m,g=e.showDownload,p=void 0!==g&&g,h=e.onChange,D=e.chip,E=void 0===D?[]:D,y=e.updateChip,S=e.value,w=void 0===S?{}:S,b=e.iconName,T=void 0===b?"":b,C=l.useTranslation().t,_=Digit.ULBService.getCurrentTenantId(),x=t.useState(null),L=x[0],k=x[1],N=t.useState(null),A=N[0],M=N[1],I=window.Digit.Utils.browser.isMobile(),U=t.useRef(),O=[{code:"image",i18nKey:C("ES_COMMON_DOWNLOAD_IMAGE"),icon:n.createElement(a.DownloadIcon,{fill:"#f18f5e"})},{code:"shareImage",i18nKey:C("ES_DSS_SHARE_IMAGE"),target:"mail",icon:n.createElement(a.EmailIcon,null)},{code:"shareImage",i18nKey:C("ES_DSS_SHARE_IMAGE"),target:"whatsapp",icon:n.createElement(a.WhatsappIcon,null)}],F=C(Digit.Utils.locale.getTransformedLocale(r)),R=null===(i=require("@egovernments/digit-ui-react-components"))||void 0===i?void 0:i[T];return n.createElement(a.Card,{className:"chart-item "+u,ReactRef:U},n.createElement("div",{className:"chartHeader "+(f&&"column-direction")},n.createElement("div",null,v&&n.createElement(a.CardLabel,{className:"dss-header-label dss-header-label-secondary",style:{display:"flex",alignItems:"center"}},T&&R&&n.createElement("span",null,n.createElement(R,{className:"dss-primary"})),n.createElement("span",{className:"tooltip "+((null==F?void 0:F.length)<(I?20:30)?"dss-white-pre":"dss-white-pre-line")},F,"amount"===(null==A?void 0:A.toLowerCase())&&n.createElement("span",{style:{whiteSpace:"pre"}}," (",C("DSS_"+Digit.Utils.locale.getTransformedLocale(null==w?void 0:w.denomination)),")"),n.createElement("span",{className:"tooltiptext",style:{whiteSpace:I?"normal":"nowrap",fontSize:"medium",marginLeft:C("TIP_"+Digit.Utils.locale.getTransformedLocale(r)).length>30?-120:-60}},C("TIP_"+Digit.Utils.locale.getTransformedLocale(r))))),o&&n.createElement("p",{style:{color:"#505A5F",fontWeight:700}},o)),n.createElement("div",{className:"sideContent"},E&&E.length>1&&n.createElement(yt,{items:E,onClick:y,t:C}),n.createElement("span",{className:"table-search-wrapper"},f&&n.createElement(a.TextInput,{className:"searchInput",placeholder:"Search",signature:!0,signatureImg:n.createElement(Dt,null),onChange:h}),p&&n.createElement(a.DownloadIcon,{className:"mrlg cursorPointer",fill:"#f18f5e",onClick:function(){return Digit.Download.Excel(L,C(r))}})),!p&&n.createElement(a.EllipsisMenu,{menuItems:O,displayKey:"i18nKey",onSelect:function(e){return function(e){setTimeout(function(){switch(e.code){case"pdf":return Digit.Download.PDF(U,C(r));case"image":return Digit.Download.IndividualChartImage(U,C(r));case"sharePdf":return Digit.ShareFiles.PDF(_,U,C(r),e.target);case"shareImage":return Digit.ShareFiles.IndividualChartImage(_,U,C(r),e.target);default:return null}},500)}(e)}}))),s&&n.createElement(a.CardCaption,null,s),n.cloneElement(d,{setChartData:k,setChartDenomination:M}))},yt=function(e){var l=t.useState(1),a=l[0],i=l[1];return n.createElement("div",{className:"table-switch-card-chip"},e.items.map(function(t,l){var r;return n.createElement("div",{className:t.active&&a?"table-switch-card-active":"table-switch-card-inactive",onClick:function(){e.onClick&&e.onClick(t.index),i(function(e){return e+1})}},e.t("DSS_TAB_"+(null==t||null===(r=t.tabName)||void 0===r?void 0:r.toUpperCase())))}))},St=function(e){var l,i,r,o,u=e.t,s=e.data,d=e.code,c=t.useContext(Te).value,v=null==s||null===(l=s.insight)||void 0===l||null===(i=l.value)||void 0===i||null===(r=i.replace(/[+-]/g,""))||void 0===r?void 0:r.split("%");return n.createElement("div",null,n.createElement("p",{className:"heading-m",style:{textAlign:"right",paddingTop:"0px",whiteSpace:"nowrap"}},"citizenAvgRating"===d?n.createElement(a.Rating,{currentRating:Math.round(10*(null==s?void 0:s.headerValue))/10,styles:{width:"unset"},starStyles:{width:"25px"}}):Digit.Utils.dss.formatter(null==s?void 0:s.headerValue,null==s?void 0:s.headerSymbol,null==c?void 0:c.denomination,!0,u)+" "+("totalSludgeTreated"===d?u("DSS_KL"):"")),(null==s?void 0:s.insight)&&n.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"end"}},"upper_green"===(null==s||null===(o=s.insight)||void 0===o?void 0:o.indicator)?$e("10px"):Qe("10px"),n.createElement("p",{className:""+(null==s?void 0:s.insight.colorCode),style:{whiteSpace:"pre"}},(null==v?void 0:v[0])&&Digit.Utils.dss.formatter(v[0],"number",null==c?void 0:c.denomination,!0,u)+"% "+u(Digit.Utils.locale.getTransformedLocale("DSS"+(null==v?void 0:v[1])||"")))))},wt=function(e){var a,i,r,o,u,s,d,v,m,f,g,p,h,D,E,y,S,w,b,T,C=e.data,_=e.setChartDenomination,x=e.index,L=C.id,k=C.chartType,N=Digit.ULBService.getCurrentTenantId(),A=l.useTranslation().t,M=t.useContext(Te).value,I=t.useState({})[1],U=(window.Digit.Utils.browser.isMobile(),Digit.Hooks.dss.useGetChart({key:L,type:k,tenantId:N,requestDate:c({},null==M?void 0:M.requestDate,{startDate:null==M||null===(a=M.range)||void 0===a||null===(i=a.startDate)||void 0===i?void 0:i.getTime(),endDate:null==M||null===(r=M.range)||void 0===r||null===(o=r.endDate)||void 0===o?void 0:o.getTime()}),filters:null==M?void 0:M.filters,moduleLevel:null==M?void 0:M.moduleLevel})),O=U.isLoading,F=U.data;return t.useEffect(function(){if(F){var e,t,n,l,a,i,r=(null==F||null===(e=F.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.plots)||null;r&&Array.isArray(r)&&r.length>0&&null!=r&&r.every(function(e){return e.value})&&I(function(e){var t,n,l,a;return c({},e,((a={})[L]={todaysDate:Digit.DateUtils.ConvertEpochToDate(null==r||null===(t=r[0])||void 0===t?void 0:t.value),lastUpdatedTime:Digit.DateUtils.ConvertEpochToTimeInHours(null==r||null===(n=r[1])||void 0===n?void 0:n.value),count:null==r||null===(l=r[2])||void 0===l?void 0:l.value},a))}),0===x&&_(null==F||null===(l=F.responseData)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.headerSymbol)}else I({})},[F]),!O&&n.createElement("div",{style:{marginLeft:"8px",marginRight:"8px",maxWidth:"21%",flexDirection:"column",justifyContent:"center",alignItems:"center"}},F?n.createElement("p",{className:"heading-m",style:{textAlign:"center",paddingTop:"0px",wordWrap:"break-word",paddingBottom:"0px",marginLeft:"0px",marginBottom:"0px"}},""+Digit.Utils.dss.formatter(null==F||null===(u=F.responseData)||void 0===u||null===(s=u.data)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.headerValue,null==F||null===(v=F.responseData)||void 0===v||null===(m=v.data)||void 0===m||null===(f=m[0])||void 0===f?void 0:f.headerSymbol,null==M?void 0:M.denomination,!0,A)):n.createElement("div",{style:{whiteSpace:"pre"}},A("DSS_NO_DATA")),n.createElement("div",{className:"tooltip",style:{marginLeft:"42px",paddingLeft:"32px"}},n.createElement("span",{className:"tooltiptext",style:{fontSize:"medium",width:"max-content",minWidth:A("TIP_"+C.name).length<20?4*A("TIP_"+C.name).length:120,maxWidth:400,whiteSpace:"normal",visibility:"visible"}},n.createElement("span",{style:{fontWeight:"500",color:"white"}},A("TIP_"+C.name)))),n.createElement("div",{style:{textAlign:"center",paddingTop:"0px",wordWrap:"break-word"}},(0!=(null==F||null===(g=F.responseData)||void 0===g||null===(p=g.data)||void 0===p||null===(h=p[0])||void 0===h||null===(D=h.plots)||void 0===D||null===(E=D[2])||void 0===E?void 0:E.value)?(null==F||null===(y=F.responseData)||void 0===y||null===(S=y.data)||void 0===S||null===(w=S[0])||void 0===w||null===(b=w.plots)||void 0===b||null===(T=b[2])||void 0===T?void 0:T.value)+" ":"")+A(""+C.name)))},bt=function(e){var a,i,r,o,u,s,d,v,m,f,g=e.data,p=e.setChartDenomination,h=e.index,D=g.id,E=g.chartType,y=Digit.ULBService.getCurrentTenantId(),S=l.useTranslation().t,w=t.useContext(Te).value,b=t.useState({}),T=b[0],C=b[1],_=window.Digit.Utils.browser.isMobile(),x=Digit.Hooks.dss.useGetChart({key:D,type:E,tenantId:y,requestDate:c({},null==w?void 0:w.requestDate,{startDate:null==w||null===(a=w.range)||void 0===a||null===(i=a.startDate)||void 0===i?void 0:i.getTime(),endDate:null==w||null===(r=w.range)||void 0===r||null===(o=r.endDate)||void 0===o?void 0:o.getTime()}),filters:null==w?void 0:w.filters,moduleLevel:null==w?void 0:w.moduleLevel}),L=x.isLoading,k=x.data;if(t.useEffect(function(){if(k){var e,t,n,l,a,i,r=(null==k||null===(e=k.responseData)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.plots)||null;r&&Array.isArray(r)&&r.length>0&&null!=r&&r.every(function(e){return e.value})&&C(function(e){var t,n,l;return c({},e,((l={})[D]={todaysDate:Digit.DateUtils.ConvertEpochToDate(null==r||null===(t=r[0])||void 0===t?void 0:t.value),lastUpdatedTime:Digit.DateUtils.ConvertEpochToTimeInHours(null==r||null===(n=r[1])||void 0===n?void 0:n.value)},l))}),0===h&&p(null==k||null===(l=k.responseData)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.headerSymbol)}else C({})},[k]),L)return!1;if(!k)return n.createElement("div",{className:"row"},n.createElement("div",{className:"tooltip"},S(g.name),n.createElement("span",{className:"tooltiptext",style:{fontSize:"medium",width:S("TIP_"+g.name).length<50?"fit-content":400,height:50,whiteSpace:"normal"}},n.createElement("span",{style:{fontWeight:"500",color:"white"}},S("TIP_"+g.name)))),n.createElement("span",{style:{whiteSpace:"pre"}},S("DSS_NO_DATA")));var N=S(null==g?void 0:g.name)||"";return n.createElement("div",{className:"row"},n.createElement("div",{className:"tooltip"},"string"==typeof N&&N,Array.isArray(N)&&(null==N||null===(u=N.filter(function(e){return e}))||void 0===u?void 0:u.map(function(e){return n.createElement("div",{style:{whiteSpace:"pre"}},e)})),n.createElement("span",{className:"dss-white-pre",style:{display:"block"}}," ",null==T||null===(s=T[D])||void 0===s?void 0:s.todaysDate),n.createElement("span",{className:"tooltiptext",style:{fontSize:"medium",width:function(e){return _?"auto":S("TIP_"+e.name).length<50?"fit-content":400}(g),height:_?"auto":50,whiteSpace:"normal"}},n.createElement("span",{style:{fontWeight:"500",color:"white"}},S("TIP_"+g.name)),n.createElement("span",{style:{color:"white"}}," ",null==T||null===(d=T[D])||void 0===d?void 0:d.lastUpdatedTime))),n.createElement(St,{t:S,data:null==k||null===(v=k.responseData)||void 0===v||null===(m=v.data)||void 0===m?void 0:m[0],code:null==k||null===(f=k.responseData)||void 0===f?void 0:f.visualizationCode}))},Tt=function(e){var l=e.data,a=e.setChartDenomination;return n.createElement(t.Fragment,null,n.createElement("span",{className:"chart-metric-wrapper",style:null!=l&&l.isHorizontalChart?{flexWrap:"wrap",display:"flex",justifyContent:"space-evenly"}:{flexWrap:"wrap",display:"flex"}},l.charts.map(function(e,t){return n.createElement(null!=l&&l.isHorizontalChart?wt:bt,{data:e,key:t,index:t,setChartDenomination:a})})))},Ct=function(e){var l,a,i,r,o=e.t,u=e.data,s=t.useContext(Te).value,d=null==u||null===(l=u.insight)||void 0===l||null===(a=l.value)||void 0===a||null===(i=a.replace(/[+-]/g,""))||void 0===i?void 0:i.split("%");return n.createElement("div",null,n.createElement("p",{className:"heading-m",style:{paddingTop:"0px",whiteSpace:"nowrap",marginLeft:"0px"}},""+Digit.Utils.dss.formatter(null==u?void 0:u.headerValue,null==u?void 0:u.headerSymbol,null==s?void 0:s.denomination,!0,o)),(null==u?void 0:u.insight)&&n.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"end"}},"upper_green"===(null==u||null===(r=u.insight)||void 0===r?void 0:r.indicator)?$e("10px"):Qe("10px"),n.createElement("p",{className:""+(null==u?void 0:u.insight.colorCode),style:{whiteSpace:"pre"}},(null==d?void 0:d[0])&&Digit.Utils.dss.formatter(d[0],"number",null==s?void 0:s.denomination,!0,o)+"% "+o(Digit.Utils.locale.getTransformedLocale("DSS"+(null==d?void 0:d[1])||"")))))},_t=function(e){var i,r,o,u,s,d,v,m,f,g=e.data,p=g.id,h=g.chartType,D=Digit.ULBService.getCurrentTenantId(),E=l.useTranslation().t,y=t.useContext(Te).value,S=t.useState({})[0],w=window.Digit.Utils.browser.isMobile(),b=Digit.Hooks.dss.useGetChart({key:p,type:h,tenantId:D,requestDate:c({},null==y?void 0:y.requestDate,{startDate:null==y||null===(i=y.range)||void 0===i||null===(r=i.startDate)||void 0===r?void 0:r.getTime(),endDate:null==y||null===(o=y.range)||void 0===o||null===(u=o.endDate)||void 0===u?void 0:u.getTime()}),filters:null==y?void 0:y.filters}),T=b.data;if(b.isLoading)return n.createElement(a.Loader,null);var C=E(null==g?void 0:g.name)||"";return n.createElement("div",{className:"blocks cursorPointer",style:{flexDirection:"column"}},n.createElement("div",{className:"tooltip"},"string"==typeof C&&C,Array.isArray(C)&&(null==C||null===(s=C.filter(function(e){return e}))||void 0===s?void 0:s.map(function(e){return n.createElement("div",{style:{whiteSpace:"pre"}},e)})),n.createElement("span",{className:"dss-white-pre",style:{display:"block"}}," ",null==S||null===(d=S[p])||void 0===d?void 0:d.todaysDate),n.createElement("span",{className:"tooltiptext",style:{fontSize:"medium",width:function(e){return w?"auto":E("TIP_"+e.name).length<50?"fit-content":400}(g),height:w?"auto":50,whiteSpace:"normal"}},n.createElement("span",{style:{fontWeight:"500",color:"white"}},E("TIP_"+g.name)),n.createElement("span",{style:{color:"white"}}," ",null==S||null===(v=S[p])||void 0===v?void 0:v.lastUpdatedTime))),n.createElement(Ct,{t:E,data:null==T||null===(m=T.responseData)||void 0===m||null===(f=m.data)||void 0===f?void 0:f[0]}))},xt=function(e){var i=e.data,r=l.useTranslation().t,o=t.useContext(Te).value;return n.createElement(a.Card,{style:{flexBasis:"100%"},className:"summary-card-margin"},n.createElement("div",{className:"summary-wrapper"},n.createElement("div",{className:"wrapper-child fullWidth"},n.createElement("div",{className:"blocks"},n.createElement("p",null,r(null==i?void 0:i.name)," ",n.createElement("span",{style:{whiteSpace:"pre"}}," (",r("DSS_"+Digit.Utils.locale.getTransformedLocale(null==o?void 0:o.denomination)),")"))),n.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.charts.map(function(e,t){var l;return n.createElement(_t,{data:e,key:t,url:null==i||null===(l=i.ref)||void 0===l?void 0:l.url})})))))},Lt=1,kt=function(e,t){switch(e){case"DSS_FSM_MONTHLY_WASTE_CAL":return t("DSS_WASTE_RECIEVED")+" "+t("DSS_WASTE_UNIT");default:return""}},Nt=function(e){var a=e.rowData,i=l.useTranslation().t,r=t.useContext(Te).value,o=t.useState(""),u=o[0],s=o[1],d=t.useState({}),v=d[0],m=d[1],f=function(e,t){switch(e.chartType){case"table":return n.createElement(ht,{data:e,onSearch:u,chip:v,title:t});case"donut":return n.createElement(Ye,{data:e,title:t,variant:null==e?void 0:e.variant});case"line":return n.createElement(Fe,{data:e,title:t});case"horizontalBar":return n.createElement(Ke,{data:e,xAxisType:"number",yAxisType:"category",layout:"vertical",yDataKey:"name",xDataKey:"",showDrillDown:!1,title:t,horizontalBarv2:!!e.horizontalBarv2});case"bar":return n.createElement(Ke,{data:e,title:t,yAxisLabel:kt(t,i)});default:return null}},g=function(e,t,l,a){var o,u,d,c,v,m,g,p,h,D,E,y,S,w,b,T,C,_,x,L,k,N;switch(e.vizType){case"metric-collection":return n.createElement(Et,{header:e.name,className:"metricsTable "+(null!=e&&e.isHorizontalChart?"dss-metric-horizontal":""),key:t,value:r,iconName:null==e?void 0:e.iconName},n.createElement(Tt,{data:e}));case"chart":return 0!==(null==r||null===(o=r.filters)||void 0===o||null===(u=o.tenantId)||void 0===u?void 0:u.length)||"fsmTopDsoByPerformance"!==(null==e||null===(d=e.charts)||void 0===d?void 0:d[0].id)&&"fsmBottomDsoByPerformance"!==(null==e||null===(c=e.charts)||void 0===c?void 0:c[0].id)?n.createElement(Et,{key:t,value:r,header:"line"===(null==e||null===(v=e.charts)||void 0===v?void 0:v[l?null===(m=l.filter(function(e){return e.active}))||void 0===m||null===(g=m[0])||void 0===g?void 0:g.index:0].chartType)?""+e.name:e.name,chip:l,updateChip:a,showDownload:"table"===(null==e||null===(p=e.charts)||void 0===p?void 0:p[0].chartType),showSearch:"table"===(null==e||null===(h=e.charts)||void 0===h?void 0:h[0].chartType)&&!(null!=e&&e.noSearch),className:"table"!==(null==e||null===(D=e.charts)||void 0===D?void 0:D[0].chartType)||null!=e&&e.isNotFullWidth?null!=e&&null!==(E=e.charts)&&void 0!==E&&null!==(y=E[0])&&void 0!==y&&y.horizontalBarv2?"dss-horizontal-v2":"":"fullWidth",onChange:function(e){return s(e.target.value)}},f(null==e||null===(S=e.charts)||void 0===S?void 0:S[l?null===(w=l.filter(function(e){return e.active}))||void 0===w||null===(b=w[0])||void 0===b?void 0:b.index:0],e.name)):null;case"performing-metric":return(null==r||null===(T=r.filters)||void 0===T||null===(C=T.tenantId)||void 0===C?void 0:C.length)>0&&("fsmTopUlbByPerformance"===(null==e||null===(_=e.charts)||void 0===_?void 0:_[0].id)||"fsmBottomUlbByPerformance"===(null==e||null===(x=e.charts)||void 0===x?void 0:x[0].id))?null:n.createElement(Et,{value:r,header:e.name,subHeader:"("+i("SUB_"+e.name)+")",key:t,chip:l,updateChip:a},n.createElement(He,{data:null==e||null===(L=e.charts)||void 0===L?void 0:L[l?null===(k=l.filter(function(e){return e.active}))||void 0===k||null===(N=k[0])||void 0===N?void 0:N.index:0],fillColor:Lt++%2?"RED":"GREEN",title:e.name,showDrillDown:!0}));case"collection":case"module":return n.createElement(xt,{header:e.name,className:"metricsTable",key:t,value:r,data:e});default:return null}};return t.useEffect(function(){var e={};a.vizArray.map(function(t){var n;(null==t||null===(n=t.charts)||void 0===n?void 0:n.length)>1&&(e[t.name]=t.charts.map(function(e,t){return{tabName:e.tabName,active:0===t,index:t}}))}),m(c({},e))},[]),n.createElement("div",{className:"chart-row"},a.vizArray.map(t.useCallback(function(e,t){return g(e,t,null==v?void 0:v[e.name],function(t){return m(function(n){return n[e.name]=n[e.name].map(function(e){return c({},e,{active:e.index===t})}),c({},n)})})},[g,v])))},At="DSS_FILTERS",Mt=function(e){var r,o,u,s,d,v,m,f,g,p,h,D,E,y,S,w,b,T,C,_,x,L,k,N,A,M=e.stateCode,I=Digit.ULBService.getCurrentTenantId(),U=l.useTranslation().t,O=t.useState(function(){var e=function(){var e,t,n,l,a,i=Digit.SessionStorage.get(At),r=null!=i&&null!==(e=i.range)&&void 0!==e&&e.startDate?new Date(null==i||null===(t=i.range)||void 0===t?void 0:t.startDate):Digit.Utils.dss.getDefaultFinacialYear().startDate,o=null!=i&&null!==(n=i.range)&&void 0!==n&&n.endDate?new Date(null==i||null===(l=i.range)||void 0===l?void 0:l.endDate):Digit.Utils.dss.getDefaultFinacialYear().endDate;return{startDate:r,endDate:o,title:pe(r,"MMM d, yyyy")+" - "+pe(o,"MMM d, yyyy"),interval:Digit.Utils.dss.getDuration(r,o),denomination:(null==i?void 0:i.denomination)||"Lac",tenantId:(null==i||null===(a=i.filters)||void 0===a?void 0:a.tenantId)||[],moduleLevel:(null==i?void 0:i.moduleLevel)||""}}(),t=e.startDate,n=e.endDate,l=e.title,a=e.interval,i=e.tenantId,r=e.moduleLevel;return{denomination:e.denomination,range:{startDate:t,endDate:n,title:l,interval:a},requestDate:{startDate:t.getTime(),endDate:n.getTime(),interval:a,title:l},filters:{tenantId:i},moduleLevel:r}}),F=O[0],R=O[1],B=t.useState(!1),P=B[0],H=B[1],z=be(),W=i.useParams().moduleCode,j=Digit.StoreData.getCurrentLanguage(),K=Digit.Services.useStore({stateCode:M,moduleCode:W,language:j}).isLoading,V=Digit.Hooks.dss.useMDMS(M,"dss-dashboard","DssDashboard",{select:function(e){for(var t=null==e?void 0:e["dss-dashboard"]["dashboard-config"][0].MODULE_LEVEL,n=[],l=0;l<t.length;l++)null!==t[l].dashboard&&n.push(t[l]);return n.map(function(e,t){return{code:e[Object.keys(e)[0]].filterKey,name:Digit.Utils.locale.getTransformedLocale("DSS_"+e[Object.keys(e)[0]].services_name)}})}}),q=V.data,Y=V.isLoading,G=Digit.Hooks.dss.useMDMS(M,"tenant",["nationalInfo"],{select:function(e){var t,n=((null==e||null===(t=e.tenant)||void 0===t?void 0:t.nationalInfo)||[]).reduce(function(e,t){return e[t.stateCode]?e[t.stateCode].push(t):e[t.stateCode]=[t],c({},e)},{}),l={ddr:[],ulb:[]};return Object.keys(n).map(function(e){var t,a,i=null===(t=n[e])||void 0===t?void 0:t[0].stateName;l.ddr.push({code:e,ddrKey:i,ulbKey:i}),(a=l.ulb).push.apply(a,n[e].map(function(e){return{code:e.code,ulbKey:e.name,ddrKey:e.stateName}}))}),l},enabled:z}),X=G.data,Q=G.isLoadingNAT,J=Digit.Hooks.dss.useDashboardConfig(W),Z=J.data,$=J.isLoading,ee=Digit.Hooks.useModuleTenants("DSS"),te=ee.data,ne=ee.isLoading,le=Digit.Hooks.useCommonMDMS(M,"FSM","FSTPPlantInfo"),ae=le.isLoading,ie=le.data,re=t.useState(!1),oe=re[0],ue=re[1],se=t.useState(!1),de=se[0],ce=se[1],ve=t.useState(""),me=ve[0],fe=ve[1],ge=function(e){Digit.SessionStorage.set(At,e),R(e)},he=t.useRef(),De=t.useMemo(function(){return{value:F,setValue:ge,ulbTenants:z?X:te,fstpMdmsData:ie,screenConfig:q}},[F,ne,ae,Y]),Ee=window.Digit.Utils.browser.isMobile(),ye=function(){var e;return Digit.Download.PDF(he,U(null==_e||null===(e=_e[0])||void 0===e?void 0:e.name))},Se=function(e){var t;ge(c({},F,{filters:c({},null==F?void 0:F.filters,{tenantId:[].concat(null==F||null===(t=F.filters)||void 0===t?void 0:t.tenantId).filter(function(t,n){return n!==e})})}))},we=function(e){var t,n,l=[].concat(null==F||null===(t=F.filters)||void 0===t?void 0:t.state).filter(function(t,n){return n!==e}),a=(null==F||null===(n=F.filters)||void 0===n?void 0:n.ulb)||[];if(0==(null==l?void 0:l.length))a=[];else{var i,r,o=null==X||null===(i=X.ulb)||void 0===i||null===(r=i.filter(function(e){return Digit.Utils.dss.getCitiesAvailable(e,l)}))||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.code});a=a.filter(function(e){return o.includes(e)})}ge(c({},F,{filters:c({},null==F?void 0:F.filters,{state:l,ulb:a})}))},Ce=function(e){var t;ge(c({},F,{filters:c({},null==F?void 0:F.filters,{ulb:[].concat(null==F||null===(t=F.filters)||void 0===t?void 0:t.ulb).filter(function(t,n){return n!==e})})}))},_e=null==Z?void 0:Z.responseData,xe=(null==_e||null===(r=_e[0])||void 0===r||null===(o=r.visualizations)||void 0===o?void 0:o.reduce(function(e,t){return e[t.name]=0,c({},e)},{}))||{},Ae=Object.keys(xe).map(function(e){return e});t.useEffect(function(){(null==Ae?void 0:Ae.length)>0&&""==me&&fe(Ae[0])},[Ae]);var Me=[{icon:n.createElement(a.EmailIcon,null),label:U("ES_DSS_SHARE_IMAGE"),onClick:function(){ue(!oe),setTimeout(function(){var e;return Digit.ShareFiles.DownloadImage(I,he,U(null==_e||null===(e=_e[0])||void 0===e?void 0:e.name),"mail")},500)}},{icon:n.createElement(a.WhatsappIcon,null),label:U("ES_DSS_SHARE_IMAGE"),onClick:function(){ue(!oe),setTimeout(function(){var e;return Digit.ShareFiles.DownloadImage(I,he,U(null==_e||null===(e=_e[0])||void 0===e?void 0:e.name),"whatsapp")},500)}}];return $||ne||K||ae||Q||Y?n.createElement(a.Loader,null):n.createElement(Te.Provider,{value:De},n.createElement("div",{ref:he,id:"divToPrint"},n.createElement("div",{className:"options"},n.createElement(a.Header,{styles:Ee?{marginLeft:"0px",whiteSpace:"pre-line"}:{marginBottom:"0px",whiteSpace:"pre"}},U(null==_e||null===(u=_e[0])||void 0===u?void 0:u.name)),Ee?null:n.createElement("div",{className:"divToBeHidden",style:{marginRight:"1.5rem"}},n.createElement("div",{className:"mrlg divToBeHidden"},n.createElement(a.MultiLink,{className:"multilink-block-wrapper divToBeHidden",label:U("ES_DSS_SHARE"),icon:n.createElement(a.ShareIcon,{className:"mrsm",fill:"#f18f5e"}),setShowOptions:ue,onHeadClick:function(e){ue(!oe)},displayOptions:oe,options:Me})),n.createElement("div",{className:"mrsm divToBeHidden icon-label-download",onClick:ye},n.createElement(a.DownloadIcon,{fill:"#f18f5e",className:"mrsm divToBeHidden"}),n.createElement("p",null,U("ES_DSS_DOWNLOAD"))))),z?n.createElement(Ne,{t:U,ulbTenants:X,isOpen:P,closeFilters:function(){return H(!1)},isNational:z}):"CustomFilter"==(null===(s=_e[0])||void 0===s?void 0:s.filter)&&null!==(d=_e[0])&&void 0!==d&&d.filterConfig?n.createElement(ke,{t:U,filterConfig:null===(v=_e[0])||void 0===v?void 0:v.filterConfig,isOpen:P,closeFilters:function(){return H(!1)}}):n.createElement(Le,{t:U,showModuleFilter:!(z||null==_e||null===(m=_e[0])||void 0===m||!m.name.includes("OVERVIEW")),services:q,ulbTenants:z?X:te,isOpen:P,closeFilters:function(){return H(!1)},isNational:z,showDateRange:null==_e||null===(f=_e[0])||void 0===f||!f.name.includes("DSS_FINANCE_DASHBOARD")}),(null==F||null===(g=F.filters)||void 0===g||null===(p=g.tenantId)||void 0===p?void 0:p.length)>0&&n.createElement("div",{className:"tag-container"},!de&&(null==F||null===(h=F.filters)||void 0===h?void 0:h.tenantId)&&F.filters.tenantId.slice(0,5).map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:U("DSS_HEADER_ULB")+": "+U(e),onClick:function(){return Se(t)}})}),(null==F||null===(D=F.filters)||void 0===D||null===(E=D.tenantId)||void 0===E?void 0:E.length)>6&&n.createElement(t.Fragment,null,de&&F.filters.tenantId.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:U("DSS_HEADER_ULB")+": "+U(e),onClick:function(){return Se(t)}})}),!de&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return ce(!0)}},U("DSS_FILTER_SHOWALL")),de&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return ce(!1)}},U("DSS_FILTER_SHOWLESS"))),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){ge(c({},F,{filters:c({},null==F?void 0:F.filters,{tenantId:[]})}))}},U("DSS_FILTER_CLEAR"))),(null==F||null===(y=F.filters)||void 0===y||null===(S=y.state)||void 0===S?void 0:S.length)>0&&n.createElement("div",{className:"tag-container"},!de&&(null==F||null===(w=F.filters)||void 0===w?void 0:w.state)&&F.filters.state.slice(0,5).map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:U("DSS_HEADER_STATE")+": "+U("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return we(t)}})}),(null==F||null===(b=F.filters)||void 0===b||null===(T=b.state)||void 0===T?void 0:T.length)>6&&n.createElement(t.Fragment,null,de&&F.filters.state.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:U("DSS_HEADER_STATE")+": "+U("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return we(t)}})}),!de&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return ce(!0)}},U("DSS_FILTER_SHOWALL")),de&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return ce(!1)}},U("DSS_FILTER_SHOWLESS"))),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){ge(c({},F,{filters:c({},null==F?void 0:F.filters,{state:[],ulb:[]})}))}},U("DSS_FILTER_CLEAR_ST"))),(null==F||null===(C=F.filters)||void 0===C||null===(_=C.ulb)||void 0===_?void 0:_.length)>0&&n.createElement("div",{className:"tag-container"},!de&&(null==F||null===(x=F.filters)||void 0===x?void 0:x.ulb)&&F.filters.ulb.slice(0,5).map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:U("DSS_HEADER_ULB")+": "+U("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return Ce(t)}})}),(null==F||null===(L=F.filters)||void 0===L||null===(k=L.ulb)||void 0===k?void 0:k.length)>6&&n.createElement(t.Fragment,null,de&&F.filters.ulb.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:U("DSS_HEADER_ULB")+": "+U("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return Ce(t)}})}),!de&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return ce(!0)}},U("DSS_FILTER_SHOWALL")),de&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return ce(!1)}},U("DSS_FILTER_SHOWLESS"))),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){ge(c({},F,{filters:c({},null==F?void 0:F.filters,{ulb:[]})}))}},U("DSS_FILTER_CLEAR_TN"))),(null==F||null===(N=F.moduleLevel)||void 0===N?void 0:N.length)>0&&n.createElement("div",{className:"tag-container"},!de&&(null==F?void 0:F.moduleLevel)&&n.createElement(a.RemoveableTag,{key:null==F?void 0:F.moduleLevel,text:U("DSS_HEADER_SERVICE")+": "+U(null==F?void 0:F.moduleLevel),onClick:function(){ge(c({},F,{moduleLevel:""}))}}),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){ge(c({},F,{moduleLevel:""}))}},U("DSS_FILTER_CLEAR"))),Ee?n.createElement("div",{className:"options-m"},n.createElement("div",null,n.createElement(a.FilterIcon,{onClick:function(){return H(!P)},style:!0})),n.createElement("div",{className:"divToBeHidden"},n.createElement(a.MultiLink,{className:"multilink-block-wrapper",label:U("ES_DSS_SHARE"),icon:n.createElement(a.ShareIcon,{className:"mrsm",fill:"#f18f5e"}),onHeadClick:function(e){ue(!oe)},displayOptions:oe,options:Me})),n.createElement("div",{onClick:ye,className:"divToBeHidden icon-label-download"},n.createElement(a.DownloadIcon,{fill:"#f18f5e"}),U("ES_DSS_DOWNLOAD"))):null,n.createElement("div",null,Ae&&(null==Ae?void 0:Ae.length)>1&&n.createElement("div",{className:"dss-switch-tabs chart-row"},n.createElement("div",{className:"dss-switch-tab-wrapper"},null==Ae?void 0:Ae.map(function(e){return n.createElement("div",{className:me===e?"dss-switch-tab-selected":"dss-switch-tab-unselected",onClick:function(){return fe(e)}},U(e))})))),null==_e||null===(A=_e[0])||void 0===A?void 0:A.visualizations.filter(function(e){return e.name===me}).map(function(e,t){return n.createElement(Nt,{rowData:e,key:t})})))};function It(){return(It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Ut(e){return t.createElement("svg",It({width:41,height:35,viewBox:"-5 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),et||(et=t.createElement("path",{d:"M16.4 34.85v-12.3h8.2v12.3h10.25v-16.4H41L20.5 0 0 18.45h6.15v16.4H16.4z",fill:"#fff"})))}function Ot(){return(Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Ft(e){return t.createElement("svg",Ot({width:64,height:64,viewBox:"0 0 64 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),tt||(tt=t.createElement("g",{filter:"url(#dashboards_svg__filter0_d_28723_79449)"},t.createElement("path",{d:"M4 4a4 4 0 014-4h48a4 4 0 014 4v48a4 4 0 01-4 4H8a4 4 0 01-4-4V4z",fill:"#F47738"}),t.createElement("path",{d:"M48.333 7H15.667A4.68 4.68 0 0011 11.667v32.666A4.68 4.68 0 0015.667 49h32.666A4.68 4.68 0 0053 44.333V11.667A4.68 4.68 0 0048.333 7zM25 39.667h-4.667V23.333H25v16.334zm9.333 0h-4.666V16.333h4.666v23.334zm9.334 0H39v-9.334h4.667v9.334z",fill:"#fff"}))),nt||(nt=t.createElement("defs",null,t.createElement("filter",{id:"dashboards_svg__filter0_d_28723_79449",x:0,y:0,width:64,height:64,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:2}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_28723_79449"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_28723_79449",result:"shape"})))))}function Rt(){return(Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Bt(e){return t.createElement("svg",Rt({width:41,height:35,viewBox:"-8 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),lt||(lt=t.createElement("path",{d:"M31.168.75H3.835c-1.88 0-3.4 1.688-3.4 3.75L.418 38.25l6.833-7.5h23.917c1.88 0 3.417-1.688 3.417-3.75V4.5c0-2.063-1.538-3.75-3.417-3.75zM19.21 17.625h-3.417V6.375h3.417v11.25zm0 7.5h-3.417v-3.75h3.417v3.75z",fill:"#fff"})))}function Pt(){return(Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Ht(e){return t.createElement("svg",Pt({width:41,height:35,viewBox:"-10 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),at||(at=t.createElement("path",{d:"M23.992 11L14.457.406 4.922 11C2.294 13.925.98 17.825.98 21.575c0 3.75 1.314 7.706 3.942 10.631s6.082 4.406 9.535 4.406c3.454 0 6.907-1.48 9.535-4.406 2.628-2.925 3.942-6.881 3.942-10.631S26.62 13.925 23.992 11zM4.35 22.25c.017-3.75 1.044-6.131 2.965-8.25l7.142-8.119 7.143 8.213c1.92 2.1 2.948 4.406 2.965 8.156H4.35z",fill:"#fff"})))}function zt(){return(zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Wt(e){return t.createElement("svg",zt({xmlns:"http://www.w3.org/2000/svg",fill:"#fff",width:84,height:84,viewBox:"4 -4 15 30"},e),it||(it=t.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),rt||(rt=t.createElement("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})))}function jt(){return(jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Kt(e){return t.createElement("svg",jt({width:41,height:35,viewBox:"-5 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ot||(ot=t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5.625h-30a3.761 3.761 0 00-3.75 3.75v26.25a3.761 3.761 0 003.75 3.75h30a3.761 3.761 0 003.75-3.75V4.375A3.761 3.761 0 0034.5.625zm-18.75 26.25H6.375v-3.75h9.375v3.75zm0-7.5H6.375v-3.75h9.375v3.75zm0-7.5H6.375v-3.75h9.375v3.75zm9.038 11.25L19.5 17.8l2.644-2.644 2.644 2.663 5.943-5.944 2.663 2.662-8.606 8.588z",fill:"#fff"})))}function Vt(){return(Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function qt(e){return t.createElement("svg",Vt({width:41,height:35,viewBox:"-8 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ut||(ut=t.createElement("path",{d:"M34.375 28.75v1.875a3.761 3.761 0 01-3.75 3.75H4.375a3.749 3.749 0 01-3.75-3.75V4.375a3.749 3.749 0 013.75-3.75h26.25a3.761 3.761 0 013.75 3.75V6.25H17.5A3.749 3.749 0 0013.75 10v15a3.749 3.749 0 003.75 3.75h16.875zM17.5 25h18.75V10H17.5v15zm7.5-4.688a2.809 2.809 0 01-2.813-2.812A2.809 2.809 0 0125 14.687a2.809 2.809 0 012.813 2.813A2.809 2.809 0 0125 20.313z",fill:"#fff"})))}function Yt(){return(Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Gt(e){return t.createElement("svg",Yt({width:41,height:37,viewBox:"-5 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),st||(st=t.createElement("path",{d:"M20.501 8.708V.875H.918v35.25h39.167V8.708H20.5zm-11.75 23.5H4.835v-3.916H8.75v3.916zm0-7.833H4.835v-3.917H8.75v3.917zm0-7.833H4.835v-3.917H8.75v3.917zm0-7.834H4.835V4.792H8.75v3.916zm7.834 23.5h-3.917v-3.916h3.917v3.916zm0-7.833h-3.917v-3.917h3.917v3.917zm0-7.833h-3.917v-3.917h3.917v3.917zm0-7.834h-3.917V4.792h3.917v3.916zm19.583 23.5H20.501v-3.916h3.917v-3.917h-3.917v-3.917h3.917v-3.916h-3.917v-3.917h15.667v19.583zm-3.917-15.666h-3.916v3.916h3.916v-3.916zm0 7.833h-3.916v3.917h3.916v-3.917z",fill:"#fff"})))}function Xt(){return(Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Qt(e){return t.createElement("svg",Xt({width:41,height:35,viewBox:"-8 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dt||(dt=t.createElement("path",{d:"M30.854 8.25h-6.738V4.5c0-2.081-1.5-3.75-3.37-3.75h-6.738c-1.87 0-3.37 1.669-3.37 3.75v3.75H3.9C2.03 8.25.548 9.919.548 12L.531 32.625c0 2.081 1.5 3.75 3.37 3.75h26.953c1.87 0 3.37-1.669 3.37-3.75V12c0-2.081-1.5-3.75-3.37-3.75zm-10.107 0h-6.739V4.5h6.739v3.75z",fill:"#fff"})))}function Jt(){return(Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function Zt(e){return t.createElement("svg",Jt({width:41,height:35,viewBox:"-5 -2 51 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ct||(ct=t.createElement("path",{d:"M20.501 8.708V.875H.918v35.25h39.167V8.708H20.5zm-11.75 23.5H4.835v-3.916H8.75v3.916zm0-7.833H4.835v-3.917H8.75v3.917zm0-7.833H4.835v-3.917H8.75v3.917zm0-7.834H4.835V4.792H8.75v3.916zm7.834 23.5h-3.917v-3.916h3.917v3.916zm0-7.833h-3.917v-3.917h3.917v3.917zm0-7.833h-3.917v-3.917h3.917v3.917zm0-7.834h-3.917V4.792h3.917v3.916zm19.583 23.5H20.501v-3.916h3.917v-3.917h-3.917v-3.917h3.917v-3.916h-3.917v-3.917h15.667v19.583zm-3.917-15.666h-3.916v3.916h3.916v-3.916zm0 7.833h-3.916v3.917h3.916v-3.917z",fill:"#fff"})))}function $t(){return($t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function en(e){return t.createElement("svg",$t({width:45,height:35,viewBox:"-8 0 51 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),vt||(vt=t.createElement("path",{d:"M26.75.75H4.25A3.761 3.761 0 00.5 4.5v30a3.761 3.761 0 003.75 3.75h22.5a3.761 3.761 0 003.75-3.75v-30A3.761 3.761 0 0026.75.75zM4.25 4.5h9.375v15l-4.688-2.813L4.25 19.5v-15z",fill:"#fff"})))}function tn(){return(tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function nn(e){return t.createElement("svg",tn({width:34,height:25,viewBox:"-1 0 34 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),mt||(mt=t.createElement("path",{d:"M27.168.833H3.835A2.894 2.894 0 00.933 3.75l-.015 17.5a2.907 2.907 0 002.917 2.917h23.333a2.907 2.907 0 002.917-2.917V3.75A2.907 2.907 0 0027.168.833zm0 20.417H3.835V12.5h23.333v8.75zm0-14.583H3.835V3.75h23.333v2.917z",fill:"#fff"})))}function ln(e,t){switch(e.toLowerCase()){case"overview":case"dss_overview":return n.createElement(Ft,null);case"fsm":case"dss_fsm":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Wt,null));case"obps dashboard":case"obps dashboard":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Gt,null));case"online building plan approval system":case"dss_obps_overview":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Zt,null));case"nurt_overview":case"nurt_project_staus":return n.createElement(Ft,null);case"nurt_property_tax":case"dss_property_tax":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Ut,null));case"nurt_trade_licence":case"dss_trade_licence":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Qt,null));case"nurt_complains":case"dss_complains":case"public grievances & redressal":case"dss_pgr_overview":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Bt,null));case"nurt_water_sewerage":case"dss_water_sewerage":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Ht,null));case"dss_building_permission":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Zt,null));case"nurt_firenoc":case"fire noc dashboard":case"fire noc":case"dss_firenoc_overview":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(Kt,null));case"nurt_mcollect":case"dss_mcollect":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(qt,null));case"dss_finance":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(nn,null));case"nurt_live_active_ulbs":return n.createElement(Ft,null);case"dss_birth_death":case"nss_birth_death":case"nurt_birth":case"nurt_death":case"nurt_bnd":return n.createElement("div",{style:{background:t,width:"60 px",height:"52px"}},n.createElement(en,null));default:return n.createElement("div",null)}}var an,rn={scale:320,center:[85.9629,22.5937]},on=["#54D140","#298CFF","#F47738","#D1D1D1"],un=["Live","UnderImplementation","OnBoarded","None"],sn=function(e){if(e)switch(e&&e.status){case"Live":return on[0];case"OnBoarded":return on[1];case"UnderImplementation":return on[2];case"None":default:return"#D1D1D1"}return"#D1D1D1"},dn={default:{outline:"none",stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.9"},hover:{outline:"none",stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.9"},pressed:{outline:"none",stroke:"white",strokeWidth:"0.5",strokeOpacity:"0.9"}},cn=function(e){var i,r=e.data,v=e.setselectedState,m=e.setdrilldownId,f=e.settotalCount,g=e.setliveCount,p=l.useTranslation().t,h=r.id,D=Digit.ULBService.getCurrentTenantId(),E=t.useState(""),y=E[0],S=E[1],w=function(){var e,t,n,l,a,i=Digit.SessionStorage.get("DSS_FILTERS"),r=null!=i&&null!==(e=i.range)&&void 0!==e&&e.startDate?new Date(null==i||null===(t=i.range)||void 0===t?void 0:t.startDate):Digit.Utils.dss.getDefaultFinacialYear().startDate,o=null!=i&&null!==(n=i.range)&&void 0!==n&&n.endDate?new Date(null==i||null===(l=i.range)||void 0===l?void 0:l.endDate):Digit.Utils.dss.getDefaultFinacialYear().endDate;return{startDate:r,endDate:o,title:pe(r,"MMM d, yyyy")+" - "+pe(o,"MMM d, yyyy"),interval:Digit.Utils.dss.getDuration(r,o),denomination:(null==i?void 0:i.denomination)||"Lac",tenantId:(null==i||null===(a=i.filters)||void 0===a?void 0:a.tenantId)||[]}}(),b=w.endDate,T=w.interval,C={startDate:w.startDate.getTime(),endDate:b.getTime(),interval:T,title:"home"},_=Digit.Hooks.dss.useMDMS(Digit.ULBService.getStateId(),"dss-dashboard",["dashboard-config"],{select:function(e){var t,n,l,a;return(null==e||null===(t=e["dss-dashboard"])||void 0===t||null===(n=t["dashboard-config"])||void 0===n||null===(l=n[0])||void 0===l||null===(a=l.MAP_CONFIG)||void 0===a?void 0:a[0])||{}},enabled:!0}),x=_.data,L=_.isLoading,k=Digit.Hooks.dss.useGetChart({key:h,type:"metric",tenantId:D,requestDate:C}),N=k.isLoading,A=k.data,M=null===(i=d.get(x,"objects.india.geometries",[]))||void 0===i?void 0:i.map(function(e){return{state:e.properties.name,value:0,id:e.id}}),I=(null==M?void 0:M.reduce(function(e,t){return e[t.state]=c({},t),c({},e)},{}))||{};return N||L?n.createElement(a.Loader,null):n.createElement(o.ResponsiveContainer,{width:"40%",height:220,margin:{top:5,right:5,left:5,bottom:5}},n.createElement("div",{style:{position:"relative"}},n.createElement(u,null,y),n.createElement(s.ComposableMap,{projectionConfig:rn,projection:"geoMercator",width:240,height:170,"data-tip":""},n.createElement(s.Geographies,{geography:x},function(e){return e.geographies.map(function(e){var t=Object.values(I).find(function(t){return t.id===e.id});return n.createElement(s.Geography,{key:e.rsmKey,geography:e,fill:sn(t),style:dn,onMouseEnter:function(n){return function(e,t,n){return void 0===t&&(t={value:"0"}),S(p(""+e.properties.name)+": "+(t.value?Number(t.value).toFixed()+" ULBs":"NA")+" ")}(e,t)},onClick:function(e){return function(e,t,n){var l;void 0===t&&(t={value:"NA"}),t&&t.value>0&&"Live"===t.status&&v(t.state),m(null==A||null===(l=A.responseData)||void 0===l?void 0:l.drillDownChartId),f(t.totalCount),g(t.liveCount)}(0,t)},onMouseLeave:function(e){S("")}})})})),n.createElement("span",{className:"map-status"},un.map(function(e){return n.createElement("span",{className:"map-row"},n.createElement("span",{className:"map-box",style:{background:sn({status:e})}}),n.createElement("span",{className:"map-text"},p("DSS_"+e.toUpperCase())))}))))},vn=function(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",onClick:e.onClick,xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M16 7H3.83L9.42 1.41L8 0L0 8L8 16L9.41 14.59L3.83 9H16V7Z",fill:"#0B0C0C"}))},mn=function(e){var t,i=e.selectedState,r=e.setselectedState,u=e.drilldownId,s=e.setdrilldownId,d=e.setTotalCount,v=e.setLiveCount,m=l.useTranslation().t,f=Digit.ULBService.getCurrentTenantId(),g={};""!=i&&(g.state=i),g=c({},g);var p=function(){var e,t,n,l,a,i=Digit.SessionStorage.get("DSS_FILTERS"),r=null!=i&&null!==(e=i.range)&&void 0!==e&&e.startDate?new Date(null==i||null===(t=i.range)||void 0===t?void 0:t.startDate):Digit.Utils.dss.getDefaultFinacialYear().startDate,o=null!=i&&null!==(n=i.range)&&void 0!==n&&n.endDate?new Date(null==i||null===(l=i.range)||void 0===l?void 0:l.endDate):Digit.Utils.dss.getDefaultFinacialYear().endDate;return{startDate:r,endDate:o,title:pe(r,"MMM d, yyyy")+" - "+pe(o,"MMM d, yyyy"),interval:Digit.Utils.dss.getDuration(r,o),denomination:(null==i?void 0:i.denomination)||"Lac",tenantId:(null==i||null===(a=i.filters)||void 0===a?void 0:a.tenantId)||[]}}(),h=p.endDate,D=p.interval,E={startDate:p.startDate.getTime(),endDate:h.getTime(),interval:D,title:"home"},y=Digit.Hooks.dss.useGetChart({key:u,type:"metric",tenantId:f,requestDate:E,filters:g}),S=y.data;if(y.isLoading)return n.createElement(a.Loader,null);var w=null==S||null===(t=S.responseData)||void 0===t?void 0:t.data;return n.createElement(o.ResponsiveContainer,{width:"50%",height:240,margin:{top:5,right:5,left:5,bottom:5}},n.createElement("div",null," ",n.createElement("div",{style:{float:"left"}},n.createElement(vn,{onClick:function(e){r(""),s("none"),d(""),v("")}})),w&&0==w.length&&n.createElement("div",{style:{paddingTop:"60px"}},m("DSS_NO_DATA")),w&&w[0]&&n.createElement("span",{className:"tab-rows tab-header"},n.createElement("span",null,m("DSS_"+w[0].plots[1].name)),n.createElement("span",null,m("DSS_"+w[0].plots[2].name))),w.map(function(e,t){return n.createElement("span",{className:"tab-rows",style:{background:t%2==0?"none":"#EEEEEE"}},n.createElement("span",null,m("DSS_"+e.plots[1].label)),n.createElement("span",null,e.plots[2].value))})))};function fn(){return(fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function gn(e){return t.createElement("svg",fn({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),an||(an=t.createElement("path",{d:"M8 0L6.59 1.41 12.17 7H0v2h12.17l-5.58 5.59L8 16l8-8-8-8z",fill:"#F47738"})))}var pn=function(){var e,t,n,l,a,i=Digit.SessionStorage.get("DSS_FILTERS"),r=null!=i&&null!==(e=i.range)&&void 0!==e&&e.startDate?new Date(null==i||null===(t=i.range)||void 0===t?void 0:t.startDate):Digit.Utils.dss.getDefaultFinacialYear().startDate,o=null!=i&&null!==(n=i.range)&&void 0!==n&&n.endDate?new Date(null==i||null===(l=i.range)||void 0===l?void 0:l.endDate):Digit.Utils.dss.getDefaultFinacialYear().endDate;return{startDate:r,endDate:o,title:pe(r,"MMM d, yyyy")+" - "+pe(o,"MMM d, yyyy"),interval:Digit.Utils.dss.getDuration(r,o),denomination:(null==i?void 0:i.denomination)||"Lac",tenantId:(null==i||null===(a=i.filters)||void 0===a?void 0:a.tenantId)||[]}},hn=[{dark:"rgba(12, 157, 149, 0.85)",light:"rgba(11, 222, 133, 0.14)"},{dark:"rgba(251, 192, 45, 0.85)",light:"rgba(255, 202, 69, 0.24)"},{dark:"rgba(75, 31, 165, 0.85)",light:"rgba(138, 83, 255, 0.24)"},{dark:"rgba(4, 139, 208, 0.85)",light:"rgba(4, 139, 208, 0.24)"},{dark:"rgba(239, 124, 91, 0.85)",light:"rgba(255, 114, 69, 0.24)"},{dark:"rgba(81, 210, 198, 0.85)",light:"rgba(83, 255, 234, 0.14)"},{dark:"rgba(183, 165, 69, 0.85)",light:"rgba(222, 188, 11, 0.24)"},{dark:"rgba(110, 132, 89, 1)",light:"rgba(159, 255, 83, 0.24)"},{dark:"rgba(120, 120, 120, 0.85)",light:"rgb(120,120,120,0.35)"},{dark:"rgba(183, 165, 69, 0.85)",light:"rgba(222, 188, 11, 0.24)"},{dark:"rgba(183, 165, 69, 0.85)",light:"rgba(222, 188, 11, 0.24)"}],Dn=function(e){var t,i,r,o,u,s,d,c,v,m,f,g,p,h,D,E,y,S,w,b,T,C,_,x,L=e.data,k=e.moduleLevel,N=e.overview,A=void 0!==N&&N,M=l.useTranslation().t,I=Digit.ULBService.getCurrentTenantId(),U=L.id,O=L.chartType,F=pn(),R=F.endDate,B=F.interval,P={startDate:F.startDate.getTime(),endDate:R.getTime(),interval:B,title:"home"},H=Digit.Hooks.dss.useGetChart({key:U,type:O,tenantId:I,requestDate:P,moduleLevel:k}),z=H.data;if(H.isLoading)return n.createElement(a.Loader,null);var W=null==z||null===(t=z.responseData)||void 0===t||null===(i=t.data)||void 0===i||null===(r=i[0])||void 0===r||null===(o=r.insight)||void 0===o||null===(u=o.value)||void 0===u||null===(s=u.replace(/[+-]/g,""))||void 0===s?void 0:s.split("%");return n.createElement("div",{className:"dss-insight-card",style:A?{}:{margin:"0px"}},n.createElement("div",{className:"tooltip"},n.createElement("p",{className:"p1"},M(null==L?void 0:L.name)),n.createElement("span",{className:"tooltiptext",style:{width:M("TIP_"+L.name).length<40?"max-content":"fit-content",height:M("TIP_"+L.name).length<40?"fit-content":"max-content",whiteSpace:"normal"}},n.createElement("span",{style:{fontSize:"14px",fontWeight:"400px",color:"white"}},M("TIP_"+L.name)))),n.createElement("p",{className:"p2"},Digit.Utils.dss.formatter(null==z||null===(d=z.responseData)||void 0===d||null===(c=d.data)||void 0===c||null===(v=c[0])||void 0===v?void 0:v.headerValue,null==z||null===(m=z.responseData)||void 0===m||null===(f=m.data)||void 0===f||null===(g=f[0])||void 0===g?void 0:g.headerSymbol,"Lac",!0,M)),null!=z&&null!==(p=z.responseData)&&void 0!==p&&null!==(h=p.data)&&void 0!==h&&null!==(D=h[0])&&void 0!==D&&null!==(E=D.insight)&&void 0!==E&&E.value?n.createElement("p",{className:"p3 "+("upper_green"===(null==z||null===(y=z.responseData)||void 0===y||null===(S=y.data)||void 0===S||null===(w=S[0])||void 0===w||null===(b=w.insight)||void 0===b?void 0:b.indicator)?"color-green":"color-red")},"upper_green"===(null==z||null===(T=z.responseData)||void 0===T||null===(C=T.data)||void 0===C||null===(_=C[0])||void 0===_||null===(x=_.insight)||void 0===x?void 0:x.indicator)?$e("10px"):Qe("10px"),(null==W?void 0:W[0])&&W[0]+"% "+M(Digit.Utils.locale.getTransformedLocale("DSS"+(null==W?void 0:W[1])||""))):null)},En=function(e){var i,r,u=e.data,s=e.setselectState,d=void 0===s?"":s,v=["#298CFF","#54D140"],m=l.useTranslation().t,f=Digit.ULBService.getCurrentTenantId(),g=u.id,p=u.chartType,h={};""!==d&&(h.state=d),h=c({},h);var D=pn(),E=D.endDate,y=D.interval,S={startDate:D.startDate.getTime(),endDate:E.getTime(),interval:y,title:"home"},w=Digit.Hooks.dss.useGetChart({key:g,type:p,tenantId:f,requestDate:S,filters:h}),b=w.isLoading,T=w.data,C=t.useMemo(function(){var e;return function(e){for(var t={},n=0;n<(null==e?void 0:e.length);n++)for(var l=e[n],a=0;a<l.plots.length;a++){var i,r=l.plots[a];t[r.name]=c({},t[r.name],((i={})[m(l.headerName)]=null==r?void 0:r.value,i.name=m(r.name),i))}return Object.keys(t).map(function(e){return c({name:e},t[e])})}(null==T||null===(e=T.responseData)||void 0===e?void 0:e.data)});if(b)return n.createElement(a.Loader,null);var _=null==T||null===(i=T.responseData)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.headerName});return n.createElement(o.ResponsiveContainer,{width:"50%",height:480,margin:{top:5,right:5,left:5,bottom:5}},0!==(null==C?void 0:C.length)&&C?n.createElement(o.BarChart,{width:"100%",height:"100%",margin:{top:5,right:5,left:5,bottom:5},layout:"horizontal",data:C,barGap:12,barSize:30},n.createElement(o.CartesianGrid,{strokeDasharray:"2 2"}),n.createElement(o.YAxis,{dataKey:"",type:"number",tick:{fontSize:"12px",fill:"#505A5F"},label:{value:"",angle:-90,position:"insideLeft",dy:50,fontSize:"12px",fill:"#505A5F"},tickCount:10,unit:"",width:130}),n.createElement(o.XAxis,{dataKey:"name",type:"category",tick:{fontSize:"14px",fill:"#505A5F"},tickCount:10}),null==_?void 0:_.map(function(e,t){return n.createElement(o.Bar,{key:t,dataKey:m(e),fill:v[t],stackId:(null==_?void 0:_.length)>2?1:t})}),n.createElement(o.Legend,{formatter:function(e){return n.createElement("span",{style:{fontSize:"14px",color:"#505A5F"}},m("DSS_"+Digit.Utils.locale.getTransformedLocale(e)))},iconType:"circle"}),n.createElement(o.Tooltip,{cursor:!1})):n.createElement(Ae,{t:m}))},yn=function(e){var r,o,u=e.stateCode,s=Digit.ULBService.getCurrentTenantId(),d=l.useTranslation().t,c=t.useState(function(){}),v=c[0],m=c[1],f=i.useParams().moduleCode,g=Digit.StoreData.getCurrentLanguage(),p=Digit.Services.useStore({stateCode:u,moduleCode:f,language:g}).isLoading,h=Digit.Hooks.dss.useDashboardConfig(f),D=h.data,E=h.isLoading,y=t.useState(!1),S=y[0],w=y[1],b=t.useState(""),T=b[0],C=b[1],_=t.useState("none"),x=_[0],L=_[1],k=t.useState(""),N=k[0],A=k[1],M=t.useState(""),I=M[0],U=M[1],O=function(e){Digit.SessionStorage.set("DSS_FILTERS",e),m(e)},F=t.useRef(),R=t.useMemo(function(){return{value:v,setValue:O}},[v]),B=innerWidth<=640,P=function(){var e;return Digit.Download.PDF(F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name))},H=null==D?void 0:D.responseData,z=navigator.share?[{label:d("ES_DSS_SHARE_PDF"),onClick:function(){w(!S),setTimeout(function(){var e;return Digit.ShareFiles.PDF(s,F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name))},500)}},{label:d("ES_DSS_SHARE_IMAGE"),onClick:function(){w(!S),setTimeout(function(){var e;return Digit.ShareFiles.Image(s,F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name))},500)}}]:[{icon:n.createElement(a.EmailIcon,null),label:d("ES_DSS_SHARE_PDF"),onClick:function(){w(!S),setTimeout(function(){var e;return Digit.ShareFiles.PDF(s,F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name),"mail")},500)}},{icon:n.createElement(a.WhatsappIcon,null),label:d("ES_DSS_SHARE_PDF"),onClick:function(){w(!S),setTimeout(function(){var e;return Digit.ShareFiles.PDF(s,F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name),"whatsapp")},500)}},{icon:n.createElement(a.EmailIcon,null),label:d("ES_DSS_SHARE_IMAGE"),onClick:function(){w(!S),setTimeout(function(){var e;return Digit.ShareFiles.Image(s,F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name),"mail")},500)}},{icon:n.createElement(a.WhatsappIcon,null),label:d("ES_DSS_SHARE_IMAGE"),onClick:function(){w(!S),setTimeout(function(){var e;return Digit.ShareFiles.Image(s,F,d(null==H||null===(e=H[0])||void 0===e?void 0:e.name),"whatsapp")},500)}}];return E||p?n.createElement(a.Loader,null):n.createElement(Te.Provider,{value:R},n.createElement("div",{ref:F},n.createElement("div",{className:"options",style:{margin:"10px"}},n.createElement(a.Header,{styles:{marginBottom:"0px"}},d(null==H||null===(r=H[0])||void 0===r?void 0:r.name)),B?null:n.createElement("div",null,n.createElement("div",{className:"mrlg"},n.createElement(a.MultiLink,{className:"multilink-block-wrapper",label:d("ES_DSS_SHARE"),icon:n.createElement(a.ShareIcon,{className:"mrsm",fill:"#f18f5e"}),showOptions:function(e){return w(e)},onHeadClick:function(e){return w(void 0!==e?e:!S)},displayOptions:S,options:z})),n.createElement("div",{className:"mrsm",onClick:P},n.createElement(a.DownloadIcon,{className:"mrsm",fill:"#f18f5e"}),d("ES_DSS_DOWNLOAD")))),B?n.createElement("div",{className:"options-m"},n.createElement("div",null,n.createElement(a.MultiLink,{className:"multilink-block-wrapper",label:d("ES_DSS_SHARE"),icon:n.createElement(a.ShareIcon,{className:"mrsm",fill:"#f18f5e"}),showOptions:function(e){return w(e)},onHeadClick:function(e){return w(void 0!==e?e:!S)},displayOptions:S,options:z})),n.createElement("div",{onClick:P},n.createElement(a.DownloadIcon,{fill:"#f18f5e"}),d("ES_DSS_DOWNLOAD"))):null,null==H||null===(o=H[0])||void 0===o?void 0:o.visualizations.map(function(e,t){return n.createElement("div",{className:"dss-card",key:t},e.vizArray.map(function(t,l){var a,i,r,o,u,s,c,v,m,f,g,p,h,D,E,y,S,w,b,_,k;return"bar"==(null==t||null===(a=t.charts)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.chartType)?null:"map"==(null==t||null===(r=t.charts)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.chartType)?n.createElement("div",{className:"dss-card-parent  "+("collection"==t.vizType?"w-100":t.name.includes("PROJECT_STAUS")||t.name.includes("LIVE_ACTIVE_ULBS")?"dss-h-100":""),style:"collection"==t.vizType?{backgroundColor:"#fff",height:"600px"}:{backgroundColor:hn[l].light},key:l},n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement("div",{className:"dss-card-header"},ln(t.name),n.createElement("p",{style:{marginLeft:"20px"}},d(""===T?t.name:"DSS_TB_"+Digit.Utils.locale.getTransformedLocale(T))),""!=T&&t.name.includes("PROJECT_STAUS")&&n.createElement("span",{style:{fontSize:"14px",display:"block"}},d("DSS_TOTAL_ULBS")," ",Number(N).toFixed()," | ",d("DSS_LIVE_ULBS")," ",Number(I).toFixed())),"map"==(null==t||null===(u=t.charts)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.chartType)&&n.createElement("div",{className:"dss-card-header",style:{width:"45%"}},ln(null===(c=e.vizArray)||void 0===c||null===(v=c[1])||void 0===v?void 0:v.name),n.createElement("p",{style:{marginLeft:"20px",fontSize:"24px",fontFamily:"Roboto, sans-serif",fontWeight:500,color:"#000000"}},d(""===T?null===(m=e.vizArray)||void 0===m||null===(f=m[1])||void 0===f?void 0:f.name:Digit.Utils.locale.getTransformedLocale(T)+"_"+(null===(g=e.vizArray)||void 0===g||null===(p=g[1])||void 0===p?void 0:p.name))))),n.createElement("div",{className:"dss-card-body"},"map"==(null==t||null===(h=t.charts)||void 0===h||null===(D=h[0])||void 0===D?void 0:D.chartType)&&(""!=T?n.createElement(mn,{data:null==t||null===(E=t.charts)||void 0===E?void 0:E[0],selectedState:T,setselectedState:C,drilldownId:x,setdrilldownId:L,setTotalCount:A,setLiveCount:U}):n.createElement(cn,{data:null==t||null===(y=t.charts)||void 0===y?void 0:y[0],setselectedState:C,setdrilldownId:L,settotalCount:A,setliveCount:U})),"map"==(null==t||null===(S=t.charts)||void 0===S||null===(w=S[0])||void 0===w?void 0:w.chartType)&&n.createElement(En,{data:null===(b=e.vizArray)||void 0===b||null===(_=b[1])||void 0===_||null===(k=_.charts)||void 0===k?void 0:k[0],setselectState:T}))):n.createElement("div",{className:"dss-card-parent  "+("collection"==t.vizType?"dss-w-100":t.name.includes("PROJECT_STAUS")||t.name.includes("LIVE_ACTIVE_ULBS")?"h-100":""),style:"collection"==t.vizType||t.name.includes("PROJECT_STAUS")||t.name.includes("LIVE_ACTIVE_ULBS")?{backgroundColor:"#fff"}:{backgroundColor:hn[l].light,padding:"20px"},key:l,onClick:function(){var e,n;return n="/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/dss/dashboard/"+t.ref.url,void(location.href=n)}},n.createElement("div",{style:{justifyContent:"space-between",display:"flex",flexDirection:"row"}},n.createElement("div",{className:"dss-card-header",style:{marginBottom:"10px"}},ln(t.name,hn[l].dark),n.createElement("p",{style:{marginLeft:"20px"}},d(t.name))),"collection"==t.vizType?n.createElement("div",{style:{float:"right",textAlign:"right",color:"#F47738",fontSize:16,fontWeight:"bold",display:"flex",flexDirection:"row"}},n.createElement("span",{style:{paddingRight:10}},d("DSS_OVERVIEW")),n.createElement("span",null," ",n.createElement(gn,null))):null),n.createElement("div",{className:"dss-card-body"},t.charts.map(function(e,l){return n.createElement("div",{style:"collection"==t.vizType?{width:Digit.Utils.browser.isMobile()?"50%":"25%"}:{width:"50%"}},n.createElement(Dn,{data:e,key:l,moduleLevel:t.moduleLevel,overview:"collection"===t.vizType}))})))}))})))},Sn=function(e){var i,r,o,u,s,d,v,m,f,p,h,D,E,y,S,w=e.stateCode,b=t.useState(""),T=b[0],C=b[1],_=Digit.Hooks.useQueryParams(),x=_.chart,L=_.title,k=_.type,N=void 0===k?"table":k,I=_.fillColor,U=void 0===I?"":I,O=_.isNational,F=void 0===O?"NO":O,R=l.useTranslation().t,B="YES"==F,P=t.useState(function(){var e=function(){var e,t,n,l,a,i=Digit.SessionStorage.get("DSS_FILTERS"),r=null!=i&&null!==(e=i.range)&&void 0!==e&&e.startDate?new Date(null==i||null===(t=i.range)||void 0===t?void 0:t.startDate):g(A(new Date),3),o=null!=i&&null!==(n=i.range)&&void 0!==n&&n.endDate?new Date(null==i||null===(l=i.range)||void 0===l?void 0:l.endDate):g(M(new Date),3);return{startDate:r,endDate:o,title:pe(r,"MMM d, yyyy")+" - "+pe(o,"MMM d, yyyy"),interval:Digit.Utils.dss.getDuration(r,o),denomination:(null==i?void 0:i.denomination)||"Unit",tenantId:(null==i||null===(a=i.filters)||void 0===a?void 0:a.tenantId)||[]}}(),t=e.startDate,n=e.endDate,l=e.title,a=e.interval,i=e.tenantId;return{range:{startDate:t,endDate:n,title:l,interval:a},requestDate:{startDate:t.getTime(),endDate:n.getTime(),interval:a,title:l},filters:{tenantId:i}}}),H=P[0],z=P[1],W=t.useState(!1),j=W[0],K=W[1],V=function(e){Digit.SessionStorage.set("DSS_FILTERS",e),z(e)},q=Digit.Hooks.useModuleTenants("DSS"),Y=q.data,G=q.isLoading,X=t.useMemo(function(){return{value:H,setValue:V}},[H]),Q=Digit.Hooks.dss.useMDMS(w,"tenant",["nationalInfo"],{select:function(e){var t,n=((null==e||null===(t=e.tenant)||void 0===t?void 0:t.nationalInfo)||[]).reduce(function(e,t){return e[t.stateCode]?e[t.stateCode].push(t):e[t.stateCode]=[t],c({},e)},{}),l={ddr:[],ulb:[]};return Object.keys(n).map(function(e){var t,a,i=null===(t=n[e])||void 0===t?void 0:t[0].stateName;l.ddr.push({code:e,ddrKey:i,ulbKey:i}),(a=l.ulb).push.apply(a,n[e].map(function(e){return{code:e.code,ulbKey:e.name,ddrKey:e.stateName}}))}),l},enabled:B}).data,J=function(e){var t;V(c({},H,{filters:c({},null==H?void 0:H.filters,{tenantId:[].concat(null==H||null===(t=H.filters)||void 0===t?void 0:t.tenantId).filter(function(t,n){return n!==e})})}))},Z=function(e){var t,n,l=[].concat(null==H||null===(t=H.filters)||void 0===t?void 0:t.state).filter(function(t,n){return n!==e}),a=(null==H||null===(n=H.filters)||void 0===n?void 0:n.ulb)||[];if(0==(null==l?void 0:l.length))a=[];else{var i,r,o=null==Q||null===(i=Q.ulb)||void 0===i||null===(r=i.filter(function(e){return Digit.Utils.dss.getCitiesAvailable(e,l)}))||void 0===r?void 0:r.map(function(e){return null==e?void 0:e.code});a=a.filter(function(e){return o.includes(e)})}V(c({},H,{filters:c({},null==H?void 0:H.filters,{state:l,ulb:a})}))},$=function(e){var t;V(c({},H,{filters:c({},null==H?void 0:H.filters,{ulb:[].concat(null==H||null===(t=H.filters)||void 0===t?void 0:t.ulb).filter(function(t,n){return n!==e})})}))};return G?n.createElement(a.Loader,null):n.createElement(Te.Provider,{value:X},n.createElement(a.Header,null,R(L)),F?n.createElement(Ne,{t:R,ulbTenants:Q,isNational:F}):n.createElement(Le,{t:R,ulbTenants:F?Q:Y,isNational:B}),(null==H||null===(i=H.filters)||void 0===i||null===(r=i.tenantId)||void 0===r?void 0:r.length)>0&&n.createElement("div",{className:"tag-container"},!j&&(null==H||null===(o=H.filters)||void 0===o?void 0:o.tenantId)&&H.filters.tenantId.slice(0,5).map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:R("DSS_HEADER_ULB")+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return J(t)}})}),(null==H||null===(u=H.filters)||void 0===u||null===(s=u.tenantId)||void 0===s?void 0:s.length)>6&&n.createElement(Fragment,null,j&&H.filters.tenantId.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:R("DSS_HEADER_ULB")+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return J(t)}})}),!j&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return K(!0)}},R("DSS_FILTER_SHOWALL")),j&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return K(!1)}},R("DSS_FILTER_SHOWLESS"))),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){V(c({},H,{filters:c({},null==H?void 0:H.filters,{tenantId:[]})}))}},R("DSS_FILTER_CLEAR"))),(null==H||null===(d=H.filters)||void 0===d||null===(v=d.state)||void 0===v?void 0:v.length)>0&&n.createElement("div",{className:"tag-container"},!j&&(null==H||null===(m=H.filters)||void 0===m?void 0:m.state)&&H.filters.state.slice(0,5).map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:R("DSS_HEADER_STATE")+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return Z(t)}})}),(null==H||null===(f=H.filters)||void 0===f||null===(p=f.state)||void 0===p?void 0:p.length)>6&&n.createElement(Fragment,null,j&&H.filters.state.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:R("DSS_HEADER_STATE")+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return Z(t)}})}),!j&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return K(!0)}},R("DSS_FILTER_SHOWALL")),j&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return K(!1)}},R("DSS_FILTER_SHOWLESS"))),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){V(c({},H,{filters:c({},null==H?void 0:H.filters,{state:[],ulb:[]})}))}},R("DSS_FILTER_CLEAR_ST"))),(null==H||null===(h=H.filters)||void 0===h||null===(D=h.ulb)||void 0===D?void 0:D.length)>0&&n.createElement("div",{className:"tag-container"},!j&&(null==H||null===(E=H.filters)||void 0===E?void 0:E.ulb)&&H.filters.ulb.slice(0,5).map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:R("DSS_HEADER_ULB")+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return $(t)}})}),(null==H||null===(y=H.filters)||void 0===y||null===(S=y.ulb)||void 0===S?void 0:S.length)>6&&n.createElement(Fragment,null,j&&H.filters.ulb.map(function(e,t){return n.createElement(a.RemoveableTag,{key:t,text:R("DSS_HEADER_ULB")+": "+R("DSS_TB_"+Digit.Utils.locale.getTransformedLocale(e)),onClick:function(){return $(t)}})}),!j&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return K(!0)}},R("DSS_FILTER_SHOWALL")),j&&n.createElement("p",{className:"clearText cursorPointer",onClick:function(){return K(!1)}},R("DSS_FILTER_SHOWLESS"))),n.createElement("p",{className:"clearText cursorPointer",onClick:function(){V(c({},H,{filters:c({},null==H?void 0:H.filters,{ulb:[]})}))}},R("DSS_FILTER_CLEAR_TN"))),"table"===N&&n.createElement(Et,{header:L,showDownload:!0,showSearch:!0,className:"fullWidth",onChange:function(e){return C(e.target.value)},showHeader:!1},n.createElement(ht,{data:{id:x},onSearch:T})),"performing-metric"===N&&n.createElement(Et,{header:L,subHeader:"("+R("SUB_"+L)+")",showHeader:!1,className:"fullWidth"},n.createElement(He,{data:{id:x},fillColor:U,title:L,showDrillDown:!1})))},wn=function(e){var i=e.question,r=e.answer,o=e.index,u=e.lastIndex,s=e.subAnswer,d=e.acrynom,c=t.useState(!1),v=c[0],m=c[1],f=l.useTranslation().t,g=Digit.StoreData.getCurrentLanguage();return n.createElement("div",{className:"faqs border-none",onClick:function(){return m(!v)}},n.createElement("div",{className:"faq-question",style:{justifyContent:"space-between",display:"flex"}},n.createElement("span",{style:{fontWeight:700}},o+". "+f(i)),n.createElement("span",{className:v?"faqicon rotate":"faqicon",style:{float:"right"}},n.createElement(a.ArrowForward,null))),n.createElement("div",{className:"faq-answer",style:v?{display:"block"}:{display:"none"}},n.createElement("div",{style:{marginTop:"-20px"}},null==r?void 0:r.map(function(e,t){return n.createElement("span",{style:{color:"#000",marginTop:"20px",marginBottom:"20px"}},f(e.ans))}),null==d?void 0:d.map(function(e,t){return n.createElement("div",null," ",n.createElement("span",{style:{color:"#000",marginTop:1===o?0===t?"20px":"0px":"20px",marginBottom:1===o?0===t?"20px":"0px":"20px"}},f(e.acr)),n.createElement("span",{style:{color:"#000",marginTop:1===o?0===t?"-40px":"-20px":"20px",marginBottom:1===o?14===t?"20px":"0px":"20px",marginLeft:"hi_IN"===g?"115px":"60px"}},f(e.fullForm)))}),null==r?void 0:r.map(function(e){return n.createElement("span",{style:{color:"#000",marginLeft:"30px"}},e.point?"•":null,n.createElement("div",{style:{marginTop:"-21px",marginLeft:"15px"}},f(e.point)))})),n.createElement("div",null,null==s?void 0:s.map(function(e){return n.createElement("span",{style:{color:"#000",marginBottom:"20px"}},f(e.ans))}),null==s?void 0:s.map(function(e){return n.createElement("span",{style:{color:"#000",marginLeft:"30px"}},e.point?"•":null,n.createElement("div",{style:{marginTop:"-21px",marginLeft:"15px"}},f(e.point)))}))),u?null:n.createElement("div",{className:"cs-box-border"}))},bn=function(){var e,i,r,o=Digit.UserService.getUser(),u=((null==o||null===(e=o.info)||void 0===e?void 0:e.tenantId)||Digit.ULBService.getCurrentTenantId(),l.useTranslation().t),s=Digit.Hooks.useGetDSSFAQsJSON(Digit.ULBService.getStateId()),d=s.data,c=null==d||null===(i=d.MdmsRes["dss-dashboard"])||void 0===i||null===(r=i.FAQs[0])||void 0===r?void 0:r.DSS.FAQs;return s.isLoading?n.createElement(a.Loader,null):n.createElement(t.Fragment,null,n.createElement("div",{className:"faq-page"},n.createElement("div",{style:{marginBottom:"15px"}},n.createElement(a.Header,{styles:{marginLeft:"0px",paddingTop:"10px",fontSize:"36px"}},u("DSS_FAQS"))),n.createElement("div",{className:"faq-list"},c.map(function(e,t){return n.createElement(wn,{key:"FAQ"+t,question:e.question,acrynom:e.acrynom,answer:e.answer,subAnswer:e.subAnswer,index:t+1})}))))},Tn=function(){var e,i,r=l.useTranslation().t,o=Digit.Hooks.useGetDSSAboutJSON(Digit.ULBService.getStateId()),u=o.data,s=null==u||null===(e=u.MdmsRes["dss-dashboard"])||void 0===e||null===(i=e.About[0])||void 0===i?void 0:i.DSS.About;return o.isLoading?n.createElement(a.Loader,null):n.createElement(t.Fragment,null,n.createElement(a.Header,{styles:{marginLeft:"15px",paddingTop:"10px",fontSize:"36px"}},r("DSS_ABOUT_DASHBOARD")),n.createElement(a.Card,null,s.map(function(e){var t,l,i;return n.createElement("div",null,n.createElement(a.CardSubHeader,{style:(t={marginBottom:"0",fontSize:"24px"},t.marginBottom="10px",t)},r(null==e?void 0:e.titleHeader)),n.createElement("div",{style:{fontSize:"16px",marginBottom:"20px"}},function(e){for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join(" ")}(null==e?void 0:e.define)),null!=e&&e.definePoints?n.createElement("div",null,null==e||null===(l=e.definePoints)||void 0===l?void 0:l.map(function(e,t){return n.createElement("div",{style:{fontSize:"16px",marginLeft:"15px",marginBottom:"20px"}},"•",n.createElement("div",{style:{marginTop:"-25px",marginLeft:"15px"}},r(null==e?void 0:e.point)))})):null,n.createElement("div",{style:{fontSize:"16px",marginBottom:"20px"}},r(null==e?void 0:e.subdefine)),null!=e&&e.subdefinePoints?n.createElement("div",null,null==e||null===(i=e.subdefinePoints)||void 0===i?void 0:i.map(function(e,t){return n.createElement("div",{style:{fontSize:"16px",marginLeft:"15px",marginBottom:"20px"}},"•",n.createElement("div",{style:{marginTop:"-25px",marginLeft:"15px"}},r(null==e?void 0:e.point)))})):null)})))},Cn=function(e){var t,i,r,o,u,s,d,c,v,m=e.location,f=l.useTranslation().t,g=Digit.Hooks.useQueryParams(),p=g.fromModule,h=void 0!==p&&p,D=g.title,E=Digit.Utils.dss.getCurrentModuleName(),y=["works-ui","sanitation-ui"],S=[{path:"/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee",content:f("ES_COMMON_HOME"),show:!0},{path:be()||window.location.href.includes("NURT_DASHBOARD")?"/"+(null===(i=window)||void 0===i?void 0:i.contextPath)+"/employee/dss/landing/NURT_DASHBOARD":"/"+(null===(r=window)||void 0===r?void 0:r.contextPath)+"/employee/dss/landing/home",content:f("ES_LANDING_PAGE"),show:null==y||!y.includes(null===(o=window)||void 0===o?void 0:o.contextPath)},{path:h?"/"+(null===(u=window)||void 0===u?void 0:u.contextPath)+"/employee/dss/dashboard/"+h:"/"+(null===(s=window)||void 0===s?void 0:s.contextPath)+"/employee/dss/dashboard/"+Digit.Utils.dss.getCurrentModuleName(),content:f("ES_COMMON_DSS_"+Digit.Utils.locale.getTransformedLocale(h||E)),show:!!m.pathname.includes("dashboard")},{path:"/"+(null===(d=window)||void 0===d?void 0:d.contextPath)+"/employee/dss/drilldown",content:m.pathname.includes("drilldown")?f(D):f("ES_COMMON_DSS_DRILL"),show:!!m.pathname.includes("drilldown")},{path:"/"+(null===(c=window)||void 0===c?void 0:c.contextPath)+"/employee/dss/national-faqs",content:f("ES_COMMON_DSS_FAQS"),show:!!m.pathname.includes("national-faqs")},{path:"/"+(null===(v=window)||void 0===v?void 0:v.contextPath)+"/employee/dss/national-about",content:f("ES_COMMON_DSS_ABOUT"),show:!!m.pathname.includes("national-about")}];return n.createElement(a.BreadCrumb,{crumbs:null==S?void 0:S.filter(function(e){return e.show})})},_n=function(e){var t=e.path,l=e.stateCode,r=i.useLocation(),o=window.Digit.Utils.browser.isMobile();return n.createElement("div",{className:"chart-wrapper",style:o?{marginTop:"unset"}:{}},n.createElement(Cn,{location:r}),n.createElement(i.Switch,null,n.createElement(a.PrivateRoute,{path:t+"/landing/:moduleCode",component:function(){return n.createElement(yn,{stateCode:l})}}),n.createElement(a.PrivateRoute,{path:t+"/dashboard/:moduleCode",component:function(){return n.createElement(Mt,{stateCode:l})}}),n.createElement(a.PrivateRoute,{path:t+"/drilldown",component:function(){return n.createElement(Sn,{stateCode:l})}}),n.createElement(i.Route,{key:"national-faq",path:t+"/national-faqs"},n.createElement(bn,null)),n.createElement(i.Route,{key:"national-about",path:t+"/national-about"},n.createElement(Tn,null))))},xn={DSSModule:function(e){var t=e.stateCode,l=e.userType,r=e.tenants,o=i.useRouteMatch().path,u=Digit.StoreData.getCurrentLanguage(),s=Digit.ULBService.getCurrentTenantId();return Digit.Services.useStore({stateCode:t,moduleCode:["DSS","common-masters",s],language:u}).isLoading?n.createElement(a.Loader,null):(Digit.SessionStorage.set("DSS_TENANTS",r),"citizen"!==l?n.createElement(_n,{path:o,stateCode:t}):void 0)},DSSCard:function(){var e,t=Digit.UserService.hasAccess("STADMIN"),i=l.useTranslation().t;if(!t)return null;var r=Object.values(we).filter(function(e){return!0===e.active}).map(function(e){var t;return{label:i(null==e?void 0:e.label),link:e.active?"/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee/dss/dashboard/"+(null==e?void 0:e.stateKey):"/employee/integration/dss/"+(null==e?void 0:e.stateKey)}}),o={headerStyle:{border:"none",height:"48px"},moduleName:i("ES_TITLE_DSS"),subHeader:i("ACTION_TEST_SURE_DASHBOARD"),subHeaderLink:"/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/dss/landing/home",className:"employeeCard card-home customEmployeeCard full-width-card full-employee-card-height",links:[].concat(r)};return n.createElement(a.ModuleCardFullWidth,c({},o,{styles:{width:"100%"}}))},NDSSCard:function(){var e,t=Digit.UserService.hasAccess("NATADMIN"),i=l.useTranslation().t;if(!t)return null;var r=Object.values(we).filter(function(e){return!0===e.nActive}).map(function(e){var t,n,l,a;return(a={label:i(null==e?void 0:e.label),link:"/"+(null===(t=window)||void 0===t?void 0:t.contextPath)+"/employee/dss/dashboard/"+(null==e?void 0:e.key)}).link=null!=e&&e.others?"/"+(null===(n=window)||void 0===n?void 0:n.contextPath)+"/employee/dss/"+(null==e?void 0:e.key):"/"+(null===(l=window)||void 0===l?void 0:l.contextPath)+"/employee/dss/dashboard/"+(null==e?void 0:e.key),a}),o={headerStyle:{border:"none",height:"48px"},moduleName:i("ACTION_TEST_NATDASHBOARD"),subHeader:i("ACTION_TEST_NATDASHBOARD"),subHeaderLink:"/"+(null===(e=window)||void 0===e?void 0:e.contextPath)+"/employee/dss/landing/NURT_DASHBOARD",className:"employeeCard customEmployeeCard card-home full-width-card full-employee-card-height",links:[].concat(r)};return n.createElement(a.ModuleCardFullWidth,o)}};exports.initDSSComponents=function(){Object.entries(xn).forEach(function(e){Digit.ComponentRegistryService.setComponent(e[0],e[1])})};
